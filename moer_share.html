<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPU vs GPU vs NPU 核心架构解析</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #151515;
            --panel-bg: #222;
            --text-main: #ffffff;
            --accent-amber: #ffc033;
            --accent-cyan: #33ffff;
            --accent-red: #ff6666;
            --accent-green: #66ff66;
            --grid-line: #333;
            --scanline: rgba(0, 0, 0, 0.2);
        }

        @keyframes scanline {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 0 100%;
            }
        }

        @keyframes flicker {
            0% {
                opacity: 0.97;
            }

            5% {
                opacity: 0.95;
            }

            10% {
                opacity: 0.9;
            }

            15% {
                opacity: 0.95;
            }

            20% {
                opacity: 0.99;
            }

            50% {
                opacity: 0.95;
            }

            55% {
                opacity: 0.9;
            }

            60% {
                opacity: 0.99;
            }

            100% {
                opacity: 0.97;
            }
        }

        @keyframes grid-scroll {
            0% {
                transform: translate3d(0, 0, 0);
            }

            100% {
                transform: translate3d(30px, 30px, 0);
            }
        }

        body {
            font-family: 'VT323', 'Courier New', 'Microsoft YaHei', monospace;
            font-size: 1.2rem;
            line-height: 1.6;
            color: var(--text-main);
            text-shadow: 0 0 3px rgba(0, 255, 255, 0.4);
            background: radial-gradient(circle at center, #353535 0%, #1a1a1a 100%);
            margin: 0;
            padding: 0;
            overflow: hidden;
            /* Full screen PPT mode */
            cursor: none;
            height: 100vh;
            width: 100vw;
        }

        /* Music Toggle Button - Cassette Futurism Style */
        .music-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 10000;

            /* Retro Plastic Body */
            background: #1a1a1a;
            border: 1px solid #333;

            /* Bevel & Depth */
            box-shadow:
                inset 1px 1px 0px rgba(255, 255, 255, 0.1),
                inset -1px -1px 0px rgba(0, 0, 0, 0.5),
                4px 4px 0px rgba(0, 0, 0, 0.5);

            color: #555;
            /* Off state text */
            padding: 6px 12px;
            /* Smaller size */

            cursor: pointer;
            font-family: 'VT323', monospace;
            font-size: 1.1rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            font-weight: bold;

            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);

            /* Decorative angled corners */
            clip-path: polygon(8px 0, 100% 0,
                    100% calc(100% - 8px),
                    calc(100% - 8px) 100%,
                    0 100%, 0 8px);
        }

        /* The "LED" indicator strip */
        .music-toggle::before {
            content: '';
            width: 8px;
            height: 8px;
            background: #330000;
            /* Dark Red */
            border-radius: 50%;
            box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.8);
            transition: all 0.3s;
            border: 1px solid #000;
        }

        .music-toggle:hover {
            background: #222;
            color: #777;
            transform: translate(-1px, -1px);
            box-shadow:
                inset 1px 1px 0px rgba(255, 255, 255, 0.1),
                inset -1px -1px 0px rgba(0, 0, 0, 0.5),
                5px 5px 0px rgba(0, 0, 0, 0.5);
        }

        .music-toggle:active {
            transform: translate(2px, 2px);
            box-shadow:
                inset 2px 2px 5px rgba(0, 0, 0, 0.8),
                0px 0px 0px rgba(0, 0, 0, 0);
        }

        /* Playing State */
        .music-toggle.playing {
            color: #ffaa00;
            /* Retro Amber */
            text-shadow: 0 0 8px rgba(255, 170, 0, 0.6);
            background: #1a1a1a;
            border-color: #553300;
        }

        .music-toggle.playing::before {
            background: #ff3300;
            /* Bright Red LED */
            box-shadow: 0 0 8px #ff3300, inset 1px 1px 2px rgba(255, 255, 255, 0.4);
            border-color: #880000;
        }

        .music-toggle.playing:hover {
            color: #ffcc00;
            text-shadow: 0 0 12px rgba(255, 170, 0, 0.8);
        }

        .universe-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at bottom, #2b3745 0%, #15151a 100%);
            z-index: -2;
            overflow: hidden;
        }

        .stars {
            width: 1px;
            height: 1px;
            background: transparent;
            box-shadow: 1744px 122px #FFF, 134px 1321px #FFF, 92px 859px #FFF;
            animation: animStar 50s linear infinite;
        }

        .stars2 {
            width: 2px;
            height: 2px;
            background: transparent;
            box-shadow: 1744px 122px #FFF, 134px 1321px #FFF, 92px 859px #FFF;
            animation: animStar 100s linear infinite;
        }

        .stars3 {
            width: 3px;
            height: 3px;
            background: transparent;
            box-shadow: 1744px 122px #FFF, 134px 1321px #FFF, 92px 859px #FFF;
            animation: animStar 150s linear infinite;
        }

        @keyframes animStar {
            from {
                transform: translateY(0px);
            }

            to {
                transform: translateY(-2000px);
            }
        }

        /* Navigation Menu */
        .nav-menu-container {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 2000;
            /* Higher than everything */
            font-family: 'VT323', monospace;
            font-size: 1.2rem;

            /* Always visible */
            opacity: 1;
            pointer-events: auto;
            transform: none;
            filter: none;

            /* Snappy Retro Transition */
            transition: all 0.3s ease;
        }

        /* Invisible hover area to reveal menu - Removed/Disabled */
        .nav-trigger-area {
            display: none;
        }

        /* Show menu when hovering trigger area OR the menu itself */
        .nav-menu-container:hover {
            z-index: 2002;
        }

        .nav-toggle {
            /* Strong Retro-Tech Style (Amber) */
            background: rgba(20, 15, 5, 0.95);
            border: 2px solid var(--accent-amber);
            border-left: 4px solid var(--accent-amber);
            color: var(--accent-amber);
            padding: 6px 12px;
            cursor: pointer;
            font-family: 'VT323', monospace;
            font-size: 1.1rem;
            text-transform: uppercase;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 8px;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
            box-shadow:
                0 0 10px rgba(255, 193, 7, 0.3),
                inset 0 0 20px rgba(255, 193, 7, 0.1);
            text-shadow: 0 0 5px var(--accent-amber);
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2003;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 95% 100%, 0 100%);
            /* Cut corner */
        }

        /* Scanline Overlay */
        .nav-toggle::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom,
                    transparent 50%,
                    rgba(255, 193, 7, 0.1) 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 1;
        }

        .nav-toggle:hover {
            background: rgba(255, 193, 7, 0.2);
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.6);
            padding-left: 25px;
            /* Mechanical slide effect */
            text-shadow: 0 0 8px var(--accent-amber), 0 0 15px #fff;
            letter-spacing: 3px;
        }

        .nav-toggle:active {
            transform: scale(0.98) translateY(2px);
            box-shadow: 0 0 5px rgba(255, 193, 7, 0.8);
        }

        /* =========================================
           GLOBAL SLIDE & NAVIGATION STYLES
           ========================================= */
        .slide-container {
            width: 100%;
            height: 100%;
            position: relative;
            display: flex;
            flex-direction: column;
            padding: 40px 60px;
            box-sizing: border-box;
        }

        .slide-header {
            height: 50px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #333;
            margin-bottom: 10px;
            flex-shrink: 0;
        }

        .slide-header h2 {
            margin: 0;
            font-size: 1.8rem;
            color: var(--accent-cyan);
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .slide-content {
            flex: 1;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .slide-footer {
            position: absolute;
            bottom: 20px;
            left: 30px;
            /* Bottom Left */
            font-family: 'VT323', monospace;
            color: var(--accent-green);
            font-size: 1.5rem;
            letter-spacing: 2px;
            z-index: 100;
            text-shadow: 0 0 5px var(--accent-green);
            pointer-events: none;
        }

        .nav-btn {
            position: fixed;
            top: 50%;
            transform: translateY(-50%);
            width: 60px;
            height: 60px;
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid var(--accent-cyan);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 9999;
            transition: all 0.3s;
            color: var(--accent-cyan);
            font-size: 2rem;
            backdrop-filter: blur(5px);
        }

        .nav-btn:hover {
            background: var(--accent-cyan);
            color: #000;
            box-shadow: 0 0 20px var(--accent-cyan);
            transform: translateY(-50%) scale(1.1);
        }

        .nav-btn:active {
            transform: translateY(-50%) scale(0.95);
        }

        .nav-btn.prev {
            left: 20px;
        }

        .nav-btn.next {
            right: 20px;
        }

        .nav-btn.prev::before {
            content: '❮';
        }

        .nav-btn.next::before {
            content: '❯';
        }

        /* Standardize Reveal Sections */
        section.reveal {
            display: none;
            /* JS controls this */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
            z-index: 1;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        section.reveal.active {
            display: flex;
            /* Flex to support slide-container */
            flex-direction: column;
            opacity: 1;
            z-index: 10;
            pointer-events: auto;
        }

        /* NPU Visual Assets (Moved from local style) */
        .v-chip-large {
            width: 220px;
            height: 220px;
            background: #1a1a1a;
            border: 2px solid #666;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }

        .v-chip-inner {
            width: 180px;
            height: 180px;
            border: 1px dashed #444;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .v-chip-text {
            font-size: 4rem;
            font-weight: 900;
            color: #fff;
        }

        .v-chip-sub {
            font-size: 1rem;
            color: #888;
            margin-top: 5px;
            text-transform: uppercase;
        }

        .v-pin {
            position: absolute;
            background: #d4af37;
        }

        .vp-t {
            top: -6px;
            width: 6px;
            height: 6px;
        }

        .vp-b {
            bottom: -6px;
            width: 6px;
            height: 6px;
        }

        .vp-l {
            left: -6px;
            width: 6px;
            height: 6px;
        }

        .vp-r {
            right: -6px;
            width: 6px;
            height: 6px;
        }

        /* Da Vinci Scene */
        .d-scene {
            perspective: 1200px;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .d-stage {
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(-20deg) rotateY(45deg) scale(1.2);
            width: 0;
            height: 0;
            animation: stage-float 10s infinite ease-in-out;
        }

        @keyframes stage-float {

            0%,
            100% {
                transform: rotateX(-20deg) rotateY(45deg) scale(1.2);
            }

            50% {
                transform: rotateX(-25deg) rotateY(50deg) scale(1.2);
            }
        }

        .d-cube {
            position: absolute;
            width: 24px;
            height: 24px;
            transform-style: preserve-3d;
            transform: translate3d(calc(var(--x) * 28px), calc(var(--y) * 28px), calc(var(--z) * 28px));
        }

        .d-face {
            position: absolute;
            width: 24px;
            height: 24px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-sizing: border-box;
            opacity: 0.8;
        }

        .d-f-front {
            transform: translateZ(12px);
        }

        .d-f-back {
            transform: rotateY(180deg) translateZ(12px);
        }

        .d-f-right {
            transform: rotateY(90deg) translateZ(12px);
        }

        .d-f-left {
            transform: rotateY(-90deg) translateZ(12px);
        }

        .d-f-top {
            transform: rotateX(90deg) translateZ(12px);
        }

        .d-f-bottom {
            transform: rotateX(-90deg) translateZ(12px);
        }

        .dc-blue .d-face {
            background: rgba(33, 150, 243, 0.6);
            border-color: rgba(33, 150, 243, 0.8);
        }

        .dc-yellow .d-face {
            background: rgba(255, 193, 7, 0.6);
            border-color: rgba(255, 193, 7, 0.8);
        }

        .dc-gray .d-face {
            background: rgba(158, 158, 158, 0.15);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .dc-green .d-face {
            background: rgba(76, 175, 80, 0.6);
            border-color: rgba(76, 175, 80, 0.8);
        }

        .d-wireframe {
            position: absolute;
            border: 1px solid rgba(255, 255, 255, 0.4);
            transform-style: preserve-3d;
            pointer-events: none;
        }

        .dw-center {
            width: 84px;
            height: 84px;
            transform: translate3d(-42px, -42px, -42px);
        }

        .dw-face {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .dw-f-front {
            transform: translateZ(42px);
        }

        .dw-f-back {
            transform: translateZ(-42px);
        }

        .dw-f-left {
            transform: rotateY(-90deg) translateZ(42px);
        }

        .dw-f-right {
            transform: rotateY(90deg) translateZ(42px);
        }

        .dw-f-top {
            transform: rotateX(90deg) translateZ(42px);
        }

        .dw-f-bottom {
            transform: rotateX(-90deg) translateZ(42px);
        }

        /* Atlas */
        .atlas-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            perspective: 800px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .atlas-bg-text {
            position: absolute;
            top: 5%;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 8rem;
            font-weight: 900;
            color: rgba(255, 255, 255, 0.03);
            font-family: 'VT323', monospace;
            text-transform: uppercase;
            letter-spacing: 10px;
            pointer-events: none;
            z-index: 0;
        }

        .atlas-rack-row {
            display: flex;
            gap: 20px;
            transform: rotateY(25deg) translateX(-40px);
            transform-style: preserve-3d;
            z-index: 1;
        }

        .atlas-rack {
            width: 60px;
            height: 200px;
            background: linear-gradient(90deg, #2a2a2a, #000);
            border-right: 2px solid #444;
            position: relative;
            box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.6);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .atlas-rack::before {
            content: '';
            width: 100%;
            height: 2px;
            background: #d32f2f;
            margin-top: 20px;
            box-shadow: 0 0 4px #d32f2f;
        }

        .atlas-rack::after {
            content: '';
            flex: 1;
            width: 80%;
            margin: 10px 0;
            background: repeating-linear-gradient(0deg, #111, #111 2px, #333 3px);
        }

        .ar-logo {
            width: 12px;
            height: 12px;
            background: #fff;
            border-radius: 50%;
            margin-top: 8px;
            opacity: 0.7;
        }

        .atlas-zoom-group {
            position: absolute;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 10;
            display: flex;
            align-items: center;
        }

        .atlas-pointer-line {
            width: 80px;
            height: 1px;
            background: #fff;
            transform: rotate(-20deg);
            margin-right: -5px;
            box-shadow: 0 0 5px #fff;
        }

        .atlas-zoom-box {
            width: 200px;
            height: 150px;
            border: 2px solid #fff;
            background: rgba(0, 0, 0, 0.9);
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .atlas-chip-pkg {
            width: 120px;
            height: 100px;
            background: #222;
            border: 1px solid #555;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .atlas-chip-die {
            width: 80px;
            height: 50px;
            background: #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: bold;
            font-size: 1rem;
            border: 1px solid #fff;
        }

        .atlas-chip-dots {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(#555 1px, transparent 1px);
            background-size: 4px 4px;
            opacity: 0.5;
        }

        /* Math Stage */
        .math-stage {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            position: relative;
            font-family: 'VT323', monospace;
        }

        .math-core {
            width: 200px;
            height: 120px;
            background: #000;
            border: 8px solid #666;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 1.8rem;
            font-weight: 900;
            z-index: 10;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
            position: relative;
        }

        .math-core::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            right: 2px;
            bottom: 2px;
            border: 2px solid #2196f3;
            border-radius: 4px;
        }

        .math-panel {
            position: absolute;
            border: 2px solid #ffc107;
            background: rgba(10, 10, 10, 0.95);
            padding: 20px;
            display: flex;
            flex-direction: column;
            color: #fff;
            transition: transform 0.3s;
        }

        .math-panel:hover {
            transform: scale(1.05);
            z-index: 20;
        }

        .math-label {
            color: #ffc107;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
            text-align: left;
        }

        .math-matrices-row {
            display: flex;
            gap: 20px;
        }

        .math-matrix {
            border-left: 2px solid #fff;
            border-right: 2px solid #fff;
            padding: 0 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .mm-row {
            display: flex;
            gap: 10px;
            font-size: 1rem;
            color: #ddd;
            line-height: 1.4;
        }

        .mm-dots {
            transform: rotate(-45deg);
            font-size: 0.8rem;
            margin: 2px 0;
        }

        .mp-int8 {
            right: 50%;
            margin-right: 120px;
            clip-path: polygon(0% 0%, 100% 0%, 100% 40%, 105% 50%, 100% 60%, 100% 100%, 0% 100%);
            padding-right: 30px;
        }

        .mp-fp16 {
            left: 50%;
            margin-left: 120px;
            clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%, 0% 60%, -5% 50%, 0% 40%);
            padding-left: 30px;
        }

        /* Arch Container */
        .arch-container {
            display: flex;
            gap: 15px;
            padding: 20px;
            border: 4px solid #2196f3;
            border-radius: 16px;
            background: #000;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 0 20px rgba(33, 150, 243, 0.3);
        }

        .arch-left {
            flex: 0 0 200px;
            display: flex;
        }

        .arch-cube-core {
            width: 100%;
            border: 2px solid #ffc107;
            border-radius: 10px;
            background: #000;
            color: #fff;
            font-size: 2.5rem;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            line-height: 1.1;
            box-shadow: inset 0 0 10px rgba(255, 193, 7, 0.2);
        }

        .arch-right {
            flex: 1;
            display: grid;
            grid-template-columns: 100px 1fr 100px;
            grid-template-rows: 1fr 1fr;
            gap: 15px;
        }

        .arch-unit {
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1rem;
            color: #fff;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: transform 0.2s;
        }

        .arch-unit:hover {
            transform: scale(1.05);
        }

        .au-dark {
            background: #333;
        }

        .au-gold {
            background: #e6a23c;
            color: #fff;
            font-size: 1.3rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .au-fp {
            font-size: 0.9rem;
            line-height: 1.3;
            color: #ddd;
        }

        /* Scenario Stage */
        .scenario-stage {
            display: flex;
            width: 100%;
            height: 100%;
            align-items: center;
            justify-content: space-evenly;
            perspective: 1000px;
        }

        .scenario-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            width: 180px;
            transition: transform 0.3s;
            cursor: pointer;
        }

        .scenario-item:hover {
            transform: scale(1.1);
        }

        .scenario-bg-text {
            position: absolute;
            top: -50px;
            font-family: 'VT323', monospace;
            font-size: 2.5rem;
            color: transparent;
            -webkit-text-stroke: 1px rgba(255, 193, 7, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
            white-space: nowrap;
        }

        .scenario-visual {
            height: 120px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            transform-style: preserve-3d;
        }

        .scenario-label {
            font-size: 2rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
            padding-bottom: 5px;
            border-bottom: 3px solid transparent;
        }

        .sl-cloud {
            border-color: #2196f3;
        }

        .sl-edge {
            border-color: #ffc107;
        }

        .sl-term {
            border-color: #f44336;
        }

        .s-rack-group {
            display: flex;
            gap: 4px;
            transform: rotateY(-25deg);
        }

        .s-rack {
            width: 18px;
            height: 90px;
            background: #1a1a1a;
            border: 1px solid #333;
            border-top: 2px solid #f44336;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .s-rack::after {
            content: '';
            position: absolute;
            top: 10px;
            left: 2px;
            right: 2px;
            bottom: 5px;
            background: repeating-linear-gradient(0deg, #000, #000 1px, #222 2px);
        }

        .s-box {
            width: 120px;
            height: 45px;
            background: linear-gradient(to bottom, #333, #111);
            border-radius: 2px;
            position: relative;
            transform: rotateX(20deg) rotateY(15deg);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.6);
            border-top: 1px solid #555;
        }

        .s-box::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 2px;
            right: 2px;
            height: 4px;
            background: #f44336;
            box-shadow: 0 0 5px #f44336;
        }

        .s-box-logo {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 24px;
            height: 5px;
            background: #fff;
            opacity: 0.6;
            border-radius: 1px;
        }

        .s-card {
            width: 140px;
            height: 35px;
            background: #222;
            position: relative;
            transform: rotateX(20deg) rotateY(-15deg);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.6);
            border: 1px solid #444;
            overflow: hidden;
        }

        .s-card-fan {
            position: absolute;
            top: 2px;
            bottom: 2px;
            width: 30px;
            background: #444;
            border-radius: 50%;
            border: 1px solid #666;
        }

        .scf-1 {
            left: 18px;
        }

        .scf-2 {
            right: 18px;
        }

        .s-card-red {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 1px;
            background: #f44336;
            z-index: 2;
        }

        /* Family Stage */
        .family-stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            width: 100%;
            padding-top: 10px;
        }

        .fs-root-chip {
            width: 140px;
            height: 140px;
            background: #1a1a1a;
            border: 2px solid #555;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            z-index: 2;
        }

        .fs-root-chip::before {
            content: '';
            position: absolute;
            top: -6px;
            bottom: -6px;
            left: 15px;
            right: 15px;
            border-top: 6px dashed #ffc107;
            border-bottom: 6px dashed #ffc107;
            z-index: -1;
        }

        .fs-root-chip::after {
            content: '';
            position: absolute;
            left: -6px;
            right: -6px;
            top: 15px;
            bottom: 15px;
            border-left: 6px dashed #ffc107;
            border-right: 6px dashed #ffc107;
            z-index: -1;
        }

        .fs-root-text {
            font-size: 3.5rem;
            font-weight: 900;
            color: #fff;
            font-family: sans-serif;
            letter-spacing: 2px;
        }

        .fs-connector {
            margin: 10px 0 20px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 80%;
        }

        .fs-c-arrow {
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 20px solid #2196f3;
            margin-bottom: -1px;
        }

        .fs-c-bar {
            width: 100%;
            height: 8px;
            background: #2196f3;
            position: relative;
        }

        .fs-c-drop {
            position: absolute;
            top: 8px;
            width: 8px;
            height: 30px;
            background: #2196f3;
        }

        .fs-drop-l {
            left: 15%;
        }

        .fs-drop-c {
            left: 50%;
            transform: translateX(-50%);
        }

        .fs-drop-r {
            right: 15%;
        }

        .fs-children {
            display: flex;
            justify-content: space-between;
            width: 90%;
        }

        .fs-child {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 32%;
            opacity: 0;
            animation: fade-up 0.5s forwards;
        }

        .fs-child:nth-child(1) {
            animation-delay: 0.2s;
        }

        .fs-child:nth-child(2) {
            animation-delay: 0.4s;
        }

        .fs-child:nth-child(3) {
            animation-delay: 0.6s;
        }

        @keyframes fade-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fs-chip-box {
            width: 100px;
            height: 100px;
            background: #fff;
            border: 3px solid #2196f3;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .fs-label {
            font-size: 1.3rem;
            color: #ccc;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .fc-meta {
            background: #e0e0e0;
        }

        .fc-meta-die {
            width: 70%;
            height: 70%;
            background: linear-gradient(135deg, #ccc, #999);
            border: 1px solid #888;
        }

        .fc-huawei {
            background: #f5f5f5;
        }

        .fc-huawei-hs {
            width: 80%;
            height: 80%;
            background: linear-gradient(to bottom, #dcdcdc, #fff);
            border: 1px solid #bbb;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fc-huawei-logo {
            width: 25px;
            height: 25px;
            background: #d32f2f;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        .fc-google {
            background: #e0e0e0;
        }

        .fc-google-die {
            width: 70%;
            height: 70%;
            background: #333;
            border: 2px solid #888;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2px;
            padding: 2px;
        }

        .fc-g-core {
            background: #666;
        }


        /* 按钮扫光效果 */
        .nav-toggle::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: rotate(45deg);
            animation: button-shine 3s infinite;
        }

        @keyframes button-shine {
            0% {
                transform: translateX(-100%) rotate(45deg);
            }

            20% {
                transform: translateX(100%) rotate(45deg);
            }

            100% {
                transform: translateX(100%) rotate(45deg);
            }
        }

        .nav-toggle:active {
            transform: translateY(4px);
            box-shadow: 0 0 5px rgba(0, 255, 255, 0.4);
        }

        @keyframes nav-grid-scroll {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 20px 20px;
            }
        }

        .nav-list {
            background: #0a0a0a;
            /* Moving Retro Grid Background */
            background-image:
                linear-gradient(rgba(51, 255, 255, 0.15) 1px, transparent 1px),
                linear-gradient(90deg, rgba(51, 255, 255, 0.15) 1px, transparent 1px);
            background-size: 30px 30px;
            animation: nav-grid-scroll 20s linear infinite;

            /* Strong Cassette Futurism Bezel */
            border: 4px solid #444;
            border-top: 15px solid #555;
            /* Top heavy bezel */
            border-bottom: 15px solid #555;
            /* Bottom heavy bezel */
            border-radius: 10px;

            box-shadow:
                0 0 0 4px #222,
                /* Outer casing */
                0 0 30px rgba(0, 0, 0, 0.8),
                /* Drop shadow */
                inset 0 0 20px rgba(0, 0, 0, 0.8);
            /* Inner depth */

            list-style: none;
            padding: 20px;
            margin: 0;
            width: 320px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            display: none;
            /* Hidden by default */

            /* Hide scrollbar */
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* IE/Edge */
        }

        .nav-list::-webkit-scrollbar {
            display: none;
            /* Chrome, Safari, Opera */
        }

        /* Show list on hover */
        .nav-menu-container:hover .nav-list {
            display: block;
        }

        /* 导航栏内部装饰条 - Retro LED Strip */
        .nav-list::before {
            content: "";
            display: block;
            width: 100%;
            height: 8px;
            background: repeating-linear-gradient(90deg,
                    #ff3333,
                    #ff3333 5px,
                    #440000 5px,
                    #440000 10px);
            margin-bottom: 15px;
            border: 1px solid #000;
            box-shadow: 0 0 5px #ff0000;
            animation: led-strip-scroll 1s linear infinite;
        }

        @keyframes led-strip-scroll {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 10px 0;
            }
        }

        /* Status Light */
        .nav-list::after {
            content: "";
            position: absolute;
            top: 10px;
            right: 10px;
            width: 8px;
            height: 8px;
            background: #00ff00;
            border-radius: 50%;
            box-shadow: 0 0 5px #00ff00;
            animation: status-blink 2s infinite;
        }

        @keyframes status-blink {

            0%,
            100% {
                opacity: 1;
                box-shadow: 0 0 8px #00ff00;
            }

            50% {
                opacity: 0.3;
                box-shadow: 0 0 2px #00ff00;
            }
        }

        .nav-item {
            margin-bottom: 8px;
            border-bottom: 1px dashed #444;
            padding-bottom: 5px;
        }

        .nav-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        @keyframes retro-neon-flicker {

            0%,
            100% {
                text-shadow: 0 0 2px var(--accent-cyan), 0 0 5px rgba(0, 255, 255, 0.5);
                opacity: 1;
            }

            95% {
                text-shadow: 0 0 2px var(--accent-cyan), 0 0 5px rgba(0, 255, 255, 0.5);
                opacity: 1;
            }

            96% {
                text-shadow: none;
                opacity: 0.5;
            }

            97% {
                text-shadow: 0 0 2px var(--accent-cyan), 0 0 5px rgba(0, 255, 255, 0.5);
                opacity: 1;
            }

            98% {
                text-shadow: none;
                opacity: 0.6;
            }

            99% {
                text-shadow: 0 0 2px var(--accent-cyan), 0 0 5px rgba(0, 255, 255, 0.5);
                opacity: 1;
            }
        }

        .nav-link {
            color: var(--accent-cyan);
            text-decoration: none;
            font-size: 1.1rem;
            /* Larger retro font */
            display: block;
            transition: all 0.1s;
            cursor: pointer;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            padding: 4px 8px;
            border-radius: 0;
            font-family: 'VT323', monospace;
            letter-spacing: 1px;

            /* Retro Neon Effect */
            text-shadow: 0 0 2px var(--accent-cyan);
            animation: retro-neon-flicker 3s infinite;
        }

        .nav-link:hover {
            color: #111;
            background: var(--accent-cyan);
            text-shadow: none;
            padding-left: 12px;
            box-shadow: 0 0 10px var(--accent-cyan);
            font-weight: bold;
        }

        .nav-link::before {
            content: ">";
            color: var(--accent-cyan);
            margin-right: 8px;
            display: inline-block;
        }

        .nav-link:hover::before {
            color: #111;
        }

        .nav-link:hover::before {
            opacity: 1;
            text-shadow: 0 0 5px var(--accent-cyan);
        }

        /* Custom Cursor Container - Handles Position Only */
        .custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            pointer-events: none;
            z-index: 9999;
            opacity: 0;
            /* Start hidden */
            transition: opacity 0.5s ease;
        }

        /* Custom Cursor Visuals - Handles Shape & Animation */
        .cursor-inner {
            position: absolute;
            top: 0;
            left: 0;
            width: 40px;
            height: 40px;
            border: 1px solid var(--accent-green);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.2s, height 0.2s, background-color 0.2s, border-color 0.2s;
            mix-blend-mode: difference;
            box-shadow: 0 0 8px var(--accent-green), inset 0 0 5px rgba(51, 255, 51, 0.2);
            z-index: 2;
        }

        /* CRT Scan Effect Layer */
        .cursor-scan {
            position: absolute;
            top: 0;
            left: 0;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            background: repeating-linear-gradient(to bottom,
                    transparent 0px,
                    transparent 2px,
                    rgba(51, 255, 51, 0.2) 2px,
                    rgba(51, 255, 51, 0.2) 4px);
            background-size: 100% 8px;
            animation: scan-scroll 0.5s linear infinite;
            pointer-events: none;
            z-index: 1;
            backdrop-filter: contrast(1.2) brightness(1.1) blur(0.5px);
            mix-blend-mode: hard-light;
            opacity: 0.6;
            transition: opacity 0.2s, width 0.2s, height 0.2s;
        }

        .custom-cursor.hovered .cursor-scan {
            width: 100px;
            height: 100px;
            opacity: 0.8;
            background: repeating-linear-gradient(to bottom,
                    transparent 0px,
                    transparent 2px,
                    rgba(51, 255, 255, 0.3) 2px,
                    rgba(51, 255, 255, 0.3) 4px);
        }

        @keyframes scan-scroll {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 0 8px;
            }
        }

        /* Center Dot */
        .cursor-inner::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 4px;
            height: 4px;
            background: var(--accent-green);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 4px #fff;
        }

        /* Crosshair Lines */
        .cursor-inner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                linear-gradient(to bottom, transparent 48%, var(--accent-green) 48%, var(--accent-green) 52%, transparent 52%),
                linear-gradient(to right, transparent 48%, var(--accent-green) 48%, var(--accent-green) 52%, transparent 52%);
            opacity: 0.3;
            border-radius: 50%;
        }

        .custom-cursor.hovered .cursor-inner {
            width: 60px;
            height: 60px;
            background-color: rgba(51, 255, 51, 0.05);
            border-color: var(--accent-cyan);
            border-style: dashed;
            animation: spin 4s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: translate(-50%, -50%) rotate(0deg);
            }

            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }

        /* Flat Chip Layout */
        .chip-stack {
            position: relative;
            width: 600px;
            /* Increased size */
            height: 600px;
            /* Increased size */
            margin-top: 2rem;
            /* Removed 3D transforms */
        }

        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Layer 1: Substrate (PCB) */
        .layer.substrate {
            background: #0a2a0a;
            border: 1px solid #0f300f;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.1);
            /* Added subtle glow */
        }

        /* Pins pattern */
        .layer.substrate::after {
            content: '';
            position: absolute;
            inset: 5px;
            background-image: radial-gradient(#c5a005 15%, transparent 16%);
            background-size: 10px 10px;
            opacity: 0.3;
        }

        /* Layer 2: Silicon Die (Logic) */
        .layer.die {
            background: rgba(20, 20, 25, 0.95);
            border: 1px solid #555;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 12px;
            padding: 12px;
            box-sizing: border-box;
            /* Deep inset for the "socket" look */
            box-shadow:
                inset 0 0 30px rgba(0, 0, 0, 0.8),
                0 0 0 1px #333,
                0 0 20px rgba(0, 0, 0, 0.5);
            /* Tech corners */
            clip-path: polygon(0 0,
                    100% 0,
                    100% calc(100% - 15px),
                    calc(100% - 15px) 100%,
                    0 100%);
        }

        /* Dynamic Retro Grid Animation */
        @keyframes retro-grid-scroll {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 20px 20px;
            }
        }

        /* Blinking Animation for Labels */
        @keyframes labelBlink {

            0%,
            100% {
                opacity: 1;
                text-shadow: 0 0 5px currentColor;
            }

            50% {
                opacity: 0.5;
                text-shadow: none;
            }
        }

        @keyframes scan-sweep {
            0% {
                top: -20%;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                top: 120%;
                opacity: 0;
            }
        }

        .arch-block {
            border: 1px solid rgba(255, 255, 255, 0.1);
            /* Retro Tech Corners + Background */
            background:
                linear-gradient(to right, currentColor 2px, transparent 2px) 0 0,
                linear-gradient(to bottom, currentColor 2px, transparent 2px) 0 0,
                linear-gradient(to left, currentColor 2px, transparent 2px) 100% 0,
                linear-gradient(to bottom, currentColor 2px, transparent 2px) 100% 0,
                linear-gradient(to right, currentColor 2px, transparent 2px) 0 100%,
                linear-gradient(to top, currentColor 2px, transparent 2px) 0 100%,
                linear-gradient(to left, currentColor 2px, transparent 2px) 100% 100%,
                linear-gradient(to top, currentColor 2px, transparent 2px) 100% 100%,
                linear-gradient(135deg, rgba(30, 30, 35, 0.95), rgba(20, 20, 25, 0.98));
            background-size:
                10px 10px, 10px 10px,
                10px 10px, 10px 10px,
                10px 10px, 10px 10px,
                10px 10px, 10px 10px,
                100% 100%;
            background-repeat: no-repeat;

            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 10px;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;

            /* Enhanced 3D Effect */
            box-shadow:
                inset 1px 1px 0px rgba(255, 255, 255, 0.15),
                inset -1px -1px 0px rgba(0, 0, 0, 0.6),
                0 5px 15px rgba(0, 0, 0, 0.5),
                0 0 0 1px #222;

            transform: perspective(500px) translateZ(0);
        }

        .arch-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: currentColor;
            box-shadow: 0 0 10px currentColor;
            animation: scan-sweep 3s ease-in-out infinite;
            pointer-events: none;
            z-index: 5;
            opacity: 0.5;
        }

        .arch-label {
            font-weight: 900;
            font-size: 2.5rem;
            margin-bottom: 8px;
            text-shadow: 0 0 15px currentColor;
            z-index: 5;
            animation: labelBlink 2s infinite;
            /* Apply blinking animation */
        }

        /* Interactive Instruction Overlay */
        .chip-instruction {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            font-family: monospace;
            white-space: nowrap;
            pointer-events: none;
            animation: pulseInstruction 2s infinite;
        }

        @keyframes pulseInstruction {

            0%,
            100% {
                opacity: 0.4;
            }

            50% {
                opacity: 1;
            }
        }

        /* Shine effect */
        .arch-block::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(to bottom right,
                    rgba(255, 255, 255, 0) 0%,
                    rgba(255, 255, 255, 0) 40%,
                    rgba(255, 255, 255, 0.1) 50%,
                    rgba(255, 255, 255, 0) 60%,
                    rgba(255, 255, 255, 0) 100%);
            transform: rotate(45deg) translateY(-100%);
            transition: transform 0.5s;
            pointer-events: none;
        }

        @keyframes grid-pulse {

            0%,
            100% {
                opacity: 0.3;
            }

            50% {
                opacity: 0.7;
            }
        }

        /* Add animated grid on hover or always? Let's do always for that "alive" feel */
        .arch-block::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: retro-grid-scroll 3s linear infinite, grid-pulse 4s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
            opacity: 0.5;
            mix-blend-mode: overlay;
        }

        .arch-block:hover {
            transform: perspective(500px) translateZ(10px) translateY(-5px);
            z-index: 10;
        }

        .arch-block:hover::after {
            transform: rotate(45deg) translateY(100%);
            transition: transform 0.8s;
        }

        .cpu-area:hover {
            box-shadow:
                inset 0 0 30px rgba(51, 255, 255, 0.3),
                0 0 25px rgba(51, 255, 255, 0.6),
                0 10px 30px rgba(0, 0, 0, 0.8);
            border-color: var(--accent-cyan);
            background-color: rgba(51, 255, 255, 0.1);
            z-index: 100;
        }

        .gpu-area:hover {
            box-shadow:
                inset 0 0 30px rgba(255, 102, 102, 0.3),
                0 0 25px rgba(255, 102, 102, 0.6),
                0 10px 30px rgba(0, 0, 0, 0.8);
            border-color: var(--accent-red);
            background-color: rgba(255, 102, 102, 0.1);
            z-index: 100;
        }

        .npu-area:hover {
            box-shadow:
                inset 0 0 30px rgba(102, 255, 102, 0.3),
                0 0 25px rgba(102, 255, 102, 0.6),
                0 10px 30px rgba(0, 0, 0, 0.8);
            border-color: var(--accent-green);
            background-color: rgba(102, 255, 102, 0.1);
            z-index: 100;
        }

        .arch-label {
            font-size: 0.9rem;
            font-weight: bold;
            margin-bottom: 8px;
            z-index: 2;
            text-shadow: 0 0 5px currentColor;
            background: rgba(0, 0, 0, 0.5);
            /* Legibility */
            padding: 2px 5px;
            border: 1px solid currentColor;
            width: 80%;
            transition: all 0.3s;
        }

        .arch-block:hover .arch-label {
            text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
            transform: scale(1.1);
            background: rgba(0, 0, 0, 0.8);
            box-shadow: 0 0 10px currentColor;
        }

        /* CPU Area: Top Left */
        .cpu-area {
            grid-column: 1 / 2;
            grid-row: 1 / 2;
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
            padding: 0 !important;
            gap: 0 !important;
            justify-content: space-between;
        }

        .cpu-header-full {
            width: 100%;
            height: 70px;
            /* Fixed height for alignment */
            background: rgba(0, 188, 212, 0.2);
            border-bottom: 1px solid var(--accent-cyan);
            padding-top: 10px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        @keyframes text-flicker {
            0% {
                opacity: 1;
            }

            3% {
                opacity: 0.4;
            }

            6% {
                opacity: 1;
            }

            7% {
                opacity: 0.4;
            }

            8% {
                opacity: 1;
            }

            9% {
                opacity: 1;
            }

            10% {
                opacity: 0.1;
            }

            11% {
                opacity: 1;
            }

            100% {
                opacity: 1;
            }
        }

        @keyframes head-tilt {

            0%,
            100% {
                transform: rotate(0deg);
            }

            25% {
                transform: rotate(-3deg);
            }

            75% {
                transform: rotate(3deg);
            }
        }

        @keyframes float-question {
            0% {
                transform: translateY(0) scale(0.5);
                opacity: 0;
            }

            20% {
                opacity: 1;
                transform: translateY(-10px) scale(1.2);
            }

            80% {
                opacity: 1;
                transform: translateY(-25px) scale(1);
            }

            100% {
                transform: translateY(-35px) scale(0.5);
                opacity: 0;
            }
        }

        .cpu-title-large {
            font-size: 2rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 10px var(--accent-cyan);
            line-height: 1;
            letter-spacing: 2px;
            animation: text-flicker 5s infinite;
        }

        .cpu-subtitle {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .cpu-area .mini-core-container {
            width: 94%;
            margin: 10px auto;
            flex: 1;
            gap: 8px;
        }

        .mini-core {
            width: 100%;
            height: 100%;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid var(--accent-cyan);
            box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #fff;
        }

        .cpu-area .mini-cache {
            width: 94%;
            margin: 0 auto 15px auto;
            height: 40px;
            background: rgba(255, 193, 7, 0.15);
            border: 1px solid var(--accent-amber);
            color: var(--accent-amber);
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 10px rgba(255, 193, 7, 0.2);
        }

        /* GPU Area: Top Right */
        .gpu-area {
            grid-column: 2 / 3;
            grid-row: 1 / 2;
            border-color: var(--accent-red);
            color: var(--accent-red);
            padding: 0 !important;
            gap: 0 !important;
            justify-content: space-between;
        }

        .gpu-header-full {
            width: 100%;
            height: 70px;
            /* Fixed height for alignment */
            background: rgba(244, 67, 54, 0.2);
            border-bottom: 1px solid var(--accent-red);
            padding-top: 10px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .gpu-title-large {
            font-size: 2rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 10px var(--accent-red);
            line-height: 1;
            letter-spacing: 2px;
            animation: text-flicker 7s infinite;
        }

        .gpu-subtitle {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .gpu-grid-mini {
            width: 94%;
            height: auto;
            margin: 10px auto;
            flex: 1;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 4px;
            background: none;
            opacity: 1;
        }

        /* NPU Area: Bottom (Full Width) */
        .npu-area {
            grid-column: 1 / -1;
            grid-row: 2 / 3;
            border-color: var(--accent-green);
            color: var(--accent-green);
            padding: 0 !important;
            gap: 0 !important;
            justify-content: space-between;
        }

        .npu-header-full {
            width: 100%;
            height: 70px;
            /* Match CPU/GPU header height */
            background: rgba(76, 175, 80, 0.2);
            border-bottom: 1px solid var(--accent-green);
            padding-top: 10px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .npu-title-large {
            font-size: 2rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 0 10px var(--accent-green);
            line-height: 1;
            letter-spacing: 2px;
            animation: text-flicker 6s infinite;
        }

        .npu-subtitle {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 4px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .npu-array-mini {
            width: 90%;
            height: 60%;
            background: repeating-linear-gradient(45deg,
                    rgba(102, 255, 102, 0.1),
                    rgba(102, 255, 102, 0.1) 5px,
                    transparent 5px,
                    transparent 10px);
            border: 1px dashed var(--accent-green);
        }

        /* Layer 3: Interconnects */
        .layer.interconnect {
            pointer-events: none;
            opacity: 0.5;
        }

        .layer.interconnect::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                linear-gradient(90deg, transparent 95%, rgba(51, 255, 255, 0.2) 95%),
                linear-gradient(0deg, transparent 95%, rgba(51, 255, 255, 0.2) 95%);
            background-size: 20px 20px;
        }

        /* Layer 4: IHS (Heat Spreader) - Hidden for flat view */
        .layer.ihs {
            display: none;
        }

        /* Core Details */
        .core-detail {
            position: absolute;
            background: rgba(0, 255, 255, 0.2);
            border: 1px solid var(--accent-cyan);
            color: #fff;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .core-detail.alu {
            top: 10%;
            left: 10%;
            width: 40%;
            height: 40%;
            background: rgba(255, 100, 100, 0.3);
            border-color: var(--accent-red);
        }

        .core-detail.reg {
            top: 10%;
            right: 10%;
            width: 30%;
            height: 80%;
            background: rgba(100, 255, 100, 0.3);
            border-color: var(--accent-green);
        }

        .core-detail.cache {
            bottom: 10%;
            left: 10%;
            width: 40%;
            height: 30%;
            background: rgba(255, 200, 50, 0.3);
            border-color: var(--accent-amber);
        }

        /* @keyframes float-rotate { ... } Removed to allow manual control */

        .dud {
            color: var(--accent-red);
        }

        /* Advanced CRT Scanline Effect */
        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(to bottom,
                    rgba(255, 255, 255, 0),
                    rgba(255, 255, 255, 0) 50%,
                    rgba(0, 0, 0, 0.1) 50%,
                    rgba(0, 0, 0, 0.1));
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 999;
            animation: scanline 0.2s linear infinite;
            opacity: 0.02;
        }

        /* Vignette & Flicker */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle, rgba(0, 0, 0, 0) 60%, rgba(0, 0, 0, 0.05) 100%);
            pointer-events: none;
            z-index: 998;
            animation: flicker 4s infinite;
        }

        header {
            background-color: rgba(10, 10, 10, 0.9);
            border-bottom: 2px solid var(--accent-green);
            padding: 4rem 2rem;
            text-align: center;
            position: relative;
            text-transform: uppercase;
            letter-spacing: 4px;
            box-shadow: 0 0 20px rgba(51, 255, 51, 0.1);
        }

        header::before {
            content: "/// SYSTEM_BOOT_SEQUENCE_INIT ///";
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 0.7rem;
            color: var(--accent-green);
            opacity: 0.8;
            font-family: monospace;
        }

        header h1 {
            margin: 0;
            font-size: 3.5rem;
            color: #0f0;
            text-shadow:
                0 0 5px #0f0,
                0 0 10px #0f0,
                0 0 20px #0f0;
            font-family: 'VT323', monospace;
            letter-spacing: 0.1em;
            position: relative;
            display: inline-block;
            animation: matrix-pulse 2s infinite alternate;
            z-index: 2;
        }

        @keyframes matrix-pulse {
            0% {
                opacity: 0.9;
                text-shadow: 0 0 5px #0f0;
            }

            100% {
                opacity: 1;
                text-shadow: 0 0 20px #0f0, 0 0 10px #fff;
            }
        }

        /* Matrix Rain Effect Overlay for Header */
        header::after {
            content: "1010101010101010101010101010101010101010101010101010101010101010";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            color: #0f0;
            opacity: 0.1;
            font-size: 10px;
            word-break: break-all;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        header p {
            font-size: 1rem;
            color: var(--accent-cyan);
            margin-top: 1rem;
            text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
            position: relative;
            z-index: 2;
        }

        .container {
            width: 100vw;
            height: 100vh;
            max-width: none;
            margin: 0;
            padding: 0;
            position: relative;
            z-index: 1;
            overflow: hidden;
        }

        section {
            /* Slide Styles */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(30, 30, 35, 0.95);
            border: none;
            /* Remove default border for full screen */
            border-radius: 0;
            padding: 4rem;
            box-sizing: border-box;
            /* Ensure padding doesn't cause overflow */
            /* More padding for full screen */
            margin: 0;

            /* Flex center content */
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            /* Changed to flex-start to allow scrolling */
            align-items: center;

            /* Transitions - Retro Tech Effect */
            opacity: 0;
            pointer-events: none;

            /* Initial State: Glitchy & Closed */
            transform: scale(1.05);
            filter: blur(5px) brightness(0.5) sepia(0.8);
            clip-path: inset(45% 0 45% 0);
            /* CRT Shut Effect */

            transition:
                opacity 0.7s ease-in-out,
                transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1),
                filter 0.6s ease,
                clip-path 0.7s cubic-bezier(0.6, 0, 0.2, 1);

            box-shadow: none;
            will-change: opacity, transform, clip-path, filter;
            overflow-y: auto;
            /* Allow scrolling if content overflows */
            overflow-x: hidden;
        }

        /* Custom Scrollbar for Sections */
        section::-webkit-scrollbar {
            width: 8px;
        }

        section::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3);
        }

        section::-webkit-scrollbar-thumb {
            background: var(--accent-cyan);
            border-radius: 4px;
        }

        section::-webkit-scrollbar-thumb:hover {
            background: #fff;
        }

        section.active {
            opacity: 1;
            pointer-events: auto;

            /* Active State: Clear & Open */
            transform: scale(1);
            filter: blur(0) brightness(1) sepia(0);
            clip-path: inset(0 0 0 0);

            z-index: 10;
        }

        /* Content Entry Animation for Retro Feel */
        section.active>* {
            animation: retro-content-entry 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        }

        @keyframes retro-content-entry {
            0% {
                opacity: 0;
                transform: translateY(15px);
                filter: blur(5px);
                text-shadow: 3px 0 0 rgba(255, 0, 0, 0.6), -3px 0 0 rgba(0, 255, 255, 0.6);
            }

            50% {
                opacity: 0.8;
                text-shadow: 1px 0 0 rgba(255, 0, 0, 0.4), -1px 0 0 rgba(0, 255, 255, 0.4);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
                filter: blur(0);
                text-shadow: 0 0 6px rgba(0, 255, 255, 0.6);
            }
        }

        /* Adjust content grid for full screen */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            /* Center vertically */
            width: 100%;
            max-width: 1400px;
        }

        section:hover {
            transform: scale(1);
            /* Disable hover move effect in slide mode */
            box-shadow: none;
            border-color: #444;
        }

        /* Cassette Futurism Color Schemes */
        /* 1. Overview - Retro Amber/Brown */
        section:nth-of-type(1) {
            border-top: 6px solid var(--accent-amber);
            background: linear-gradient(160deg, #2a2520 0%, #1a1a1a 100%);
        }

        /* 2. 3D Intro - Retro Orange */
        section:nth-of-type(2) {
            border-top: 6px solid #ffb000;
            background: linear-gradient(160deg, #2a2010 0%, #1a1a1a 100%);
        }

        /* 3. CPU - Retro Cyan/Slate */
        section:nth-of-type(3) {
            border-top: 6px solid var(--accent-cyan);
            background: linear-gradient(160deg, #1a2a2a 0%, #1a1a1a 100%);
        }

        /* 4. GPU - Retro Red/Maroon */
        section:nth-of-type(4) {
            border-top: 6px solid var(--accent-red);
            background: linear-gradient(160deg, #2a1a1a 0%, #1a1a1a 100%);
        }

        /* 5. NPU - Retro Green/Olive */
        section:nth-of-type(5) {
            border-top: 6px solid var(--accent-green);
            background: linear-gradient(160deg, #1a2a1a 0%, #1a1a1a 100%);
        }

        /* 6. Comparison - Retro Grey/Purple */
        section:nth-of-type(6) {
            border-top: 6px solid #a0a0a0;
            background: linear-gradient(160deg, #252525 0%, #151515 100%);
        }

        /* HUD Corners */
        section::after {
            content: "";
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            bottom: -1px;
            background:
                linear-gradient(to right, var(--accent-cyan) 2px, transparent 2px) 0 0,
                linear-gradient(to bottom, var(--accent-cyan) 2px, transparent 2px) 0 0,
                linear-gradient(to left, var(--accent-cyan) 2px, transparent 2px) 100% 0,
                linear-gradient(to bottom, var(--accent-cyan) 2px, transparent 2px) 100% 0,
                linear-gradient(to left, var(--accent-cyan) 2px, transparent 2px) 100% 100%,
                linear-gradient(to top, var(--accent-cyan) 2px, transparent 2px) 100% 100%,
                linear-gradient(to right, var(--accent-cyan) 2px, transparent 2px) 0 100%,
                linear-gradient(to top, var(--accent-cyan) 2px, transparent 2px) 0 100%;
            background-size: 15px 15px;
            background-repeat: no-repeat;
            pointer-events: none;
            opacity: 0.7;
        }

        section::before {
            content: "MODULE_0" counter(section-counter);
            position: absolute;
            top: -10px;
            left: 20px;
            background: var(--bg-color);
            padding: 0 10px;
            color: var(--accent-cyan);
            font-size: 0.7rem;
            border: 1px solid var(--accent-cyan);
            box-shadow: 0 0 5px rgba(0, 255, 255, 0.3);
            z-index: 2;
        }

        body {
            counter-reset: section-counter;
        }

        section {
            counter-increment: section-counter;
        }

        h2 {
            color: var(--accent-amber);
            border-bottom: 1px dashed var(--text-main);
            padding-bottom: 0.5rem;
            margin-top: 0;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: 0 0 5px rgba(255, 176, 0, 0.3);
            transition: text-shadow 0.2s;
        }

        h2:hover {
            text-shadow: 2px 0 var(--accent-red), -2px 0 var(--accent-cyan);
        }

        h3 {
            color: var(--accent-cyan);
            margin-top: 1.5rem;
            text-transform: uppercase;
            font-size: 1rem;
            letter-spacing: 1px;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: start;
        }

        @media (max-width: 900px) {
            .content-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .image-container {
                margin-top: 1rem;
            }
        }

        .image-container {
            text-align: center;
            background: #181818;
            /* 模拟塑料外壳 */
            border: 4px solid #2a2a2a;
            border-radius: 15px;
            padding: 1.5rem;
            position: relative;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            overflow: hidden;

            /* 3D 塑料质感阴影 */
            box-shadow:
                /* 顶部高光 */
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                /* 内部深邃感 */
                inset 0 0 40px rgba(0, 0, 0, 0.8),
                /* 外部投影 */
                0 10px 30px rgba(0, 0, 0, 0.5),
                /* 底部厚度 */
                0 6px 0 #111;
        }

        /* 装饰性条纹 - 磁带风格 */
        .image-container::before {
            content: "";
            position: absolute;
            bottom: 12px;
            right: 15px;
            width: 80px;
            height: 6px;
            background: repeating-linear-gradient(-45deg,
                    var(--accent-red),
                    var(--accent-red) 5px,
                    transparent 5px,
                    transparent 10px,
                    var(--accent-amber) 10px,
                    var(--accent-amber) 15px,
                    transparent 15px,
                    transparent 20px);
            z-index: 2;
            opacity: 0.8;
            border-radius: 2px;
            box-shadow: 0 0 5px rgba(255, 100, 100, 0.3);
        }

        /* 扫描线纹理 + 顶部装饰点 */
        .image-container::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                /* 顶部装饰点 */
                radial-gradient(circle at 15px 15px, var(--accent-cyan) 2px, transparent 3px),
                radial-gradient(circle at 25px 15px, #333 2px, transparent 3px),
                radial-gradient(circle at 35px 15px, #333 2px, transparent 3px),
                /* 扫描线 */
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
            background-size: 100% 100%, 100% 100%, 100% 100%, 100% 4px;
            pointer-events: none;
            z-index: 1;
        }

        .image-container svg {
            cursor: pointer;
            position: relative;
            z-index: 0;
            /* 稍微增加一点对比度 */
            filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.5));
        }

        .image-container:hover {
            border-color: #444;
            transform: translateY(-4px);
            box-shadow:
                inset 0 1px 0 rgba(255, 255, 255, 0.2),
                inset 0 0 20px rgba(0, 0, 0, 0.5),
                0 20px 40px rgba(0, 255, 255, 0.1),
                0 10px 0 var(--accent-cyan);
            /* 底部厚度变色，产生发光感 */
        }

        .image-caption {
            position: absolute;
            bottom: 10px;
            right: 30px;
            font-size: 0.7rem;
            color: var(--accent-cyan);
            font-family: monospace;
            background: rgba(0, 0, 0, 0.8);
            padding: 4px 8px;
            border: 1px solid #333;
            border-radius: 4px;
            pointer-events: none;
            z-index: 100;
            opacity: 1;
            text-align: right;
            white-space: nowrap;
        }

        .image-caption::before {
            content: "> ";
            animation: blink 1s infinite;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }

        /* Comparison Table - Retro Tech Style */
        .tech-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin-top: 1.5rem;
            font-size: 1.2rem;
            /* Increased font size */
            font-family: 'VT323', monospace;
            /* Retro font */
            border: 2px solid var(--accent-cyan);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3), inset 0 0 20px rgba(0, 255, 255, 0.1);
            background: rgba(0, 10, 20, 0.8);
            position: relative;
            overflow: hidden;
        }

        /* Scanline effect overlay */
        .tech-table::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(0deg,
                    rgba(0, 0, 0, 0.15),
                    rgba(0, 0, 0, 0.15) 1px,
                    transparent 1px,
                    transparent 2px);
            pointer-events: none;
            z-index: 1;
        }

        .tech-table th,
        .tech-table td {
            border: 1px solid rgba(0, 255, 255, 0.3);
            padding: 15px;
            /* Increased padding */
            text-align: left;
            position: relative;
            z-index: 2;
        }

        .tech-table th {
            background-color: rgba(0, 255, 255, 0.15);
            color: var(--accent-cyan);
            text-transform: uppercase;
            font-weight: 900;
            letter-spacing: 1px;
            text-shadow: 0 0 5px var(--accent-cyan);
            border-bottom: 2px solid var(--accent-cyan);
        }

        .tech-table td {
            color: #ccc;
            transition: all 0.3s ease;
        }

        .tech-table tr:hover td {
            background-color: rgba(0, 255, 255, 0.1);
            color: #fff;
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
            box-shadow: inset 0 0 10px rgba(0, 255, 255, 0.1);
        }

        /* =========================================
           Summary Animation Stage (Retro Tech)
           ========================================= */
        .summary-stage {
            width: 100%;
            height: 300px;
            position: relative;
            margin-bottom: 2rem;
            border: 2px solid var(--accent-cyan);
            background: rgba(0, 10, 20, 0.6);
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.1), inset 0 0 30px rgba(0, 0, 0, 0.8);
            border-radius: 10px;
        }

        /* Grid Background for Stage */
        .summary-stage::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            background-image:
                linear-gradient(rgba(0, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 40px 40px;
            transform: perspective(500px) rotateX(60deg) translateY(-100px) translateZ(-200px);
            animation: grid-move 20s linear infinite;
            z-index: 0;
        }

        @keyframes grid-move {
            0% {
                transform: perspective(500px) rotateX(60deg) translateY(0) translateZ(-200px);
            }

            100% {
                transform: perspective(500px) rotateX(60deg) translateY(40px) translateZ(-200px);
            }
        }

        .summary-scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            animation: summary-cycle 15s infinite;
            z-index: 2;
        }

        .scene-1 {
            animation-delay: 0s;
        }

        .scene-2 {
            animation-delay: 5s;
        }

        .scene-3 {
            animation-delay: 10s;
        }

        @keyframes summary-cycle {
            0% {
                opacity: 0;
                transform: scale(0.9);
                pointer-events: none;
            }

            5% {
                opacity: 1;
                transform: scale(1);
                pointer-events: auto;
            }

            30% {
                opacity: 1;
                transform: scale(1);
                pointer-events: auto;
            }

            33% {
                opacity: 0;
                transform: scale(1.1);
                pointer-events: none;
            }

            100% {
                opacity: 0;
                pointer-events: none;
            }
        }

        /* Chip Component */
        .chip-box {
            width: 160px;
            height: 160px;
            background: #d0d0d0;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
            border: 1px solid #fff;
        }

        /* Pins */
        .chip-box::before {
            content: '';
            position: absolute;
            top: -6px;
            left: 10px;
            right: 10px;
            height: 4px;
            background: repeating-linear-gradient(90deg, #b8860b, #b8860b 4px, transparent 4px, transparent 8px);
        }

        .chip-box::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 10px;
            right: 10px;
            height: 4px;
            background: repeating-linear-gradient(90deg, #b8860b, #b8860b 4px, transparent 4px, transparent 8px);
        }

        .chip-pins-v {
            position: absolute;
            top: 10px;
            bottom: 10px;
            left: -6px;
            width: 4px;
            background: repeating-linear-gradient(0deg, #b8860b, #b8860b 4px, transparent 4px, transparent 8px);
        }

        .chip-pins-v.right {
            left: auto;
            right: -6px;
        }

        .chip-inner {
            width: 120px;
            height: 120px;
            background: #222;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 3rem;
            font-weight: 900;
            font-family: 'VT323', monospace;
            border: 1px solid #555;
            background: radial-gradient(circle at 30% 30%, #444, #111);
        }

        .chip-label-top {
            position: absolute;
            top: -40px;
            width: 200%;
            left: -50%;
            text-align: center;
            color: var(--accent-cyan);
            font-weight: bold;
            font-size: 1.4rem;
            text-shadow: 0 0 10px var(--accent-cyan);
            background: rgba(0, 0, 0, 0.5);
            padding: 2px 0;
        }

        /* Scene 1: CPU */
        .scene-1-layout {
            display: flex;
            gap: 40px;
            align-items: center;
        }

        .code-panel {
            background: #1e1e1e;
            border: 1px solid #444;
            padding: 15px;
            font-family: 'VT323', monospace;
            color: #d4d4d4;
            font-size: 1.1rem;
            width: 220px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        .code-panel::before {
            content: 'Logic Processing';
            position: absolute;
            top: -20px;
            left: 0;
            color: #4fc3f7;
            font-size: 0.8rem;
        }

        .cpu-banner {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            text-align: center;
            background: linear-gradient(90deg, transparent, rgba(138, 43, 226, 0.8), transparent);
            color: white;
            padding: 8px;
            font-weight: bold;
            font-size: 1.2rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
        }

        /* Scene 2: GPU */
        .gpu-layout {
            display: flex;
            gap: 40px;
            align-items: center;
        }

        .gpu-tasks {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .task-item {
            border: 1px solid var(--accent-blue);
            background: rgba(0, 100, 255, 0.15);
            padding: 10px 15px;
            width: 240px;
            color: #fff;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 0 10px rgba(0, 100, 255, 0.2);
        }

        .task-item::after {
            content: '>';
            color: var(--accent-blue);
            font-weight: bold;
        }

        /* Scene 3: NPU */
        .npu-layout {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .npu-features {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: flex-start;
        }

        .feature-bubble {
            background: rgba(255, 140, 0, 0.15);
            border: 1px solid #ff8c00;
            color: #ffb347;
            padding: 8px 20px;
            border-radius: 4px;
            position: relative;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(255, 140, 0, 0.2);
            transform: translateX(0);
            transition: transform 0.3s;
        }

        .feature-bubble:hover {
            transform: translateX(10px);
            background: rgba(255, 140, 0, 0.3);
        }

        .feature-bubble::before {
            content: '';
            position: absolute;
            left: -25px;
            top: 50%;
            width: 25px;
            height: 1px;
            background: #ff8c00;
        }

        /* --- Chip Internal Details CSS --- */
        .mini-core-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 6px;
            height: 65%;
            margin-bottom: 6px;
            width: 92%;
            /* Align width with GPU/NPU internal containers */
        }

        .mini-core {
            border: 1px solid var(--accent-cyan);
            background: rgba(0, 243, 255, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            color: var(--accent-cyan);
            box-shadow: 0 0 5px rgba(0, 243, 255, 0.2);
            transition: all 0.3s;
        }

        .mini-cache {
            width: 92%;
            height: 25%;
            border: 1px solid var(--accent-amber);
            background: rgba(255, 176, 0, 0.15);
            color: var(--accent-amber);
            font-size: 10px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 0;
            box-shadow: 0 0 5px rgba(255, 176, 0, 0.2);
        }

        .gpu-grid-mini {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 2px;
            height: 80%;
            width: 80%;
        }

        .mini-sm {
            background: rgba(244, 67, 54, 0.15);
            border: 1px solid var(--accent-red);
            box-shadow: inset 0 0 5px rgba(244, 67, 54, 0.2);
            width: 100%;
            height: 100%;
            position: relative;
            opacity: 1;
        }

        .mini-sm::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40%;
            height: 40%;
            background: rgba(244, 67, 54, 0.4);
            box-shadow: 0 0 5px rgba(244, 67, 54, 0.6);
        }

        .mini-sm:nth-child(odd) {
            /* Reset specific odd styling if needed, or keep it subtle */
            background: rgba(244, 67, 54, 0.2);
        }

        .npu-layout-mini {
            display: flex;
            flex-direction: row;
            height: auto;
            width: 96%;
            margin: 10px auto;
            flex: 1;
            gap: 8px;
            align-items: stretch;
            justify-content: space-between;
        }

        .npu-layout-mini .npu-buffer {
            width: 15%;
            height: auto;
            border: 1px solid var(--accent-green);
            font-size: 10px;
            font-weight: bold;
            writing-mode: vertical-rl;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-green);
            background: rgba(76, 175, 80, 0.15);
            letter-spacing: 1px;
            text-shadow: 0 0 2px var(--accent-green);
            box-shadow: inset 0 0 10px rgba(76, 175, 80, 0.1);
        }

        .npu-array-mini {
            flex: 1;
            height: auto;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 6px;
            border: 1px dashed rgba(76, 175, 80, 0.5);
            padding: 6px;
            background: rgba(0, 20, 0, 0.2);
        }

        .systolic-cell {
            background: rgba(76, 175, 80, 0.3);
            border: 1px solid var(--accent-green);
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(76, 175, 80, 0.4);
            animation: pulse-cell 2s infinite alternate;
            width: 100%;
            height: 100%;
        }

        @keyframes pulse-cell {
            from {
                opacity: 0.5;
                transform: scale(0.9);
                box-shadow: 0 0 2px rgba(76, 175, 80, 0.3);
            }

            to {
                opacity: 1;
                transform: scale(1.05);
                box-shadow: 0 0 8px rgba(76, 175, 80, 0.8);
            }
        }

        .npu-activation {
            width: 15%;
            height: auto;
            background: rgba(76, 175, 80, 0.15);
            border: 1px solid var(--accent-green);
            font-size: 10px;
            font-weight: bold;
            writing-mode: vertical-rl;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--accent-green);
            letter-spacing: 1px;
            text-shadow: 0 0 2px var(--accent-green);
            box-shadow: inset 0 0 10px rgba(76, 175, 80, 0.1);
        }

        .click-hint {
            position: absolute;
            bottom: 2px;
            right: 2px;
            font-size: 8px;
            color: #fff;
            background: #000;
            padding: 1px 3px;
            border: 1px solid #fff;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
        }

        .arch-block:hover .click-hint {
            opacity: 1;
            animation: blink 1s infinite;
        }

        .arch-block {
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .arch-block:hover {
            transform: translateZ(5px);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
            z-index: 10;
        }

        /* --- Detail Overlay --- */
        #detail-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            display: none;
            /* Hidden by default */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }

        #detail-overlay.active {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .detail-content {
            width: 90%;
            height: 90%;
            position: relative;
            perspective: 1000px;
            background: rgba(10, 12, 16, 0.98);
            overflow: hidden;
            display: flex;
            flex-direction: column;

            /* Retro Tech Border with Fuzzy Glow */
            border: 2px solid var(--accent-cyan);
            /* Default */
            box-shadow:
                0 0 15px var(--accent-cyan),
                0 0 30px rgba(0, 255, 255, 0.2),
                inset 0 0 100px rgba(0, 0, 0, 0.9);

            /* Tech Corners */
            clip-path: polygon(0 20px, 20px 0,
                    calc(100% - 20px) 0, 100% 20px,
                    100% calc(100% - 20px), calc(100% - 20px) 100%,
                    20px 100%, 0 calc(100% - 20px));

            transition: border-color 0.3s, box-shadow 0.3s;
        }

        /* CRT Scanline Overlay for Modal */
        .detail-content::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 100;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        .detail-header {
            padding: 1rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0, 0, 0, 0.6);
            z-index: 101;
            /* Above scanlines */
            position: relative;
        }

        .detail-title {
            font-size: 2rem;
            color: var(--accent-amber);
            text-transform: uppercase;
        }

        .detail-close-btn {
            background: transparent;
            border: 1px solid var(--accent-red);
            color: var(--accent-red);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .detail-close-btn:hover {
            background: var(--accent-red);
            color: #000;
            box-shadow: 0 0 15px var(--accent-red);
            transform: rotate(90deg);
        }

        .detail-viewport {
            flex: 1;
            position: relative;
            overflow: hidden;
            /* Hide scrollbars, we use wheel */
            background:
                linear-gradient(rgba(18, 16, 16, 0.9), rgba(18, 16, 16, 0.9)),
                linear-gradient(0deg, transparent 24%, rgba(0, 255, 255, .05) 25%, rgba(0, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 255, .05) 75%, rgba(0, 255, 255, .05) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, rgba(0, 255, 255, .05) 25%, rgba(0, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(0, 255, 255, .05) 75%, rgba(0, 255, 255, .05) 76%, transparent 77%, transparent);
            background-size: 100% 100%, 40px 40px, 40px 40px;
            cursor: grab;
        }

        .detail-viewport::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            background-image:
                linear-gradient(rgba(0, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 40px 40px;
            animation: retro-grid-scroll 10s linear infinite;
            pointer-events: none;
            z-index: 0;
        }
        }

        .detail-viewport:active {
            cursor: grabbing;
        }

        .detail-scene {
            position: absolute;
            top: 50%;
            left: 50%;
            transform-style: preserve-3d;
            /* Initial transform set by JS */
        }

        /* Specific Detail Views */
        .detail-view-cpu,
        .detail-view-gpu,
        .detail-view-npu {
            width: 560px;
            height: 380px;
            position: absolute;
            top: -190px;
            /* Center it (half of height) */
            left: -280px;
            /* Center it (half of width) */
            /* Dynamic Grid Background */
            background:
                linear-gradient(rgba(20, 20, 20, 0.95), rgba(20, 20, 20, 0.95)),
                linear-gradient(0deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, rgba(255, 255, 255, .05) 25%, rgba(255, 255, 255, .05) 26%, transparent 27%, transparent 74%, rgba(255, 255, 255, .05) 75%, rgba(255, 255, 255, .05) 76%, transparent 77%, transparent);
            background-size: 100% 100%, 20px 20px, 20px 20px;
            border: 2px solid;
            display: none;
            /* Show specific one via JS */
            padding: 20px;
            box-sizing: border-box;
            /* 3D Effect */
            box-shadow:
                inset 1px 1px 0px rgba(255, 255, 255, 0.1),
                inset -1px -1px 0px rgba(0, 0, 0, 0.5),
                0 0 0 2px #000,
                10px 10px 0px rgba(0, 0, 0, 0.8);
            transform-style: preserve-3d;
        }

        /* Add animation to detail view background */
        .detail-view-cpu::before,
        .detail-view-gpu::before,
        .detail-view-npu::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 20px 20px;
            animation: retro-grid-scroll 4s linear infinite;
            pointer-events: none;
            z-index: -1;
        }

        .detail-view-cpu {
            border-color: var(--accent-cyan);
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.2);
        }

        .detail-view-gpu {
            border-color: var(--accent-red);
            box-shadow: 0 0 30px rgba(255, 51, 51, 0.2);
        }

        .detail-view-npu {
            border-color: var(--accent-green);
            box-shadow: 0 0 30px rgba(51, 255, 0, 0.2);
        }

        /* --- Detail View Internal Animations & 3D Styles --- */

        /* CPU Styles */
        .cpu-core-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            height: 85%;
            padding: 20px;
        }

        .cpu-core {
            position: relative;
            border: 1px solid var(--accent-cyan);
            padding: 15px;
            background: rgba(0, 20, 20, 0.85);
            transition: transform 0.3s, box-shadow 0.3s;
            /* Fuzzy Border Effect */
            box-shadow:
                inset 0 0 20px rgba(0, 255, 255, 0.1),
                0 0 10px rgba(0, 255, 255, 0.4),
                0 0 2px var(--accent-cyan);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .cpu-core:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
        }

        .core-title {
            text-align: center;
            color: var(--accent-cyan);
            font-weight: bold;
            font-size: 1rem;
            margin-bottom: 5px;
            text-shadow: 0 0 5px var(--accent-cyan);
        }

        .cpu-control {
            background: rgba(255, 255, 0, 0.1);
            border: 1px solid var(--accent-amber);
            color: var(--accent-amber);
            padding: 8px;
            text-align: center;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: inset 0 0 5px rgba(255, 255, 0, 0.2);
        }

        .cpu-exec-group {
            display: flex;
            gap: 10px;
            flex: 1;
        }

        .cpu-unit {
            flex: 1;
            background: rgba(0, 243, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(0, 243, 255, 0.3);
            box-shadow: inset 0 0 5px rgba(0, 243, 255, 0.2);
            position: relative;
            overflow: hidden;
            transition: transform 0.2s, background 0.2s;
            font-size: 0.8rem;
            text-align: center;
        }

        .cpu-unit:hover {
            transform: scale(1.05);
            background: rgba(0, 243, 255, 0.25);
            box-shadow: 0 0 15px var(--accent-cyan);
            z-index: 2;
        }

        .cpu-cache-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .cpu-cache {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid var(--accent-green);
            color: var(--accent-green);
            padding: 5px;
            text-align: center;
            font-size: 0.8rem;
        }

        .cpu-cache.l1 {
            opacity: 0.8;
        }

        .cpu-cache.l2 {
            opacity: 0.6;
            font-size: 0.7rem;
        }

        /* Bus & L3 Styles */
        .cpu-bus-container {
            height: 30px;
            display: flex;
            justify-content: space-around;
            padding: 0 20px;
            position: relative;
        }

        .bus-line-group {
            width: 4px;
            height: 100%;
            position: relative;
        }

        .bus-line {
            width: 100%;
            height: 100%;
            background: rgba(255, 191, 0, 0.3);
            box-shadow: 0 0 5px rgba(255, 191, 0, 0.1);
            transition: all 0.3s;
        }

        .bus-packet-down,
        .bus-packet-up {
            position: absolute;
            left: 0;
            width: 100%;
            height: 6px;
            background: #fff;
            opacity: 0;
            box-shadow: 0 0 5px #fff;
        }

        .cpu-l3-cache {
            margin-top: 0;
            border: 1px solid var(--accent-amber);
            color: var(--accent-amber);
            padding: 10px;
            background: rgba(255, 191, 0, 0.1);
            box-shadow: inset 0 0 10px rgba(255, 191, 0, 0.2);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cpu-l3-cache:hover {
            background: rgba(255, 191, 0, 0.2);
            box-shadow: inset 0 0 20px rgba(255, 191, 0, 0.4), 0 0 15px rgba(255, 191, 0, 0.3);
        }

        .l3-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(90deg, rgba(255, 191, 0, 0.1) 1px, transparent 1px);
            background-size: 20px 100%;
            opacity: 0.3;
            pointer-events: none;
        }

        /* Interaction States */
        .cpu-core.active {
            border-color: var(--accent-amber);
            box-shadow: 0 0 20px rgba(255, 191, 0, 0.3);
        }

        .bus-line-group.active .bus-line {
            background: var(--accent-amber);
            box-shadow: 0 0 10px var(--accent-amber);
        }

        .bus-line-group.flow-down .bus-packet-down {
            animation: bus-flow-down 0.5s linear infinite;
        }

        .bus-line-group.flow-up .bus-packet-up {
            animation: bus-flow-up 0.5s linear infinite;
        }

        @keyframes bus-flow-down {
            0% {
                top: 0;
                opacity: 1;
            }

            100% {
                top: 100%;
                opacity: 0;
            }
        }

        @keyframes bus-flow-up {
            0% {
                top: 100%;
                opacity: 1;
            }

            100% {
                top: 0;
                opacity: 0;
            }
        }

        .cpu-unit::after {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 243, 255, 0.6), transparent);
            animation: cpu-process 2s infinite;
        }

        @keyframes cpu-process {
            0% {
                left: -100%;
            }

            50% {
                left: 200%;
            }

            100% {
                left: 200%;
            }
        }

        /* GPU Styles */
        .gpu-grid-container {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 8px;
            height: 80%;
            padding: 20px;
        }

        .gpu-core-unit {
            position: relative;
            background: rgba(60, 10, 10, 0.6);
            border: 1px solid rgba(255, 51, 51, 0.5);
            /* Fuzzy Border Effect */
            box-shadow: 0 0 8px rgba(255, 51, 51, 0.4);
            transition: all 0.2s;
        }

        /* Removed 3D Faces */

        @keyframes gpu-flicker {

            0%,
            100% {
                opacity: 0.4;
                transform: scale(1);
                background: rgba(60, 10, 10, 0.6);
                box-shadow: none;
            }

            50% {
                opacity: 1;
                transform: scale(1.1);
                /* Pop out effect */
                background: rgba(255, 51, 51, 0.8);
                box-shadow:
                    0 0 20px var(--accent-red),
                    inset 0 0 10px rgba(255, 255, 255, 0.4);
                border-color: #fff;
                z-index: 10;
            }
        }

        /* NPU Styles */
        .npu-container {
            display: flex;
            height: 80%;
            gap: 30px;
            perspective: 1000px;
            overflow: visible;
            padding: 20px;
            align-items: center;
        }

        .npu-buffer {
            width: 10%;
            height: 80%;
            border: 1px solid var(--accent-green);
            display: flex;
            align-items: center;
            justify-content: center;
            writing-mode: vertical-rl;
            background: rgba(0, 20, 0, 0.5);
            /* Fuzzy Border Effect */
            box-shadow:
                inset 0 0 10px rgba(51, 255, 0, 0.1),
                0 0 15px rgba(51, 255, 0, 0.3);
            text-shadow: 0 0 5px var(--accent-green);
            transform: rotateY(10deg);
            /* Slight 3D angle */
            font-size: 1.5rem;
            font-weight: bold;
            letter-spacing: 5px;
        }

        .npu-array {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(10, 1fr);
            gap: 8px;
            padding: 10px;
            background: rgba(0, 20, 0, 0.4);

            /* Isometric 3D View for Systolic Array */
            transform: rotateX(60deg) rotateZ(-45deg);
            transform-style: preserve-3d;
            /* Fuzzy Border Effect */
            box-shadow:
                20px 20px 60px rgba(0, 0, 0, 0.8),
                0 0 20px rgba(102, 255, 102, 0.3);
            border: 1px solid rgba(102, 255, 102, 0.5);
            margin: 0 20px;
        }

        .npu-node {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            background: rgba(0, 40, 0, 0.6);
            border: 1px solid rgba(102, 255, 102, 0.1);
        }

        /* Top Face (The active part) */
        .npu-node::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(102, 255, 102, 0.8);
            transform: translateZ(1px);
            box-shadow: 0 0 5px var(--accent-green);
            opacity: 0.8;
        }

        /* Side/Body (Visualized by the gap and movement) */

        @keyframes npu-pulse {

            0%,
            100% {
                transform: translateZ(0px);
                filter: brightness(0.5);
            }

            50% {
                transform: translateZ(50px);
                /* High 3D pop */
                filter: brightness(1.5);
                box-shadow: 0 0 20px var(--accent-green);
            }
        }

        .detail-info-panel {
            position: relative;
            width: 100%;
            background: #111;
            border-top: 1px solid #555;
            padding: 10px 20px;
            color: #ccc;
            font-size: 0.9rem;
            z-index: 20;
            flex-shrink: 0;
            box-sizing: border-box;
        }

        .zoom-controls {
            display: flex;
            gap: 10px;
            margin-right: 20px;
        }

        .zoom-btn {
            width: 40px;
            height: 40px;
            background: #222;
            border: 1px solid var(--text-main);
            color: var(--text-main);
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .zoom-btn:hover {
            background: #333;
        }

        /* SVG Styles */
        svg text {
            font-family: 'VT323', monospace;
            fill: var(--text-main);
        }

        svg rect,
        svg path,
        svg line,
        svg circle {
            stroke-width: 1.5;
            vector-effect: non-scaling-stroke;
            transition: all 0.3s ease;
        }

        /* Scroll Reveal */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .chip-icon {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-right: 8px;
        }

        .cpu-color {
            background-color: var(--accent-cyan);
        }

        .gpu-color {
            background-color: var(--accent-red);
        }

        .npu-color {
            background-color: var(--accent-green);
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: #aaa;
            font-size: 0.7rem;
            border-top: 1px solid #222;
            margin-top: 2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Modal Styles */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-backdrop.active {
            display: flex;
            opacity: 1;
        }

        .modal-card {
            background: #222;
            border: 4px solid #333;
            /* Retro thick border */
            border-radius: 10px;
            /* Rounded corners like old monitors */
            padding: 25px;
            width: 90%;
            max-width: 450px;
            position: relative;
            transform: scale(0.9) translateY(20px);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow:
                0 0 0 4px #000,
                /* Inner black outline */
                0 0 20px rgba(0, 0, 0, 0.8),
                inset 0 0 30px rgba(0, 0, 0, 0.8);
            /* Inner shadow */
            background-image:
                linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
                linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            /* CRT Scanlines */
        }

        .modal-card::before {
            content: "SYSTEM_DIAGNOSTIC_TOOL_V1.0";
            position: absolute;
            top: -12px;
            left: 20px;
            background: #222;
            padding: 0 10px;
            font-size: 0.7rem;
            color: #aaa;
            letter-spacing: 2px;
            border: 1px solid #333;
        }

        .modal-backdrop.active .modal-card {
            transform: scale(1) translateY(0);
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            color: #444;
            background: #111;
            border: 1px solid #444;
            width: 24px;
            height: 24px;
            line-height: 22px;
            text-align: center;
            z-index: 10;
            transition: all 0.2s;
        }

        .close-btn:hover {
            color: var(--accent-red);
            border-color: var(--accent-red);
            box-shadow: 0 0 8px var(--accent-red);
        }

        .arch-trigger {
            cursor: pointer;
            position: relative;
            transition: all 0.2s;
            border: 1px solid transparent;
            padding: 5px 10px;
            /* Button-like padding */
            background: rgba(0, 0, 0, 0.3);
            /* Subtle background */
            border-radius: 4px;
        }

        .arch-trigger:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: currentColor;
            box-shadow: 0 0 10px currentColor;
            text-shadow: 0 0 8px currentColor;
            transform: translateY(-2px);
        }

        .arch-trigger::after {
            content: " [VIEW]";
            font-size: 0.7em;
            opacity: 0;
            margin-left: 5px;
            transition: opacity 0.2s;
        }

        .arch-trigger:hover::after {
            opacity: 1;
        }

        @keyframes text-flicker {

            0%,
            100% {
                opacity: 1;
                text-shadow: 0 0 10px var(--accent-cyan), 0 0 20px var(--accent-cyan);
            }

            3% {
                opacity: 0.8;
                text-shadow: 0 0 5px var(--accent-cyan), 0 0 10px var(--accent-cyan);
            }

            6% {
                opacity: 1;
                text-shadow: 0 0 10px var(--accent-cyan), 0 0 20px var(--accent-cyan);
            }

            7% {
                opacity: 0.9;
                text-shadow: 0 0 8px var(--accent-cyan), 0 0 15px var(--accent-cyan);
            }

            8% {
                opacity: 1;
                text-shadow: 0 0 10px var(--accent-cyan), 0 0 20px var(--accent-cyan);
            }

            9% {
                opacity: 1;
                text-shadow: 0 0 10px var(--accent-cyan), 0 0 20px var(--accent-cyan);
            }

            10% {
                opacity: 0.95;
                text-shadow: 0 0 18px var(--accent-cyan);
            }

            11% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }

            23% {
                opacity: 0.9;
                text-shadow: 0 0 15px var(--accent-cyan);
            }

            24% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }

            35% {
                opacity: 0.85;
                text-shadow: 0 0 12px var(--accent-cyan);
            }

            36% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }

            42% {
                opacity: 0.8;
                text-shadow: 0 0 10px var(--accent-cyan);
            }

            43% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }

            50% {
                opacity: 0.95;
                text-shadow: 0 0 18px var(--accent-cyan);
            }

            55% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }

            62% {
                opacity: 0.9;
                text-shadow: 0 0 15px var(--accent-cyan);
            }

            63% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }

            70% {
                opacity: 0.9;
                text-shadow: 0 0 15px var(--accent-cyan);
            }

            71% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }

            80% {
                opacity: 0.8;
                text-shadow: 0 0 10px var(--accent-cyan);
            }

            81% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }

            85% {
                opacity: 0.95;
                text-shadow: 0 0 18px var(--accent-cyan);
            }

            92% {
                opacity: 0.9;
                text-shadow: 0 0 15px var(--accent-cyan);
            }

            93% {
                opacity: 1;
                text-shadow: 0 0 20px var(--accent-cyan);
            }
        }

        .title-flicker {
            animation: text-flicker 3s infinite;
        }

        @keyframes author-pulse {

            0%,
            100% {
                opacity: 0.7;
                text-shadow: 0 0 5px var(--accent-amber);
                transform: scale(1);
            }

            50% {
                opacity: 1;
                text-shadow: 0 0 15px var(--accent-amber);
                transform: scale(1.05);
            }
        }

        @keyframes protocol-blink {

            0%,
            50% {
                opacity: 1;
                text-shadow: 0 0 10px var(--accent-cyan);
            }

            51%,
            100% {
                opacity: 0;
                text-shadow: none;
            }
        }

        .protocol-text {
            /* Animation handled by JS */
        }

        .protocol-text::before {
            content: '> ';
            color: rgba(0, 255, 255, 0.5);
            margin-right: 10px;
        }

        .protocol-text::after {
            content: '█';
            animation: protocol-blink 1s step-end infinite;
            margin-left: 5px;
            color: var(--accent-cyan);
            vertical-align: baseline;
            opacity: 0.8;
        }

        .author-glow {
            animation: author-pulse 3s infinite ease-in-out;
            display: inline-block;
        }

        .glitch-effect {
            color: #ff0000 !important;
            text-shadow: 2px 0 #ff0000, -2px 0 #0000ff;
            transform: skewX(-10deg);
            font-family: 'Courier New', Courier, monospace;
            /* Monospace for glitch look */
        }

        .section-divider {
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent-cyan), transparent);
            margin: 2rem 0;
            opacity: 0.5;
            position: relative;
        }

        .section-divider::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 4px;
            background: #000;
            border: 1px solid var(--accent-cyan);
            box-shadow: 0 0 5px var(--accent-cyan);
        }

        /* Retro Grid Background Animation */
        .retro-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            pointer-events: none;
            perspective: 300px;
            /* Add perspective for 3D effect */
        }

        .retro-grid::before {
            content: "";
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background-image:
                linear-gradient(rgba(0, 255, 255, 0.15) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 255, 0.15) 1px, transparent 1px);
            background-size: 60px 60px;
            transform-origin: center;
            transform: rotateX(45deg);
            animation: grid-pan 3s linear infinite;
        }

        @keyframes grid-pan {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 0 60px;
            }
        }

        /* Ensure content sits above the grid */
        section>*:not(.retro-grid) {
            position: relative;
            z-index: 2;
        }

        #matrix-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 20;
            pointer-events: none;
            opacity: 0.8;
            mix-blend-mode: screen;
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;
            /* IE and Edge */
            scrollbar-width: none;
            /* Firefox */
        }

        .page-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 10000;
            font-family: 'VT323', monospace;
            font-size: 1.5rem;
            color: var(--accent-cyan);
            text-shadow: 0 0 5px var(--accent-cyan);
            pointer-events: none;
            opacity: 0.8;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 10px;
            border: 1px solid #333;
            border-radius: 4px;
            animation: signal-interference 4s infinite;
        }

        @keyframes signal-interference {
            0% {
                opacity: 0.8;
                text-shadow: 0 0 5px var(--accent-cyan);
                filter: blur(0px);
                transform: skewX(0deg);
            }

            90% {
                opacity: 0.8;
                text-shadow: 0 0 5px var(--accent-cyan);
                filter: blur(0px);
                transform: skewX(0deg);
            }

            91% {
                opacity: 0.4;
                text-shadow: 0 0 2px var(--accent-cyan);
                filter: blur(2px);
                transform: skewX(10deg);
            }

            92% {
                opacity: 0.8;
                text-shadow: 0 0 5px var(--accent-cyan);
                filter: blur(0px);
                transform: skewX(0deg);
            }

            93% {
                opacity: 0.2;
                text-shadow: none;
                filter: blur(1px);
                transform: skewX(-5deg);
            }

            94% {
                opacity: 0.8;
                text-shadow: 0 0 5px var(--accent-cyan);
                filter: blur(0px);
                transform: skewX(0deg);
            }

            96% {
                opacity: 0.5;
                text-shadow: 0 0 10px var(--accent-cyan);
                filter: blur(1px);
                transform: skewX(2deg);
            }

            100% {
                opacity: 0.8;
                text-shadow: 0 0 5px var(--accent-cyan);
                filter: blur(0px);
                transform: skewX(0deg);
            }
        }

        .gpu-branch-visual {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 2rem;
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid #444;
            border-radius: 10px;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.8);
            position: relative;
            min-height: 400px;
            /* Ensure height for absolute positioning */
        }

        .gpu-chip-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            z-index: 2;
        }

        .gpu-chip-retro {
            width: 180px;
            height: 180px;
            background: #444;
            border: 10px solid #888;
            /* Silver frame */
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .gpu-chip-core {
            width: 120px;
            height: 120px;
            background: #222;
            border: 1px solid #555;
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: radial-gradient(#333 15%, transparent 16%), radial-gradient(#333 15%, transparent 16%);
            background-size: 10px 10px;
            background-position: 0 0, 5px 5px;
        }

        .gpu-label {
            font-size: 3rem;
            font-weight: 900;
            color: #fff;
            font-family: 'VT323', monospace;
        }

        .gpu-badge {
            background: #000;
            border: 2px solid #33ffff;
            color: #fff;
            padding: 10px;
            font-size: 1rem;
            position: relative;
            max-width: 150px;
            text-align: center;
        }

        .gpu-badge::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 0 10px 10px 10px;
            border-style: solid;
            border-color: transparent transparent #33ffff transparent;
        }

        /* Scene Management */
        .gpu-scenes-container {
            position: relative;
            width: 400px;
            height: 350px;
        }

        .gpu-scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            opacity: 0;
            transition: opacity 0.5s;
        }

        /* Scene A: Original Code */
        .gpu-scene-a {
            animation: scene-a-vis 20s infinite;
        }

        /* Scene B: GPU View */
        .gpu-scene-b {
            animation: scene-b-vis 20s infinite;
        }

        @keyframes scene-a-vis {

            0%,
            45% {
                opacity: 1;
                pointer-events: auto;
            }

            50%,
            100% {
                opacity: 0;
                pointer-events: none;
            }
        }

        @keyframes scene-b-vis {

            0%,
            45% {
                opacity: 0;
                pointer-events: none;
            }

            50%,
            95% {
                opacity: 1;
                pointer-events: auto;
            }

            100% {
                opacity: 0;
                pointer-events: none;
            }
        }

        /* Scene A Animations */
        .highlight-if {
            position: relative;
        }

        .highlight-if::after {
            content: '';
            position: absolute;
            top: 0;
            left: -10px;
            right: -10px;
            bottom: 0;
            background: linear-gradient(90deg, rgba(255, 165, 0, 0.4), transparent);
            opacity: 0;
            animation: highlight-if-anim 20s infinite;
        }

        .highlight-else {
            position: relative;
        }

        .highlight-else::after {
            content: '';
            position: absolute;
            top: 0;
            left: -10px;
            right: -10px;
            bottom: 0;
            background: linear-gradient(90deg, rgba(128, 0, 128, 0.4), transparent);
            /* Purple */
            opacity: 0;
            animation: highlight-else-anim 20s infinite;
        }

        @keyframes highlight-if-anim {

            10%,
            25% {
                opacity: 1;
            }

            30%,
            100% {
                opacity: 0;
            }
        }

        @keyframes highlight-else-anim {

            30%,
            45% {
                opacity: 1;
            }

            50%,
            100% {
                opacity: 0;
            }
        }

        /* Scene B Animations */
        .gpu-calc-result {
            color: #ffc033;
            font-weight: bold;
            margin-left: 10px;
            opacity: 0;
            animation: gpu-calc-anim 20s infinite;
        }

        .gpu-highlight-row {
            position: relative;
        }

        .gpu-highlight-row::after {
            content: '';
            position: absolute;
            top: 0;
            left: -10px;
            right: -10px;
            bottom: 0;
            background: linear-gradient(90deg, rgba(255, 165, 0, 0.4), transparent);
            z-index: -1;
            opacity: 0;
            animation: gpu-select-anim 20s infinite;
        }

        .gpu-final-result {
            background: #000;
            border: 1px solid #fff;
            color: #fff;
            padding: 5px 10px;
            font-size: 1.5rem;
            font-weight: bold;
            margin-top: 10px;
            opacity: 0;
            animation: gpu-final-anim 20s infinite;
        }

        @keyframes gpu-calc-anim {

            0%,
            55% {
                opacity: 0;
            }

            60%,
            95% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes gpu-select-anim {

            0%,
            70% {
                opacity: 0;
            }

            75%,
            95% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes gpu-final-anim {

            0%,
            80% {
                opacity: 0;
                transform: translateY(10px);
            }

            85%,
            95% {
                opacity: 1;
                transform: translateY(0);
            }

            100% {
                opacity: 0;
                transform: translateY(10px);
            }
        }

        /* Step Indicators - Updated to match "PAGE" style */
        .visual-step-indicator {
            position: absolute;
            bottom: 10px;
            left: 10px;
            font-family: 'VT323', monospace;
            font-size: 1rem;
            color: var(--accent-cyan);
            background: rgba(0, 0, 0, 0.5);
            padding: 2px 8px;
            border-radius: 2px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            z-index: 10;
        }

        .fig-label-right {
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-family: 'VT323', monospace;
            font-size: 1rem;
            color: var(--accent-cyan);
            font-size: 0.7rem;
            z-index: 10;
            text-align: right;
            pointer-events: none;
        }

        .fig-label-right::before {
            content: "> ";
            animation: blink 1s infinite;
        }

        /* CPU Steps Animation (9s) */
        .cpu-step-text::after {
            content: "STEP 1: 初始状态";
            animation: cpu-step-anim 9s infinite;
        }

        @keyframes cpu-step-anim {

            0%,
            30% {
                content: "STEP 1: 逻辑判断 (Logic)";
                color: #aaa;
            }

            33%,
            63% {
                content: "STEP 2: 分支执行 (Exec)";
                color: #ffc033;
            }

            66%,
            100% {
                content: "STEP 3: 核心优势 (Core)";
                color: #33ffff;
            }
        }

        /* GPU Steps Animation (20s) */
        .gpu-step-text::after {
            content: "STEP 1: 遇到分支";
            animation: gpu-step-anim 20s infinite;
        }

        @keyframes gpu-step-anim {

            0%,
            25% {
                content: "STEP 1: 遇到分支 (Branch)";
                color: #aaa;
            }

            25%,
            50% {
                content: "STEP 2: 无法跳转 (Block)";
                color: #ff6666;
            }

            50%,
            75% {
                content: "STEP 3: 全量计算 (Calc)";
                color: #ffc033;
            }

            75%,
            100% {
                content: "STEP 4: 结果筛选 (Select)";
                color: #33ffff;
            }
        }

        /* GPU Dependency Visual */
        .gpu-dependency-visual {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 2rem;
            margin: 2rem 0;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid #444;
            border-radius: 10px;
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.8);
            position: relative;
        }

        .dep-window-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .dep-arrow-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
            opacity: 0;
            animation: dep-arrow-anim 15s infinite;
        }

        .dep-arrow-path {
            fill: none;
            stroke: #ffc033;
            stroke-width: 3;
            stroke-dasharray: 10;
            animation: dashFlow 1s linear infinite;
        }

        .dep-badge {
            position: absolute;
            bottom: -30px;
            right: 0;
            background: #000;
            border: 2px solid #ff6666;
            color: #fff;
            padding: 8px 12px;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.8);
            z-index: 10;
            opacity: 0;
            animation: dep-badge-anim 15s infinite;
        }

        .dep-badge::before {
            content: '';
            position: absolute;
            top: -10px;
            right: 20px;
            border-width: 0 10px 10px 10px;
            border-style: solid;
            border-color: transparent transparent #ff6666 transparent;
        }

        /* Highlights */
        .dep-cpu-highlight {
            background: linear-gradient(90deg, rgba(255, 165, 0, 0.4), transparent);
            opacity: 0;
            animation: dep-cpu-anim 15s infinite;
        }

        .dep-gpu-highlight {
            opacity: 0;
            padding: 2px 5px;
            border-radius: 4px;
            animation-duration: 15s;
            animation-iteration-count: infinite;
        }

        /* Sequential Highlighting for GPU Dependency */
        .dep-gpu-highlight:nth-child(1) {
            animation-name: dep-gpu-line-1;
        }

        /* c=... */
        .dep-gpu-highlight:nth-child(2) {
            animation-name: dep-gpu-line-2;
        }

        /* d=... */
        .dep-gpu-highlight:nth-child(3) {
            animation-name: dep-gpu-line-3;
        }

        /* e=... */
        .dep-gpu-highlight:nth-child(4) {
            animation-name: dep-gpu-line-4;
        }

        /* tmp1=... */
        .dep-gpu-highlight:nth-child(5),
        .dep-gpu-highlight:nth-child(6) {
            animation-name: dep-gpu-line-independent;
        }

        /* Chip Animations */
        .dep-cpu-chip {
            width: 60px;
            height: 60px;
            border-width: 4px;
            z-index: 5;
            background: #ddd;
            border-color: #fff;
            transition: all 0.3s;
            animation: dep-cpu-chip-anim 15s infinite;
        }

        .dep-gpu-chip {
            width: 60px;
            height: 60px;
            border-width: 4px;
            z-index: 5;
            transition: all 0.3s;
            animation: dep-gpu-chip-anim 15s infinite;
        }

        @keyframes dep-cpu-chip-anim {

            0%,
            10%,
            20% {
                box-shadow: 0 0 20px #fff;
                border-color: #fff;
                transform: scale(1.2);
            }

            5%,
            15%,
            25% {
                box-shadow: 0 0 5px #ccc;
                border-color: #ccc;
                transform: scale(1.15);
            }

            30%,
            100% {
                box-shadow: none;
                border-color: #888;
                transform: scale(1);
            }
        }

        @keyframes dep-gpu-chip-anim {

            0%,
            29% {
                box-shadow: none;
                border-color: #888;
                transform: scale(1);
            }

            /* Phase 2: Parallel (Green/Cyan) */
            30%,
            40%,
            50% {
                box-shadow: 0 0 20px #33ffaa;
                border-color: #33ffaa;
                transform: scale(1.2);
            }

            35%,
            45%,
            55% {
                box-shadow: 0 0 5px #22aa77;
                border-color: #22aa77;
                transform: scale(1.15);
            }

            /* Transition */
            59% {
                box-shadow: none;
                border-color: #888;
                transform: scale(1);
            }

            /* Phase 3: Blocked (Red) */
            60%,
            70%,
            80%,
            90% {
                box-shadow: 0 0 20px #ff6666;
                border-color: #ff6666;
                transform: scale(1.2);
            }

            65%,
            75%,
            85%,
            95% {
                box-shadow: 0 0 5px #aa4444;
                border-color: #aa4444;
                transform: scale(1.15);
            }

            100% {
                box-shadow: none;
                border-color: #888;
                transform: scale(1);
            }
        }

        /* Animations */
        @keyframes dep-cpu-anim {

            0%,
            29% {
                opacity: 1;
            }

            30%,
            100% {
                opacity: 0;
            }
        }

        /* Sequential Line Animations */
        @keyframes dep-gpu-line-independent {
            25% {
                opacity: 0;
            }

            30%,
            60% {
                opacity: 1;
                background: rgba(255, 255, 255, 0.1);
                color: #fff;
            }

            65%,
            95% {
                opacity: 0.3;
                background: transparent;
                color: #888;
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes dep-gpu-line-1 {
            25% {
                opacity: 0;
            }

            30%,
            60% {
                opacity: 1;
                background: rgba(255, 255, 255, 0.1);
                color: #fff;
            }

            60.1% {
                opacity: 0.5;
                color: #ff6666;
                background: transparent;
            }

            65%,
            72% {
                opacity: 1;
                background: rgba(255, 102, 102, 0.3);
                color: #fff;
                transform: scale(1.05);
            }

            73%,
            95% {
                opacity: 0.5;
                background: transparent;
                color: #888;
                transform: scale(1);
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes dep-gpu-line-2 {
            25% {
                opacity: 0;
            }

            30%,
            60% {
                opacity: 1;
                background: rgba(255, 255, 255, 0.1);
                color: #fff;
            }

            60.1% {
                opacity: 0.5;
                color: #ff6666;
                background: transparent;
            }

            73%,
            80% {
                opacity: 1;
                background: rgba(255, 102, 102, 0.3);
                color: #fff;
                transform: scale(1.05);
            }

            81%,
            95% {
                opacity: 0.5;
                background: transparent;
                color: #888;
                transform: scale(1);
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes dep-gpu-line-3 {
            25% {
                opacity: 0;
            }

            30%,
            60% {
                opacity: 1;
                background: rgba(255, 255, 255, 0.1);
                color: #fff;
            }

            60.1% {
                opacity: 0.5;
                color: #ff6666;
                background: transparent;
            }

            81%,
            88% {
                opacity: 1;
                background: rgba(255, 102, 102, 0.3);
                color: #fff;
                transform: scale(1.05);
            }

            89%,
            95% {
                opacity: 0.5;
                background: transparent;
                color: #888;
                transform: scale(1);
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes dep-gpu-line-4 {
            25% {
                opacity: 0;
            }

            30%,
            60% {
                opacity: 1;
                background: rgba(255, 255, 255, 0.1);
                color: #fff;
            }

            60.1% {
                opacity: 0.5;
                color: #ff6666;
                background: transparent;
            }

            89%,
            95% {
                opacity: 1;
                background: rgba(255, 102, 102, 0.3);
                color: #fff;
                transform: scale(1.05);
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes dep-arrow-anim {

            0%,
            60% {
                opacity: 0;
            }

            65%,
            95% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        @keyframes dep-badge-anim {

            0%,
            60% {
                opacity: 0;
                transform: translateY(10px);
            }

            65%,
            95% {
                opacity: 1;
                transform: translateY(0);
            }

            100% {
                opacity: 0;
                transform: translateY(10px);
            }
        }

        /* Step Text */
        .dep-step-text::after {
            content: "STEP 1: 初始状态";
            animation: dep-step-text-anim 15s infinite;
        }

        @keyframes dep-step-text-anim {

            0%,
            29% {
                content: "STEP 1: CPU逻辑判断 (Logic)";
                color: #aaa;
            }

            30%,
            59% {
                content: "STEP 2: GPU尝试并行 (Parallel Attempt)";
                color: #33ffaa;
            }

            60%,
            100% {
                content: "STEP 3: 依赖阻塞 (Dependency Block)";
                color: #ff6666;
            }
        }

        /* CPU-GPU Collaboration Visual */
        .collab-visual {
            display: flex;
            align-items: flex-end;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            padding: 2rem 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            position: relative;
        }

        .collab-side {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            position: relative;
            width: 120px;
        }

        .collab-title {
            font-size: 1.2rem;
            font-weight: 900;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 5px;
            opacity: 0.5;
            transition: all 0.3s;
        }

        .collab-chip {
            width: 80px;
            height: 80px;
            background: #ddd;
            border: 4px solid #888;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 900;
            font-size: 1.5rem;
            color: #000;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 2;
        }

        .collab-chip.gpu {
            background: #555;
            color: #fff;
        }

        .collab-chip.gpu .core {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #333, #000);
            border: 1px solid #666;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .game-screen {
            width: 240px;
            height: 160px;
            background: #000;
            border: 3px solid #ffc033;
            border-radius: 5px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(255, 192, 51, 0.2);
            margin-bottom: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Pixel Art Dino */
        .pixel-dino {
            display: grid;
            grid-template-columns: repeat(10, 6px);
            grid-template-rows: repeat(10, 6px);
            gap: 1px;
            transform: scale(2);
            /* Make it bigger */
            animation: dino-container-jump 6s infinite;
        }

        @keyframes dino-container-jump {

            0%,
            55% {
                transform: scale(2) translateY(0);
            }

            60% {
                transform: scale(2) translateY(-20px);
            }

            65% {
                transform: scale(2) translateY(0);
            }

            100% {
                transform: scale(2) translateY(0);
            }
        }

        .d-pixel {
            background: #33ffaa;
            opacity: 0;
            box-shadow: 0 0 2px #33ffaa;
        }

        /* Dino Shape Map (1 = .d-pixel, 0 = .d-empty) */
        /* We will use nth-child delays to simulate rendering */

        .d-pixel {
            animation: pixel-render-anim 6s infinite;
        }

        /* Randomize render order slightly for "parallel" feel */
        .d-pixel:nth-child(odd) {
            animation-delay: 0.1s;
        }

        .d-pixel:nth-child(2n) {
            animation-delay: 0.2s;
        }

        .d-pixel:nth-child(3n) {
            animation-delay: 0.05s;
        }

        .d-pixel:nth-child(5n) {
            animation-delay: 0.15s;
        }

        .d-pixel:nth-child(7n) {
            animation-delay: 0.25s;
        }

        @keyframes pixel-render-anim {

            0%,
            45% {
                opacity: 0;
                transform: scale(0);
            }

            48% {
                opacity: 1;
                transform: scale(1);
            }

            /* Fast appear */
            50%,
            90% {
                opacity: 1;
                transform: scale(1);
            }

            95%,
            100% {
                opacity: 0;
                transform: scale(0);
            }
        }

        .speech-bubble {
            position: absolute;
            background: #fff;
            color: #000;
            padding: 8px 12px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: bold;
            width: 140px;
            text-align: center;
            top: -60px;
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 10;
            pointer-events: none;
        }

        .speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 8px 8px 0;
            border-style: solid;
            border-color: #fff transparent transparent transparent;
        }

        .speech-bubble.left {
            left: -10px;
            border: 2px solid #00aaff;
        }

        .speech-bubble.left::after {
            border-color: #00aaff transparent transparent transparent;
            top: 100%;
            bottom: auto;
            border-width: 8px 8px 0;
        }

        .speech-bubble.right {
            right: -10px;
            border: 2px solid #33ffaa;
        }

        .speech-bubble.right::after {
            border-color: #33ffaa transparent transparent transparent;
            top: 100%;
            bottom: auto;
            border-width: 8px 8px 0;
        }

        /* Animation Sequence */
        .collab-visual {
            animation: collab-cycle 6s infinite;
        }

        .collab-side.cpu .collab-title {
            animation: title-glow-cpu 6s infinite;
        }

        .collab-side.gpu .collab-title {
            animation: title-glow-gpu 6s infinite;
        }

        .collab-side.cpu .collab-chip {
            animation: chip-pulse-cpu 6s infinite;
        }

        .collab-side.gpu .collab-chip {
            animation: chip-pulse-gpu 6s infinite;
        }

        .speech-bubble.left {
            animation: speech-pop-cpu 6s infinite;
        }

        .speech-bubble.right {
            animation: speech-pop-gpu 6s infinite;
        }

        .dino {
            animation: dino-jump-anim 6s infinite;
        }

        @keyframes collab-cycle {
            0% {}

            100% {}
        }

        @keyframes title-glow-cpu {

            0%,
            40% {
                opacity: 1;
                text-shadow: 0 0 15px #fff;
                transform: scale(1.1);
            }

            45%,
            100% {
                opacity: 0.5;
                text-shadow: none;
                transform: scale(1);
            }
        }

        @keyframes title-glow-gpu {

            0%,
            40% {
                opacity: 0.5;
                text-shadow: none;
                transform: scale(1);
            }

            45%,
            90% {
                opacity: 1;
                text-shadow: 0 0 15px #33ffaa;
                transform: scale(1.1);
            }

            95%,
            100% {
                opacity: 0.5;
                text-shadow: none;
                transform: scale(1);
            }
        }

        @keyframes chip-pulse-cpu {

            0%,
            40% {
                box-shadow: 0 0 20px #fff;
                border-color: #fff;
            }

            45%,
            100% {
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
                border-color: #888;
            }
        }

        @keyframes chip-pulse-gpu {

            0%,
            40% {
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
                border-color: #888;
            }

            45%,
            90% {
                box-shadow: 0 0 20px #33ffaa;
                border-color: #33ffaa;
            }

            95%,
            100% {
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
                border-color: #888;
            }
        }

        @keyframes speech-pop-cpu {
            5% {
                opacity: 1;
                transform: scale(1) translateY(-10px);
            }

            35% {
                opacity: 1;
                transform: scale(1) translateY(-10px);
            }

            40% {
                opacity: 0;
                transform: scale(0.8) translateY(0);
            }
        }

        @keyframes speech-pop-gpu {

            0%,
            45% {
                opacity: 0;
                transform: scale(0.8) translateY(0);
            }

            50% {
                opacity: 1;
                transform: scale(1) translateY(-10px);
            }

            85% {
                opacity: 1;
                transform: scale(1) translateY(-10px);
            }

            90% {
                opacity: 0;
                transform: scale(0.8) translateY(0);
            }
        }

        @keyframes dino-jump-anim {

            0%,
            10% {
                bottom: 20px;
            }

            15% {
                bottom: 80px;
            }

            /* Jump */
            25% {
                bottom: 20px;
            }

            /* Land */
            100% {
                bottom: 20px;
            }
        }

        /* Helper for empty pixels */
        .d-empty {
            background: transparent;
            box-shadow: none;
        }


        /* CPU Branch Visual Component */
        .cpu-branch-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 3rem;
            margin: 2rem 0;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid #444;
            border-radius: 10px;
            position: relative;
            /* Added for absolute positioning of labels */
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.8);
            position: relative;
            /* Added for step indicator */
        }

        .code-window-retro {
            width: 260px;
            background: #000;
            border: 2px solid #ffc033;
            /* Amber border */
            font-family: 'Courier New', monospace;
            box-shadow: 0 0 15px rgba(255, 192, 51, 0.2);
            position: relative;
        }

        .window-header-retro {
            background: #ffc033;
            color: #000;
            padding: 2px 8px;
            font-weight: bold;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
        }

        .code-content-retro {
            padding: 15px;
            color: #fff;
            font-size: 1.4rem;
            line-height: 1.4;
            text-align: left;
        }

        .code-content-retro .kwd {
            color: #33ffff;
        }

        /* Cyan */
        .code-content-retro .num {
            color: #ff6666;
        }

        /* Red */
        .code-content-retro .func {
            color: #66ff66;
        }

        /* Green */
        .code-content-retro .indent {
            padding-left: 20px;
        }

        .highlight-block-retro {
            background: linear-gradient(90deg, rgba(255, 165, 0, 0.4), transparent);
            box-shadow: 0 0 20px rgba(255, 165, 0, 0.4);
            margin-left: -15px;
            padding-left: 35px;
            /* Compensate for margin + indent */
            margin-right: -15px;
            position: relative;
            opacity: 0;
            animation: cpu-seq-1 9s infinite, highlight-pulse 2s infinite alternate;
        }

        @keyframes highlight-pulse {
            from {
                box-shadow: 0 0 10px rgba(255, 165, 0, 0.3);
            }

            to {
                box-shadow: 0 0 25px rgba(255, 165, 0, 0.6);
            }
        }

        /* Sequence Animation Keyframes */
        @keyframes cpu-seq-1 {

            0%,
            30% {
                opacity: 0;
                transform: translateX(-10px);
            }

            33%,
            95% {
                opacity: 1;
                transform: translateX(0);
            }

            100% {
                opacity: 0;
                transform: translateX(-10px);
            }
        }

        @keyframes cpu-seq-2 {

            0%,
            63% {
                opacity: 0;
                transform: scale(0.8);
                filter: blur(5px);
            }

            66%,
            95% {
                opacity: 1;
                transform: scale(1);
                filter: blur(0);
            }

            100% {
                opacity: 0;
                transform: scale(0.8);
                filter: blur(5px);
            }
        }

        .assumption-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            text-align: left;
            min-width: 150px;
            /* Prevent layout shift */
        }

        .assumption-text {
            font-size: 2rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 5px #fff;
        }

        .result-text {
            font-size: 2rem;
            font-weight: bold;
            color: #fff;
            text-shadow: 0 0 5px #fff;
            opacity: 0;
            animation: cpu-seq-1 9s infinite;
        }

        .cpu-chip-retro {
            width: 220px;
            height: 220px;
            background: #555;
            border-radius: 20px;
            padding: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            position: relative;
            opacity: 0;
            animation: cpu-seq-2 9s infinite;
        }

        .chip-inner {
            width: 100%;
            height: 100%;
            background: #777;
            border: 2px solid #444;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .chip-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 10px 10px;
            opacity: 0.5;
        }

        /* AI Matrix Demo Styles */
        .ai-matrix-demo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
            padding: 20px;
            padding-bottom: 35px;
            /* Added space for FIG label */
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #333;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            position: relative;
            /* Added for labels */
        }

        .viz-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .viz-label {
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--accent-cyan);
            background: rgba(0, 255, 255, 0.1);
            padding: 2px 8px;
            border-radius: 4px;
        }

        /* Neural Network SVG */
        .nn-svg {
            width: 240px;
            height: 180px;
            filter: drop-shadow(0 0 5px rgba(51, 255, 255, 0.3));
        }

        .nn-connections line {
            stroke: #444;
            stroke-width: 1;
            opacity: 0.3;
        }

        .nn-nodes circle {
            fill: #111;
            stroke: #fff;
            stroke-width: 1.5;
        }

        /* Flow Animation Classes */
        .flow-layer-1 {
            animation: node-pulse 2s infinite;
            animation-delay: 0s;
        }

        .flow-layer-2 {
            animation: node-pulse 2s infinite;
            animation-delay: 0.5s;
        }

        .flow-layer-3 {
            animation: node-pulse 2s infinite;
            animation-delay: 1.0s;
        }

        .flow-layer-4 {
            animation: node-pulse 2s infinite;
            animation-delay: 1.5s;
        }

        .flow-con-1 line {
            animation: line-flash 2s infinite;
            animation-delay: 0.25s;
        }

        .flow-con-2 line {
            animation: line-flash 2s infinite;
            animation-delay: 0.75s;
        }

        .flow-con-3 line {
            animation: line-flash 2s infinite;
            animation-delay: 1.25s;
        }

        @keyframes node-pulse {

            0%,
            100% {
                fill: #111;
                stroke: #fff;
                transform: scale(1);
            }

            50% {
                fill: var(--accent-cyan);
                stroke: var(--accent-cyan);
                transform: scale(1.1);
            }
        }

        @keyframes line-flash {

            0%,
            100% {
                stroke: #444;
                opacity: 0.3;
                stroke-width: 1;
            }

            50% {
                stroke: var(--accent-cyan);
                opacity: 1;
                stroke-width: 1;
            }
        }

        /* Focus Box (Orange Bracket) */
        .focus-box rect {
            fill: none;
            stroke: var(--accent-amber);
            stroke-width: 2;
            stroke-dasharray: 5, 3;
            animation: dash-scroll 10s linear infinite;
        }

        .focus-connector line {
            stroke: var(--accent-amber);
            stroke-width: 2;
            stroke-dasharray: 5;
            animation: dash-scroll 1s linear infinite;
        }

        @keyframes dash-scroll {
            to {
                stroke-dashoffset: -100;
            }
        }

        /* Matrix Styles */
        .matrix-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .matrix-group {
            display: flex;
            align-items: center;
        }

        .matrix-bracket {
            font-size: 3rem;
            font-weight: 300;
            color: #fff;
            line-height: 1;
        }

        .matrix-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5px;
            margin: 0 5px;
        }

        .m-cell {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #444;
            color: #888;
            font-size: 0.9rem;
        }

        .math-op,
        .matrix-equals {
            font-size: 1.5rem;
            color: #fff;
            margin: 0 5px;
        }

        .matrix-result {
            display: flex;
            align-items: center;
        }

        .result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5px;
            margin: 0 5px;
        }

        .r-cell {
            width: 120px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #444;
            color: #555;
            font-size: 0.8rem;
        }

        /* Animation Highlights */
        .highlight-a {
            border-color: var(--accent-red);
            color: var(--accent-red);
            background: rgba(255, 102, 102, 0.1);
            animation: pulse-red 2s infinite;
        }

        .highlight-b {
            border-color: var(--accent-amber);
            color: var(--accent-amber);
            background: rgba(255, 192, 51, 0.1);
            animation: pulse-amber 2s infinite;
        }

        .active-calc {
            border-color: var(--accent-cyan);
            color: #fff;
            background: rgba(51, 255, 255, 0.1);
            box-shadow: 0 0 10px rgba(51, 255, 255, 0.2);
        }

        .calc-part:nth-child(1) {
            color: var(--accent-red);
        }

        .calc-part:nth-child(2) {
            color: var(--accent-amber);
        }

        @keyframes pulse-red {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        @keyframes pulse-amber {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        /* GPU Icon */
        .gpu-icon-small {
            position: absolute;
            bottom: -15px;
            right: -15px;
            width: 60px;
            height: 40px;
            animation: float 3s ease-in-out infinite;
        }

        .gpu-chip-body {
            width: 100%;
            height: 100%;
            background: #222;
            border: 2px solid #666;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
            position: relative;
        }

        /* Retro Yellow Horizontal Text */
        .gpu-text-label {
            font-family: 'VT323', monospace;
            font-size: 1.4rem;
            font-weight: bold;
            color: #ffaa00;
            /* Retro Yellow */
            letter-spacing: 1px;
            text-shadow: 0 0 5px rgba(255, 170, 0, 0.5);
        }

        .gpu-sparkle {
            position: absolute;
            top: -8px;
            right: -8px;
            color: var(--accent-cyan);
            font-size: 1.4rem;
            animation: sparkle 1s infinite alternate;
            z-index: 2;
        }

        @keyframes sparkle {
            from {
                transform: scale(0.8);
                opacity: 0.5;
            }

            to {
                transform: scale(1.2);
                opacity: 1;
            }
        }

        .viz-arrow {
            display: flex;
            align-items: center;
            color: var(--accent-amber);
            font-size: 2rem;
            animation: slide-right 1s infinite alternate;
        }

        @keyframes slide-right {
            from {
                transform: translateX(0);
            }

            to {
                transform: translateX(5px);
            }
        }
    </style>
</head>

<body>
    <!-- Background Music -->
    <audio id="bgm-audio" loop>
        <source src="music/Hans Zimmer - Risen from Darkness_L.ogg" type="audio/ogg">
    </audio>

    <!-- Music Controls Container -->
    <div class="music-controls-container"
        style="position: fixed; top: 20px; right: 20px; z-index: 10000; display: flex; gap: 10px;">
        <!-- Music Toggle Switch -->
        <div class="music-toggle" id="music-toggle" style="position: relative; top: auto; right: auto; margin: 0;">
            <span id="music-icon">🔇</span> <span id="music-text">BGM: OFF</span>
        </div>
        <!-- Next Song Button -->
        <div class="music-toggle" id="music-next"
            style="position: relative; top: auto; right: auto; margin: 0; padding: 6px 10px;" title="下一首">
            <span>⏭</span>
        </div>
    </div>

    <!-- Navigation Menu -->
    <div class="nav-trigger-area"></div>
    <div class="nav-menu-container">
        <div class="nav-toggle">/// 导航目录 ///</div>
        <ul class="nav-list" id="nav-list">
            <!-- Items injected by JS -->
        </ul>
    </div>

    <!-- Page Indicator -->
    <div class="page-indicator" id="page-indicator">PAGE 01/08</div>

    <div class="universe-bg">
        <div class="stars"></div>
        <div class="stars2"></div>
        <div class="stars3"></div>
    </div>

    <div class="container">
        <!-- Title Slide -->
        <section class="reveal active"
            style="display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;">
            <h1 class="title-flicker"
                style="font-size: 6rem; font-weight: 900; margin-bottom: 3rem; letter-spacing: 15px; color: #fff; text-shadow: 0 0 10px var(--accent-cyan), 0 0 20px var(--accent-cyan);">
                芯力量 智万物</h1>
            <p class="protocol-text"
                style="font-size: 1.5rem; letter-spacing: 3px; color: rgba(100, 255, 255, 0.9); text-shadow: 0 0 5px rgba(0, 255, 255, 0.4); display: inline-block; font-family: 'VT323', monospace; position: relative; text-align: left;">
                CORE_POWER_INTELLIGENT_UNIVERSE_INIT</p>
            <p style="margin-top: 3rem; font-size: 1.2rem; letter-spacing: 2px; color: var(--text-main);">
                分享人 : <span class="author-glow" style="color: var(--accent-amber); font-weight: bold;">史蒂芬猴</span>
            </p>
        </section>


        <!-- PART I: Introduction -->
        <section class="reveal">
            <h2>01_开篇：核心问题</h2>
            <div class="content-grid no-scrollbar"
                style="height: 85vh; overflow-y: auto; display: flex; flex-direction: column; align-items: center; gap: 2rem;">
                <div style="text-align: left; width: 100%; max-width: 900px;">
                    <h3
                        style="color: var(--accent-amber); margin-bottom: 1rem; border-bottom: 1px solid rgba(255, 193, 7, 0.3); padding-bottom: 0.5rem;">
                        处理器分化疑问</h3>

                    <div
                        style="background: rgba(255, 255, 255, 0.03); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-amber); margin-bottom: 2rem;">
                        <p style="font-size: 1.1rem; line-height: 1.8; margin-bottom: 1rem; color: #eee;">
                            CPU、GPU、NPU名称仅差一个单词，却成为三类不同计算芯片。
                        </p>
                        <p style="font-size: 1.2rem; font-weight: bold; color: #fff; margin: 0;">
                            为何需要这种分化？三者核心区别是什么？
                        </p>
                    </div>

                    <div
                        style="display: flex; justify-content: center; align-items: center; width: 100%; margin: 2rem 0;">
                        <div class="chip-stack" id="interactive-chip">
                            <!-- Layer 1: Substrate -->
                            <div class="layer substrate"></div>

                            <!-- Layer 2: Architecture (Cores + Cache) -->
                            <div class="layer die">
                                <!-- CPU Section -->
                                <div class="arch-block cpu-area" onclick="openDetail('cpu')">
                                    <div class="cpu-header-full">
                                        <div class="cpu-title-large">CPU</div>
                                        <div class="cpu-subtitle">Control + Logic</div>
                                    </div>
                                    <div class="mini-core-container">
                                        <div class="mini-core"><span>ALU</span></div>
                                        <div class="mini-core"><span>ALU</span></div>
                                        <div class="mini-core"><span>ALU</span></div>
                                        <div class="mini-core"><span>ALU</span></div>
                                    </div>
                                    <div class="mini-cache">L3 CACHE</div>
                                    <div class="click-hint">点击放大</div>
                                </div>

                                <!-- GPU Section -->
                                <div class="arch-block gpu-area" onclick="openDetail('gpu')">
                                    <div class="gpu-header-full">
                                        <div class="gpu-title-large">GPU</div>
                                        <div class="gpu-subtitle">Massive Parallel</div>
                                    </div>
                                    <div class="gpu-grid-mini">
                                        <!-- Generated by CSS pattern, but let's add some 'cores' -->
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                        <div class="mini-sm"></div>
                                    </div>
                                    <div class="click-hint">点击放大</div>
                                </div>

                                <!-- NPU Section -->
                                <div class="arch-block npu-area" onclick="openDetail('npu')">
                                    <div class="npu-header-full">
                                        <div class="npu-title-large">NPU</div>
                                        <div class="npu-subtitle">Matrix Engine</div>
                                    </div>
                                    <div class="npu-layout-mini">
                                        <div class="npu-buffer">UNIFIED BUFFER</div>
                                        <div class="npu-array-mini">
                                            <div class="systolic-cell"></div>
                                            <div class="systolic-cell"></div>
                                            <div class="systolic-cell"></div>
                                            <div class="systolic-cell"></div>
                                            <div class="systolic-cell"></div>
                                            <div class="systolic-cell"></div>
                                            <div class="systolic-cell"></div>
                                            <div class="systolic-cell"></div>
                                            <div class="systolic-cell"></div>
                                        </div>
                                        <div class="npu-activation">ACTIVATION</div>
                                    </div>
                                    <div class="click-hint">点击放大</div>
                                </div>
                            </div>

                            <!-- Layer 3: Interconnects -->
                            <div class="layer interconnect"></div>

                            <!-- Layer 4: IHS -->
                            <div class="layer ihs"></div>

                            <!-- Interactive Instruction -->
                            <div class="chip-instruction">[ 悬停展开 • 点击区块查看详情 ]</div>
                        </div>
                    </div>

                    <!-- <div class="section-divider"></div> -->

                    <h3
                        style="color: var(--accent-cyan); margin-top: 3rem; margin-bottom: 1rem; border-bottom: 1px solid rgba(33, 150, 243, 0.3); padding-bottom: 0.5rem;">
                        类比理解难点</h3>
                    <p style="margin-bottom: 1.5rem; color: #aaa; font-size: 1rem;">网上常将它们比喻为：</p>

                    <!-- Copied Architecture Overview Content -->
                    <div class="content-grid"
                        style="display: flex; flex-direction: column; gap: 20px; max-width: 1000px; margin: 2rem auto 0;">

                        <!-- CPU Row -->
                        <div
                            style="display: flex; align-items: center; width: 100%; background: rgba(0, 255, 255, 0.05); border: 1px solid rgba(0, 255, 255, 0.3); border-radius: 10px; padding: 15px;">
                            <div style="flex: 1; text-align: left; padding-right: 20px;">
                                <h3 style="color: #00ffff; font-size: 1.5rem; margin-bottom: 0.5rem;">CPU: 通用型指挥官</h3>
                                <p style="font-size: 1rem; color: #ddd;">Central Processing Unit</p>
                                <p style="font-size: 0.9rem; color: #aaa; margin-top: 5px;">擅长复杂逻辑与串行任务<br>比喻：博学多才的教授
                                    (Professor)</p>
                            </div>
                            <div style="flex: 0 0 200px; display: flex; justify-content: center;">
                                <!-- CPU Reference Image Recreation -->
                                <svg viewBox="0 0 200 150" width="200" height="150"
                                    style="background: #001100; border: 1px solid #004400;">
                                    <defs>
                                        <pattern id="grid-cpu" width="20" height="20" patternUnits="userSpaceOnUse">
                                            <path d="M 20 0 L 0 0 0 20" fill="none" stroke="rgba(50, 205, 50, 0.3)"
                                                stroke-width="1" />
                                        </pattern>
                                    </defs>
                                    <rect width="100%" height="100%" fill="url(#grid-cpu)" />

                                    <!-- Title -->
                                    <text x="100" y="25" text-anchor="middle" fill="#fff" font-size="16"
                                        font-weight="bold" font-family="sans-serif">单个复杂任务</text>

                                    <!-- CPU Chip Icon -->
                                    <g transform="translate(10, 60)">
                                        <rect width="50" height="50" rx="5" fill="#e0e0e0" stroke="#666"
                                            stroke-width="2" />
                                        <rect x="5" y="15" width="5" height="20" fill="#999" />
                                        <rect x="40" y="15" width="5" height="20" fill="#999" />
                                        <text x="25" y="32" text-anchor="middle" fill="#000" font-weight="bold"
                                            font-size="14" font-family="sans-serif">CPU</text>
                                    </g>

                                    <!-- Professor Figure (Animated) -->
                                    <g transform="translate(80, 40)">
                                        <!-- Thinking Particles -->
                                        <g class="thinking-particles">
                                            <text x="85" y="20" fill="#00ffff" font-size="24" font-weight="bold"
                                                opacity="0"
                                                style="animation: float-question 3s infinite ease-out;">?</text>
                                            <text x="95" y="10" fill="#00ffff" font-size="18" font-weight="bold"
                                                opacity="0"
                                                style="animation: float-question 3s infinite 1.5s ease-out;">?</text>
                                        </g>

                                        <!-- Head Group for Animation -->
                                        <g class="professor-head"
                                            style="transform-origin: 60px 90px; animation: head-tilt 4s ease-in-out infinite;">
                                            <!-- Cap -->
                                            <path d="M20,20 L60,5 L100,20 L60,35 Z" fill="#000" stroke="#fff"
                                                stroke-width="2" />
                                            <path d="M60,35 L60,55" stroke="#fff" stroke-width="2" />
                                            <!-- Cap bottom -->
                                            <!-- Head -->
                                            <circle cx="60" cy="65" r="20" fill="#000" stroke="#fff" stroke-width="2" />
                                            <!-- Glasses -->
                                            <g stroke="#fff" stroke-width="2" fill="none">
                                                <rect x="48" y="60" width="10" height="6" rx="2" />
                                                <rect x="62" y="60" width="10" height="6" rx="2" />
                                                <line x1="58" y1="63" x2="62" y2="63" />
                                            </g>
                                        </g>

                                        <!-- Body -->
                                        <path d="M30,110 L60,90 L90,110" fill="none" stroke="#fff" stroke-width="2" />
                                        <!-- Arms -->
                                        <path d="M30,110 L50,100 L70,100 L90,110" fill="none" stroke="#fff"
                                            stroke-width="2" />
                                        <!-- Desk -->
                                        <line x1="20" y1="115" x2="100" y2="115" stroke="#fff" stroke-width="3" />
                                    </g>
                                </svg>
                            </div>
                        </div>

                        <!-- <div class="section-divider"></div> -->

                        <!-- GPU Row -->
                        <div
                            style="display: flex; align-items: center; width: 100%; background: rgba(255, 51, 51, 0.05); border: 1px solid rgba(255, 51, 51, 0.3); border-radius: 10px; padding: 15px;">
                            <div style="flex: 1; text-align: left; padding-right: 20px;">
                                <h3 style="color: #ff3333; font-size: 1.5rem; margin-bottom: 0.5rem;">GPU: 并行计算大军</h3>
                                <p style="font-size: 1rem; color: #ddd;">Graphics Processing Unit</p>
                                <p style="font-size: 0.9rem; color: #aaa; margin-top: 5px;">
                                    擅长图形渲染与大规模并行计算<br>比喻：人多力量大的学生
                                    (Students)</p>
                            </div>
                            <div style="flex: 0 0 200px; display: flex; justify-content: center;">
                                <!-- GPU Reference Image Recreation -->
                                <svg viewBox="0 0 200 150" width="200" height="150"
                                    style="background: #001100; border: 1px solid #004400;">
                                    <rect width="100%" height="100%" fill="url(#grid-cpu)" /> <!-- Reuse grid -->

                                    <!-- Title -->
                                    <text x="100" y="25" text-anchor="middle" fill="#fff" font-size="14"
                                        font-weight="bold" font-family="sans-serif">同时处理多个简单任务</text>

                                    <!-- GPU Chip Icon -->
                                    <g transform="translate(10, 60)">
                                        <rect width="50" height="50" rx="5" fill="#666" stroke="#999"
                                            stroke-width="2" />
                                        <rect x="10" y="10" width="30" height="30" fill="#333" />
                                        <text x="25" y="32" text-anchor="middle" fill="#fff" font-weight="bold"
                                            font-size="14" font-family="sans-serif">GPU</text>
                                    </g>

                                    <!-- Students Grid -->
                                    <g transform="translate(70, 40)">
                                        <defs>
                                            <g id="student-fig">
                                                <circle cx="10" cy="10" r="6" fill="#000" stroke="#fff"
                                                    stroke-width="1.5" />
                                                <path d="M2,25 L10,18 L18,25" fill="none" stroke="#fff"
                                                    stroke-width="1.5" />
                                                <line x1="0" y1="28" x2="20" y2="28" stroke="#fff" stroke-width="1.5" />
                                            </g>
                                            <style>
                                                @keyframes student-work {

                                                    0%,
                                                    100% {
                                                        transform: translateY(0);
                                                    }

                                                    50% {
                                                        transform: translateY(-3px);
                                                    }
                                                }
                                            </style>
                                        </defs>
                                        <!-- 3x4 Grid with Staggered Animation -->
                                        <use href="#student-fig" x="0" y="0"
                                            style="animation: student-work 1s infinite ease-in-out 0s;" />
                                        <use href="#student-fig" x="30" y="0"
                                            style="animation: student-work 1s infinite ease-in-out 0.1s;" />
                                        <use href="#student-fig" x="60" y="0"
                                            style="animation: student-work 1s infinite ease-in-out 0.2s;" />
                                        <use href="#student-fig" x="90" y="0"
                                            style="animation: student-work 1s infinite ease-in-out 0.3s;" />

                                        <use href="#student-fig" x="0" y="35"
                                            style="animation: student-work 1s infinite ease-in-out 0.4s;" />
                                        <use href="#student-fig" x="30" y="35"
                                            style="animation: student-work 1s infinite ease-in-out 0.5s;" />
                                        <use href="#student-fig" x="60" y="35"
                                            style="animation: student-work 1s infinite ease-in-out 0.6s;" />
                                        <use href="#student-fig" x="90" y="35"
                                            style="animation: student-work 1s infinite ease-in-out 0.7s;" />

                                        <use href="#student-fig" x="0" y="70"
                                            style="animation: student-work 1s infinite ease-in-out 0.8s;" />
                                        <use href="#student-fig" x="30" y="70"
                                            style="animation: student-work 1s infinite ease-in-out 0.9s;" />
                                        <use href="#student-fig" x="60" y="70"
                                            style="animation: student-work 1s infinite ease-in-out 1.0s;" />
                                        <use href="#student-fig" x="90" y="70"
                                            style="animation: student-work 1s infinite ease-in-out 1.1s;" />
                                    </g>
                                </svg>
                            </div>
                        </div>

                        <!-- <div class="section-divider"></div> -->

                        <!-- NPU Row -->
                        <div
                            style="display: flex; align-items: center; width: 100%; background: rgba(51, 255, 51, 0.05); border: 1px solid rgba(51, 255, 51, 0.3); border-radius: 10px; padding: 15px;">
                            <div style="flex: 1; text-align: left; padding-right: 20px;">
                                <h3 style="color: #33ff33; font-size: 1.5rem; margin-bottom: 0.5rem;">NPU: AI 专用特种兵</h3>
                                <p style="font-size: 1rem; color: #ddd;">Neural Processing Unit</p>
                                <p style="font-size: 0.9rem; color: #aaa; margin-top: 5px;">专为神经网络矩阵运算设计<br>比喻：整齐划一的方阵
                                    (Array)
                                </p>
                            </div>
                            <!-- No Image for NPU as requested -->
                            <div style="flex: 0 0 200px; display: flex; justify-content: center;">
                                <!-- Placeholder or empty -->
                            </div>
                        </div>
                    </div>

                    <!-- <div class="section-divider"></div> -->

                    <div
                        style="margin-top: 3rem; padding: 1.5rem; background: rgba(0,0,0,0.3); border: 1px dashed #555; border-radius: 8px; text-align: center;">
                        <p style="font-size: 1.2rem; color: #fff; margin: 0;">
                            但 <span style="color: var(--accent-red); font-weight: bold;">“复杂任务”</span> 的具体定义、GPU <span
                                style="color: var(--accent-red); font-weight: bold;">“计算图形”</span> 的逻辑仍不明确。
                        </p>
                    </div>
        </section>

        <!-- PART II: GPU Design Logic -->
        <section class="reveal">
            <h2>02_GPU设计逻辑</h2>
            <div class="no-scrollbar"
                style="display: flex; flex-direction: column; gap: 15px; width: 100%; max-width: 900px; margin: 0 auto; height: 85vh; overflow-y: auto; padding-right: 10px;">

                <!-- 1. 3D Model Visual (Top) -->
                <div class="image-container" id="model-3d-container"
                    style="flex: 0 0 300px; cursor: zoom-in; position: relative; overflow: hidden; border: 1px solid #333; background: #050505; border-radius: 10px; perspective: 1000px; width: 100%; box-sizing: border-box;">
                    <!-- True 3D JS Rendered View -->
                    <svg id="wireframe-view" width="100%" height="100%" viewBox="0 0 400 300"
                        style="transition: all 0.5s ease; overflow: visible;">
                        <defs>
                            <filter id="glow-wire">
                                <feGaussianBlur stdDeviation="1.5" result="coloredBlur" />
                                <feMerge>
                                    <feMergeNode in="coloredBlur" />
                                    <feMergeNode in="SourceGraphic" />
                                </feMerge>
                            </filter>
                        </defs>

                        <!-- Background Grid -->
                        <pattern id="grid-3d" width="40" height="40" patternUnits="userSpaceOnUse">
                            <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#1a1a1a" stroke-width="1" />
                        </pattern>
                        <rect width="100%" height="100%" fill="url(#grid-3d)" />

                        <!-- World Axes & Grid Group -->
                        <g id="world-axes-group" opacity="0.6"></g>

                        <!-- Dynamic Wireframe Group -->
                        <g id="cat-wireframe-group" filter="url(#glow-wire)"></g>

                        <text x="200" y="280" text-anchor="middle" fill="#666" font-size="10" letter-spacing="2">实时 3D
                            渲染</text>
                    </svg>

                    <!-- Detail View (Overlay) -->
                    <div id="triangle-detail"
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0; pointer-events: none; transition: opacity 0.3s;">
                        <svg width="300" height="250" viewBox="0 0 200 150" style="overflow: visible;">
                            <defs>
                                <marker id="dot" markerWidth="8" markerHeight="8" refX="4" refY="4">
                                    <circle cx="4" cy="4" r="3" fill="#fff" />
                                </marker>
                            </defs>
                            <polygon points="100,20 160,120 40,120" fill="rgba(0, 255, 255, 0.1)" stroke="#fff"
                                stroke-width="2" marker-mid="url(#dot)" marker-start="url(#dot)"
                                marker-end="url(#dot)" />

                            <!-- Dynamic Vertex Labels -->
                            <text id="v1-label" x="100" y="10" fill="#fff" font-size="8" text-anchor="middle">Vertex
                                1</text>
                            <text id="v2-label" x="170" y="125" fill="#fff" font-size="8">Vertex 2</text>
                            <text id="v3-label" x="30" y="125" fill="#fff" font-size="8" text-anchor="end">Vertex
                                3</text>



                        </svg>
                        <p style="color: #aaa; font-size: 0.8rem; margin-top: 10px;">点击任意处返回 (Click to Return)</p>
                    </div>

                    <script>
                        (function () {
                            const groupEl = document.getElementById('cat-wireframe-group');
                            const axesGroupEl = document.getElementById('world-axes-group');
                            const container = document.getElementById('model-3d-container');
                            const detailOverlay = document.getElementById('triangle-detail');

                            // Initialize World Grid & Axes
                            const createLine = (color, width) => {
                                const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
                                line.setAttribute("stroke", color);
                                line.setAttribute("stroke-width", width);
                                axesGroupEl.appendChild(line);
                                return line;
                            };

                            // Grid Lines (XZ plane, y = 80)
                            const gridY = 80;
                            const gridSize = 100;
                            const gridStep = 25;
                            const gridLines = [];

                            for (let i = -gridSize; i <= gridSize; i += gridStep) {
                                // Z-parallel lines
                                gridLines.push({ p1: { x: -gridSize, y: gridY, z: i }, p2: { x: gridSize, y: gridY, z: i }, el: createLine("rgba(255,255,255,0.1)", 0.5) });
                                // X-parallel lines
                                gridLines.push({ p1: { x: i, y: gridY, z: -gridSize }, p2: { x: i, y: gridY, z: gridSize }, el: createLine("rgba(255,255,255,0.1)", 0.5) });
                            }

                            // Main Axes
                            const axisLen = 100;
                            const axes = [
                                { p1: { x: -axisLen, y: 0, z: 0 }, p2: { x: axisLen, y: 0, z: 0 }, el: createLine("#ff4444", 1) }, // X
                                { p1: { x: 0, y: -axisLen, z: 0 }, p2: { x: 0, y: axisLen, z: 0 }, el: createLine("#44ff44", 1) }, // Y
                                { p1: { x: 0, y: 0, z: -axisLen }, p2: { x: 0, y: 0, z: axisLen }, el: createLine("#4444ff", 1) }  // Z
                            ];

                            // 3D Vertices (x, y, z) - Refined Cat Head
                            const v = [
                                // Center Line
                                { x: 0, y: 15, z: 60 },    // 0: Nose Tip
                                { x: 0, y: -5, z: 45 },    // 1: Bridge
                                { x: 0, y: -35, z: 30 },   // 2: Forehead Top
                                { x: 0, y: -10, z: -30 },  // 3: Back Head Top
                                { x: 0, y: 40, z: -20 },   // 4: Back Head Bottom
                                { x: 0, y: 70, z: 30 },    // 5: Chin

                                // Left Side
                                { x: -15, y: -10, z: 35 }, // 6: L Eye Inner
                                { x: -35, y: -15, z: 20 }, // 7: L Temple
                                { x: -25, y: -50, z: 10 }, // 8: L Ear Base
                                { x: -35, y: -90, z: 0 },  // 9: L Ear Tip
                                { x: -45, y: 30, z: 10 },  // 10: L Cheek
                                { x: -20, y: 50, z: 25 },  // 11: L Jaw

                                // Right Side
                                { x: 15, y: -10, z: 35 },  // 12: R Eye Inner
                                { x: 35, y: -15, z: 20 },  // 13: R Temple
                                { x: 25, y: -50, z: 10 },  // 14: R Ear Base
                                { x: 35, y: -90, z: 0 },   // 15: R Ear Tip
                                { x: 45, y: 30, z: 10 },   // 16: R Cheek
                                { x: 20, y: 50, z: 25 }    // 17: R Jaw
                            ];

                            // Faces (Triplets of vertex indices)
                            const faces = [
                                // Snout & Front
                                [0, 1, 6], [0, 6, 11], [0, 11, 5], // Left Snout
                                [0, 1, 12], [0, 12, 17], [0, 17, 5], // Right Snout

                                // Forehead & Eyes
                                [1, 2, 6], [2, 6, 7], [2, 7, 8], // Left Forehead
                                [1, 2, 12], [2, 12, 13], [2, 13, 14], // Right Forehead

                                // Cheeks
                                [6, 7, 10], [6, 10, 11], [11, 10, 5], // Left Cheek
                                [12, 13, 16], [12, 16, 17], [17, 16, 5], // Right Cheek

                                // Ears
                                [8, 9, 7], [8, 9, 3], // Left Ear
                                [14, 15, 13], [14, 15, 3], // Right Ear

                                // Back & Sides
                                [7, 10, 3], [10, 4, 3], [10, 5, 4], // Left Side/Back
                                [13, 16, 3], [16, 4, 3], [16, 5, 4] // Right Side/Back

                            ];

                            let angleY = 0;
                            let isPaused = false;
                            let selectedFace = null;

                            // Create SVG elements for faces
                            const faceElements = faces.map((face, i) => {
                                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                                path.setAttribute("stroke", "var(--accent-cyan)");
                                path.setAttribute("stroke-width", "1.5");
                                path.setAttribute("fill", "rgba(0,0,0,0)");
                                path.setAttribute("stroke-linejoin", "round");
                                path.setAttribute("stroke-linecap", "round");
                                path.style.cursor = "pointer";
                                path.style.pointerEvents = "all"; // Ensure entire face is clickable
                                path.style.transition = "fill 0.2s, stroke 0.2s";

                                // Hover Effect
                                path.addEventListener('mouseenter', () => {
                                    if (!isPaused) {
                                        path.setAttribute("fill", "rgba(51, 255, 255, 0.3)");
                                        path.setAttribute("stroke", "#fff");
                                    }
                                });
                                path.addEventListener('mouseleave', () => {
                                    if (!isPaused) {
                                        path.setAttribute("fill", "rgba(0,0,0,0)");
                                        path.setAttribute("stroke", "var(--accent-cyan)");
                                    }
                                });

                                // Click to Zoom
                                path.addEventListener('click', (e) => {
                                    e.stopPropagation(); // Prevent container click
                                    showDetail(face);
                                });

                                groupEl.appendChild(path);
                                return path;
                            });

                            function showDetail(faceIndices) {
                                isPaused = true;
                                container.classList.add('zoomed');
                                detailOverlay.style.opacity = '1';
                                detailOverlay.style.pointerEvents = 'auto';

                                // Update Labels with Coordinates
                                const p1 = v[faceIndices[0]];
                                const p2 = v[faceIndices[1]];
                                const p3 = v[faceIndices[2]];

                                document.getElementById('v1-label').textContent = `V1: (${p1.x}, ${p1.y}, ${p1.z})`;
                                document.getElementById('v2-label').textContent = `V2: (${p2.x}, ${p2.y}, ${p2.z})`;
                                document.getElementById('v3-label').textContent = `V3: (${p3.x}, ${p3.y}, ${p3.z})`;

                                // Calculate projected coordinates for the detail view
                                const cos = Math.cos(angleY);
                                const sin = Math.sin(angleY);
                                const center = { x: 200, y: 150 }; // Main view center
                                const scale = 1.2;
                                const fov = 300;

                                const project = (p) => {
                                    const rx = p.x * cos - p.z * sin;
                                    const rz = p.x * sin + p.z * cos;
                                    const dist = 400 + rz;
                                    const factor = fov / dist;
                                    return {
                                        x: rx * factor * scale + center.x,
                                        y: p.y * factor * scale + center.y
                                    };
                                };

                                const pp1 = project(p1);
                                const pp2 = project(p2);
                                const pp3 = project(p3);

                                // Calculate centroid of the projected triangle
                                const centroidX = (pp1.x + pp2.x + pp3.x) / 3;
                                const centroidY = (pp1.y + pp2.y + pp3.y) / 3;

                                // Target center in detail view
                                const targetX = 100;
                                const targetY = 75;

                                // Scale factor for magnification
                                const zoomScale = 2.0;

                                // Transform points to be centered and scaled in detail view
                                const tp1 = { x: targetX + (pp1.x - centroidX) * zoomScale, y: targetY + (pp1.y - centroidY) * zoomScale };
                                const tp2 = { x: targetX + (pp2.x - centroidX) * zoomScale, y: targetY + (pp2.y - centroidY) * zoomScale };
                                const tp3 = { x: targetX + (pp3.x - centroidX) * zoomScale, y: targetY + (pp3.y - centroidY) * zoomScale };

                                // Update Polygon
                                const polygon = detailOverlay.querySelector('polygon');
                                polygon.setAttribute('points', `${tp1.x},${tp1.y} ${tp2.x},${tp2.y} ${tp3.x},${tp3.y}`);

                                // Update Label Positions
                                const labelOffset = 15;
                                const l1 = document.getElementById('v1-label');
                                const l2 = document.getElementById('v2-label');
                                const l3 = document.getElementById('v3-label');

                                l1.setAttribute('x', tp1.x); l1.setAttribute('y', tp1.y - labelOffset);
                                l2.setAttribute('x', tp2.x); l2.setAttribute('y', tp2.y + labelOffset);
                                l3.setAttribute('x', tp3.x); l3.setAttribute('y', tp3.y + labelOffset);
                            }

                            // Global Click to Reset
                            container.addEventListener('click', () => {
                                if (isPaused) {
                                    isPaused = false;
                                    container.classList.remove('zoomed');
                                    detailOverlay.style.opacity = '0';
                                    detailOverlay.style.pointerEvents = 'none';

                                    // Reset styles
                                    faceElements.forEach(el => {
                                        el.setAttribute("fill", "rgba(0,0,0,0)");
                                        el.setAttribute("stroke", "var(--accent-cyan)");
                                    });
                                }
                            });

                            function render() {
                                if (!isPaused) {
                                    angleY += 0.015;
                                }

                                const cos = Math.cos(angleY);
                                const sin = Math.sin(angleY);
                                const center = { x: 200, y: 150 };
                                const scale = 1.2;
                                const fov = 300;

                                const projectPoint = (p) => {
                                    const rx = p.x * cos - p.z * sin;
                                    const rz = p.x * sin + p.z * cos;
                                    const dist = 400 + rz;
                                    const factor = fov / dist;
                                    return {
                                        x: rx * factor * scale + center.x,
                                        y: p.y * factor * scale + center.y,
                                        z: rz
                                    };
                                };

                                // Update Grid Lines
                                gridLines.forEach(line => {
                                    const p1 = projectPoint(line.p1);
                                    const p2 = projectPoint(line.p2);
                                    line.el.setAttribute('x1', p1.x); line.el.setAttribute('y1', p1.y);
                                    line.el.setAttribute('x2', p2.x); line.el.setAttribute('y2', p2.y);
                                });

                                // Update Axes
                                axes.forEach(axis => {
                                    const p1 = projectPoint(axis.p1);
                                    const p2 = projectPoint(axis.p2);
                                    axis.el.setAttribute('x1', p1.x); axis.el.setAttribute('y1', p1.y);
                                    axis.el.setAttribute('x2', p2.x); axis.el.setAttribute('y2', p2.y);
                                });

                                // Project Vertices
                                const projected = v.map(projectPoint);

                                // Update Face Paths
                                faces.forEach((face, i) => {
                                    const p1 = projected[face[0]];
                                    const p2 = projected[face[1]];
                                    const p3 = projected[face[2]];

                                    // Backface Culling (Optional, but good for clarity)
                                    // Calculate normal Z component
                                    const ax = p2.x - p1.x; const ay = p2.y - p1.y;
                                    const bx = p3.x - p1.x; const by = p3.y - p1.y;
                                    const normalZ = ax * by - ay * bx;

                                    if (normalZ < 0) {
                                        // Facing away
                                        faceElements[i].style.opacity = "0.1"; // Dim backfaces
                                    } else {
                                        faceElements[i].style.opacity = "1";
                                    }

                                    const d = `M${p1.x.toFixed(1)},${p1.y.toFixed(1)} L${p2.x.toFixed(1)},${p2.y.toFixed(1)} L${p3.x.toFixed(1)},${p3.y.toFixed(1)} Z`;
                                    faceElements[i].setAttribute('d', d);
                                });

                                requestAnimationFrame(render);
                            }

                            render();
                        })();
                    </script>
                    <div class="image-caption">FIG_02.1: 3D 多边形网格模型</div>
                </div>

                <!-- 2. 3D Model Explanation -->
                <div
                    style="text-align: left; background: rgba(255, 255, 255, 0.03); padding: 1.5rem; border-radius: 8px; border-left: 4px solid var(--accent-cyan); margin-bottom: 2rem;">
                    <h3
                        style="color: #fff; margin-bottom: 1rem; font-size: 1.4rem; border-bottom: 1px solid rgba(255, 255, 255, 0.1); padding-bottom: 0.5rem;">
                        3D世界的基石：多边形网格</h3>
                    <p style="color: #ccc; font-size: 1.1rem; margin-bottom: 1.5rem; line-height: 1.6;">
                        3D模型本质由成千上万个 <span
                            style="color: var(--accent-cyan); font-weight: bold; background: rgba(0, 255, 255, 0.1); padding: 2px 6px; border-radius: 4px;">三角形</span>
                        拼接而成。
                    </p>
                    <ul
                        style="display: flex; gap: 30px; list-style: none; padding: 0; font-size: 1rem; color: #ddd; flex-wrap: wrap;">
                        <li
                            style="display: flex; align-items: center; background: rgba(0,0,0,0.3); padding: 5px 15px; border-radius: 20px; border: 1px solid #333;">
                            <span
                                style="display: inline-block; width: 8px; height: 8px; background: var(--accent-cyan); margin-right: 10px; transform: rotate(45deg);"></span>
                            <strong>顶点 (Vertex):</strong> <span style="color: #888; margin-left: 5px;">(X, Y, Z)</span>
                        </li>
                        <li
                            style="display: flex; align-items: center; background: rgba(0,0,0,0.3); padding: 5px 15px; border-radius: 20px; border: 1px solid #333;">
                            <span
                                style="display: inline-block; width: 8px; height: 8px; background: var(--accent-cyan); margin-right: 10px; transform: rotate(45deg);"></span>
                            <strong>边 (Edge):</strong> <span style="color: #888; margin-left: 5px;">连接线段</span>
                        </li>
                        <li
                            style="display: flex; align-items: center; background: rgba(0,0,0,0.3); padding: 5px 15px; border-radius: 20px; border: 1px solid #333;">
                            <span
                                style="display: inline-block; width: 8px; height: 8px; background: var(--accent-cyan); margin-right: 10px; transform: rotate(45deg);"></span>
                            <strong>面 (Face):</strong> <span style="color: #888; margin-left: 5px;">渲染单位</span>
                        </li>
                    </ul>
                </div>

                <!-- 3. CPU vs GPU Logic -->
                <div style="text-align: left; border-top: 1px dashed #444; padding-top: 2rem; margin-top: 1rem;">

                    <!-- Problem Statement -->
                    <div
                        style="margin-bottom: 2rem; background: rgba(255, 50, 50, 0.05); padding: 1.5rem; border-radius: 8px; border: 1px solid rgba(255, 50, 50, 0.2);">
                        <h3
                            style="color: var(--accent-red); font-size: 1.4rem; margin-bottom: 0.5rem; display: flex; align-items: center;">
                            <span style="margin-right: 10px;">⚠️</span> CPU的计算瓶颈
                        </h3>
                        <p style="font-size: 1.1rem; color: #ddd; line-height: 1.6;">
                            计算线条中间点虽仅涉及简单乘加运算，但CPU只能 <span
                                style="color: #fff; font-weight: bold; border-bottom: 2px solid var(--accent-red);">“逐个”串行计算</span>，效率极低。
                        </p>
                    </div>

                    <!-- 4. Line Rasterization Detail (Moved) -->
                    <div style="display: flex; gap: 30px; margin-bottom: 3rem; flex-wrap: wrap;">
                        <!-- Left: Explanation -->
                        <div style="flex: 1; min-width: 300px;">
                            <h3 style="color: var(--accent-cyan); font-size: 1.3rem; margin-bottom: 1rem;">> 线条是如何计算的?
                                (Line Rasterization)</h3>

                            <div class="highlight-box"
                                style="border-left: 4px solid #ffb000; background: linear-gradient(90deg, rgba(255, 176, 0, 0.1), transparent); padding: 1.2rem; font-size: 1rem; margin-bottom: 1.5rem; border-radius: 0 8px 8px 0;">
                                <p style="margin:0; color: #ffb000; font-weight: bold; margin-bottom: 0.5rem;">计算机存储的秘密：
                                </p>
                                <p style="margin:0; color: #eee; line-height: 1.6;">
                                    你看到的连贯线条，在计算机硬盘里其实 <strong style="color: #fff;">只存储了两个端点的坐标</strong>。
                                    <br>中间连线的每一个像素点，都是在显示时 <strong style="color: #fff;">实时计算</strong> 出来的。
                                </p>
                            </div>

                            <div
                                style="font-size: 0.95rem; color: #ccc; background: rgba(0, 0, 0, 0.3); padding: 1.2rem; border-radius: 8px; border: 1px solid #333;">
                                <div style="margin-bottom: 8px; font-weight: bold; color: #fff; font-size: 1.05rem;">CPU
                                    的困境：简单但繁重</div>
                                <p style="margin: 0; line-height: 1.6;">
                                    虽然计算公式 $y = ax + b$ 很简单，但 CPU 只能 <strong>串行</strong> 地一个点一个点计算。
                                    <br><br>
                                    <span style="color: #888;">想象一下，一个 3D 游戏画面有几百万条线，每条线有几百个点。让 CPU
                                        逐个计算这些点，就像让一个数学教授去数一袋米有多少粒一样，大材小用且效率极低。</span>
                                </p>
                            </div>
                        </div>

                        <!-- Right: SVG Animation -->
                        <div class="image-container" style="flex: 0 0 350px; width: 100%;">
                            <!-- The SVG Animation for Line Calculation -->
                            <svg width="100%" height="320" viewBox="0 0 400 320"
                                style="background: #151515; border-radius: 8px; border: 1px solid #333;">
                                <defs>
                                    <pattern id="gridPattern" width="10" height="10" patternUnits="userSpaceOnUse">
                                        <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#333" stroke-width="0.5" />
                                    </pattern>
                                </defs>
                                <g transform="translate(10, 30)">
                                    <rect x="0" y="0" width="200" height="200" fill="url(#gridPattern)" stroke="#555"
                                        stroke-width="1" />
                                    <text x="-5" y="205" fill="#888" font-size="10">0</text>
                                    <text x="205" y="205" fill="#888" font-size="10">X</text>
                                    <text x="-5" y="-5" fill="#888" font-size="10">Y</text>

                                    <!-- Ideal Line (The "Connection") -->
                                    <line x1="45" y1="175" x2="165" y2="115" stroke="#00ffff" stroke-width="1"
                                        stroke-dasharray="4,2" opacity="0.3" />

                                    <rect x="40" y="170" width="10" height="10" fill="#fff" />
                                    <text x="40" y="195" fill="#ffb000" font-size="10" font-weight="bold">(x1,y1)</text>
                                    <rect x="160" y="110" width="10" height="10" fill="#fff" />
                                    <text x="160" y="105" fill="#ffb000" font-size="10"
                                        font-weight="bold">(x2,y2)</text>

                                    <!-- Pixels lighting up synchronized with formulas -->
                                    <rect x="50" y="170" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.0625;0.07;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="60" y="160" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.125;0.1325;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="70" y="160" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.1875;0.195;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="80" y="150" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.25;0.2575;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="90" y="150" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.3125;0.32;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="100" y="140" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.375;0.3825;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="110" y="140" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.4375;0.445;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="120" y="130" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.5;0.5075;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="130" y="130" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.5625;0.57;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="140" y="120" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.625;0.6325;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>
                                    <rect x="150" y="120" width="10" height="10" fill="#ffb000" opacity="0">
                                        <animate attributeName="opacity" values="0;0;1;1;0"
                                            keyTimes="0;0.6875;0.695;0.9;1" dur="8s" repeatCount="indefinite"
                                            begin="0s" />
                                    </rect>

                                    <!-- Wipe effect -->
                                    <rect x="0" y="0" width="200" height="200" fill="#151515" opacity="0"
                                        pointer-events="none">
                                        <animate attributeName="opacity" values="0;0;1;0" keyTimes="0;0.9;0.95;1"
                                            dur="8s" repeatCount="indefinite" />
                                    </rect>
                                </g>
                                <g transform="translate(220, 30)">
                                    <rect width="170" height="280" rx="5" fill="#111" stroke="#00ffff"
                                        stroke-width="1" />
                                    <text x="10" y="20" fill="#fff" font-size="14" font-weight="bold">CPU 线性插值计算</text>
                                    <line x1="10" y1="25" x2="160" y2="25" stroke="#444" stroke-width="1" />
                                    <g font-size="11" fill="#aaa">
                                        <text x="10" y="40">已知: P1(4,3), P2(16,9)</text>
                                        <text x="10" y="55">斜率 a = (9-3)/(16-4) = 0.5</text>
                                        <text x="10" y="70">截距 b = 3 - 0.5*4 = 1</text>
                                        <text x="10" y="85" fill="#00ffff">方程: y = 0.5x + 1</text>
                                    </g>
                                    <line x1="10" y1="95" x2="160" y2="95" stroke="#444" stroke-width="1"
                                        stroke-dasharray="2,2" />
                                    <g transform="translate(10, 110)" font-family="monospace" font-size="11"
                                        fill="#ffb000">
                                        <text y="0" opacity="0">x=5: y=0.5*5+1=3.5≈3
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.0625;0.07;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="15" opacity="0">x=6: y=0.5*6+1=4
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.125;0.1325;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="30" opacity="0">x=7: y=0.5*7+1=4.5≈4
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.1875;0.195;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="45" opacity="0">x=8: y=0.5*8+1=5
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.25;0.2575;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="60" opacity="0">x=9: y=0.5*9+1=5.5≈5
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.3125;0.32;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="75" opacity="0">x=10: y=0.5*10+1=6
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.375;0.3825;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="90" opacity="0">x=11: y=0.5*11+1=6.5≈6
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.4375;0.445;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="105" opacity="0">x=12: y=0.5*12+1=7
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.5;0.5075;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="120" opacity="0">x=13: y=0.5*13+1=7.5≈7
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.5625;0.57;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="135" opacity="0">x=14: y=0.5*14+1=8
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.625;0.6325;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                        <text y="150" opacity="0">x=15: y=0.5*15+1=8.5≈8
                                            <animate attributeName="opacity" values="0;0;1;1;0"
                                                keyTimes="0;0.6875;0.695;0.9;1" dur="8s" repeatCount="indefinite"
                                                begin="0s" />
                                        </text>
                                    </g>
                                    <g transform="translate(120, 250)">
                                        <rect width="40" height="20" fill="#333" stroke="#fff" rx="2" />
                                        <text x="20" y="14" text-anchor="middle" fill="#fff" font-size="10"
                                            font-weight="bold">CPU</text>
                                        <circle cx="35" cy="5" r="2" fill="#ff0000">
                                            <animate attributeName="opacity" values="1;0;1" dur="0.5s"
                                                repeatCount="indefinite" />
                                        </circle>
                                    </g>
                                </g>
                            </svg>
                            <div class="image-caption">FIG_02.2: CPU 串行计算线条</div>
                        </div>
                    </div>

                    <div
                        style="margin-top: 3rem; background: rgba(0, 255, 255, 0.05); padding: 2rem; border-radius: 10px; border: 1px solid rgba(0, 255, 255, 0.2);">
                        <h3
                            style="color: var(--accent-cyan); font-size: 1.5rem; margin-bottom: 1.5rem; display: flex; align-items: center;">
                            <span style="margin-right: 10px;">💡</span> GPU的诞生思路
                        </h3>
                        <ul
                            style="font-size: 1.1rem; color: #ddd; line-height: 1.8; list-style: none; padding: 0; margin-bottom: 2rem;">
                            <li style="margin-bottom: 1rem; display: flex; align-items: flex-start;">
                                <span
                                    style="color: var(--accent-cyan); margin-right: 10px; font-weight: bold;">01.</span>
                                <div>
                                    <strong style="color: #fff;">设计灵感：</strong>
                                    既然是重复简单运算，可制造“多个仅处理乘加的计算单元”，由控制器装填数据，所有单元同时工作（并行计算）。
                                </div>
                            </li>
                            <li style="display: flex; align-items: flex-start;">
                                <span
                                    style="color: var(--accent-cyan); margin-right: 10px; font-weight: bold;">02.</span>
                                <div>
                                    <strong style="color: #fff;">硬件定义：</strong>
                                    英伟达显卡中，这类计算单元称为“CUDA核心”，GPU核心策略是“单指令多数据”。
                                </div>
                            </li>
                        </ul>

                        <!-- GPU Logic Slideshow -->
                        <div class="gpu-slideshow" onclick="this.classList.toggle('paused')"
                            style="position: relative; width: 100%; height: 320px; background: #000; border: 1px solid #333; border-radius: 8px; overflow: hidden; cursor: pointer;">
                            <div class="scanlines"></div>
                            <style>
                                .scanlines {
                                    position: absolute;
                                    top: 0;
                                    left: 0;
                                    width: 100%;
                                    height: 100%;
                                    background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.2));
                                    background-size: 100% 4px;
                                    z-index: 10;
                                    pointer-events: none;
                                    opacity: 0.6;
                                }

                                .gpu-slide {
                                    position: absolute;
                                    top: 0;
                                    left: 0;
                                    width: 100%;
                                    height: 100%;
                                    opacity: 0;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    background:
                                        linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
                                        linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px),
                                        radial-gradient(circle at center, #111a22 0%, #000000 100%);
                                    background-size: 20px 20px, 20px 20px, 100% 100%;
                                    animation: gpuSlideCycle 24s infinite;
                                }

                                @keyframes gpuSlideCycle {
                                    0% {
                                        opacity: 0;
                                        z-index: 0;
                                        transform: scale(1.05);
                                        filter: blur(2px);
                                    }

                                    2%,
                                    16.66% {
                                        opacity: 1;
                                        z-index: 1;
                                        transform: scale(1);
                                        filter: blur(0);
                                    }

                                    18.66%,
                                    100% {
                                        opacity: 0;
                                        z-index: 0;
                                        transform: scale(1);
                                        filter: blur(0);
                                    }
                                }

                                .gpu-slide:nth-child(2) {
                                    animation-delay: 0s;
                                }

                                .gpu-slide:nth-child(3) {
                                    animation-delay: 4s;
                                }

                                .gpu-slide:nth-child(4) {
                                    animation-delay: 8s;
                                }

                                .gpu-slide:nth-child(5) {
                                    animation-delay: 12s;
                                }

                                .gpu-slide:nth-child(6) {
                                    animation-delay: 16s;
                                }

                                .gpu-slide:nth-child(7) {
                                    animation-delay: 20s;
                                }

                                .gpu-slide:nth-child(8) {
                                    animation-delay: 20s;
                                }

                                /* Ensure caption doesn't break layout if counted as child */

                                .gpu-box {
                                    border: 1px solid #00ffff;
                                    padding: 2px 0;
                                    color: #fff;
                                    font-family: monospace;
                                    margin: 2px;
                                    display: inline-block;
                                    text-align: center;
                                    width: 40px;
                                    /* Fixed width for alignment */
                                    box-shadow: 0 0 5px rgba(0, 255, 255, 0.2);
                                }

                                .gpu-box.op {
                                    width: 20px;
                                    border: none;
                                    box-shadow: none;
                                }

                                .gpu-row {
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    margin-bottom: 5px;
                                }

                                .gpu-chip-bg {
                                    background: #333;
                                    padding: 20px;
                                    border-radius: 0;
                                    border: 20px solid #555;
                                    display: inline-block;
                                    box-shadow: inset 0 0 20px #000;
                                }

                                .gpu-title {
                                    font-size: 3rem;
                                    font-weight: bold;
                                    color: #ffb000;
                                    font-style: italic;
                                    line-height: 1;
                                    text-shadow: 2px 2px 0px #333;
                                }

                                .gpu-subtitle {
                                    color: #aaa;
                                    font-size: 0.8rem;
                                    letter-spacing: 1px;
                                }

                                .result-anim {
                                    display: inline-block;
                                    overflow: hidden;
                                    white-space: nowrap;
                                    animation: typeResult 0.5s steps(10) forwards;
                                    opacity: 0;
                                }

                                @keyframes typeResult {
                                    from {
                                        width: 0;
                                        opacity: 0;
                                    }

                                    to {
                                        width: 60px;
                                        opacity: 1;
                                    }
                                }

                                .slide-number {
                                    position: absolute;
                                    bottom: 10px;
                                    left: 15px;
                                    color: #555;
                                    font-family: monospace;
                                    font-size: 0.8rem;
                                    z-index: 20;
                                    border: 1px solid #333;
                                    padding: 2px 6px;
                                    background: rgba(0, 0, 0, 0.5);
                                }

                                /* Pause State Handling */
                                .gpu-slideshow.paused .gpu-slide,
                                .gpu-slideshow.paused .result-anim {
                                    animation-play-state: paused !important;
                                }

                                .gpu-slideshow.paused::after {
                                    content: "PAUSED";
                                    position: absolute;
                                    top: 50%;
                                    left: 50%;
                                    transform: translate(-50%, -50%);
                                    color: rgba(255, 255, 255, 0.2);
                                    font-size: 3rem;
                                    font-weight: bold;
                                    letter-spacing: 5px;
                                    pointer-events: none;
                                    z-index: 100;
                                    text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
                                }
                            </style>

                            <!-- Slide 1: Formulas & Empty Blocks -->
                            <div class="gpu-slide">
                                <div class="slide-number">PAGE 01/06</div>
                                <div style="display: flex; gap: 20px; align-items: center;">
                                    <div
                                        style="font-family: monospace; color: #fff; font-size: 1.2rem; text-shadow: 0 0 5px rgba(255,255,255,0.5);">
                                        <div style="margin-bottom: 5px;">y<sub>x5</sub> = 0.5×5+1</div>
                                        <div style="margin-bottom: 5px;">y<sub>x6</sub> = 0.5×6+1</div>
                                        <div style="margin-bottom: 5px;">y<sub>x7</sub> = 0.5×7+1</div>
                                        <div style="margin-bottom: 5px;">y<sub>x8</sub> = 0.5×8+1</div>
                                        <div style="margin-bottom: 5px;">y<sub>x9</sub> = 0.5×9+1</div>
                                    </div>
                                    <div style="display: flex; flex-direction: column;">
                                        <div class="gpu-row"><span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">×</span> <span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">+</span> <span class="gpu-box">&nbsp;</span></div>
                                        <div class="gpu-row"><span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">×</span> <span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">+</span> <span class="gpu-box">&nbsp;</span></div>
                                        <div class="gpu-row"><span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">×</span> <span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">+</span> <span class="gpu-box">&nbsp;</span></div>
                                        <div class="gpu-row"><span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">×</span> <span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">+</span> <span class="gpu-box">&nbsp;</span></div>
                                        <div class="gpu-row"><span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">×</span> <span class="gpu-box">&nbsp;</span> <span
                                                class="gpu-box op">+</span> <span class="gpu-box">&nbsp;</span></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 2: Filled Blocks -->
                            <div class="gpu-slide">
                                <div class="slide-number">PAGE 02/06</div>
                                <div style="display: flex; flex-direction: column; transform: scale(1.2);">
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">5</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span></div>
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">6</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span></div>
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">7</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span></div>
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">8</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span></div>
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">9</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span></div>
                                </div>
                            </div>

                            <!-- Slide 3: Blocks + Results -->
                            <div class="gpu-slide">
                                <div class="slide-number">PAGE 03/06</div>
                                <div style="display: flex; flex-direction: column; transform: scale(1.2);">
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">5</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span> <span
                                            class="result-anim"
                                            style="color:#ffb000; margin-left:10px; animation-delay: 0.2s;">→ 3.5</span>
                                    </div>
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">6</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span> <span
                                            class="result-anim"
                                            style="color:#ffb000; margin-left:10px; animation-delay: 0.4s;">→ 4</span>
                                    </div>
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">7</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span> <span
                                            class="result-anim"
                                            style="color:#ffb000; margin-left:10px; animation-delay: 0.6s;">→ 4.5</span>
                                    </div>
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">8</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span> <span
                                            class="result-anim"
                                            style="color:#ffb000; margin-left:10px; animation-delay: 0.8s;">→ 5</span>
                                    </div>
                                    <div class="gpu-row"><span class="gpu-box">0.5</span> <span
                                            class="gpu-box op">×</span> <span class="gpu-box">9</span> <span
                                            class="gpu-box op">+</span> <span class="gpu-box">1</span> <span
                                            class="result-anim"
                                            style="color:#ffb000; margin-left:10px; animation-delay: 1.0s;">→ 5.5</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 4: GPU Chip with Blocks -->
                            <div class="gpu-slide">
                                <div class="slide-number">PAGE 04/06</div>
                                <div style="display: flex; gap: 30px; align-items: center;">
                                    <div class="gpu-chip-bg">
                                        <div style="border: 1px solid #00ffff; padding: 10px; background: #000;">
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px;">0.5×5+1</span></div>
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px;">0.5×6+1</span></div>
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px;">0.5×7+1</span></div>
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px;">0.5×8+1</span></div>
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px;">0.5×9+1</span></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="gpu-title">GPU</div>
                                        <div class="gpu-subtitle">Graphics Processing Unit</div>
                                        <div style="font-weight: bold; font-size: 1.2rem; margin-top: 5px;">图形处理器</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 5: GPU Chip with CUDA Cores -->
                            <div class="gpu-slide">
                                <div class="slide-number">PAGE 05/06</div>
                                <div style="display: flex; gap: 30px; align-items: center;">
                                    <div class="gpu-chip-bg">
                                        <div style="border: 1px solid #00ffff; padding: 10px; background: #000;">
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px; text-align: center;">CUDA
                                                    Core</span></div>
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px; text-align: center;">CUDA
                                                    Core</span></div>
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px; text-align: center;">CUDA
                                                    Core</span></div>
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px; text-align: center;">CUDA
                                                    Core</span></div>
                                            <div class="gpu-row" style="margin:2px;"><span class="gpu-box"
                                                    style="font-size:0.8rem; width: 140px; text-align: center;">CUDA
                                                    Core</span></div>
                                        </div>
                                    </div>
                                    <div>
                                        <div class="gpu-title">GPU</div>
                                        <div class="gpu-subtitle">Graphics Processing Unit</div>
                                        <div style="font-weight: bold; font-size: 1.2rem; margin-top: 5px;">图形处理器</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 6: SIMD -->
                            <div class="gpu-slide">
                                <div class="slide-number">PAGE 06/06</div>
                                <div style="display: flex; gap: 30px; align-items: center;">
                                    <div style="text-align: right;">
                                        <div
                                            style="font-size: 4rem; font-weight: bold; color: #fff; line-height: 1; text-shadow: 0 0 10px #00ffff;">
                                            SIMD</div>
                                        <div style="font-size: 0.9rem; color: #ddd;">Single Instruction Multiple Data
                                        </div>
                                        <div
                                            style="font-size: 1.5rem; font-weight: bold; color: #00ffff; margin-top: 5px;">
                                            单指令·多数据</div>
                                    </div>
                                    <div class="gpu-chip-bg" style="transform: scale(0.8);">
                                        <div
                                            style="border: 1px solid #00ffff; padding: 10px; background: #000; display: flex; align-items: center; justify-content: center; width: 100px; height: 100px;">
                                            <span style="font-size: 1.5rem; font-weight: bold;">GPU</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="image-caption">FIG_02.3: GPU 并行计算原理</div>
                        </div>
                        <ul
                            style="font-size: 0.95rem; color: #ddd; line-height: 1.6; list-style-type: disc; padding-left: 20px; margin-top: 20px; margin-bottom: 0;">
                            <li><strong>局限性：</strong> 无法处理“代码依赖场景”（如每行代码执行需依赖上一行结果），此时需逐行计算，并行优势失效</li>
                        </ul>

                        <!-- GPU Sequential Logic Slideshow (Generated) -->
                        <div class="gpu-slideshow gpu-seq-slideshow" onclick="this.classList.toggle('paused')"
                            style="position: relative; width: 100%; height: 320px; background: #000; border: 1px solid #333; border-radius: 8px; overflow: hidden; cursor: pointer; margin-top: 20px;">
                            <div class="scanlines"></div>
                            <style>
                                .gpu-seq-slideshow .gpu-slide {
                                    position: absolute;
                                    top: 0;
                                    left: 0;
                                    width: 100%;
                                    height: 100%;
                                    opacity: 0;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    background: #000;
                                    animation: gpuSlideCycleSeq 24s infinite;
                                    /* Hardware acceleration hint */
                                    will-change: transform, opacity, filter;
                                }

                                @keyframes gpuSlideCycleSeq {
                                    0% {
                                        opacity: 0;
                                        z-index: 0;
                                        transform: scale(1.2);
                                        filter: blur(5px) brightness(2);
                                    }

                                    3% {
                                        opacity: 1;
                                        z-index: 1;
                                        transform: scale(1);
                                        filter: blur(0) brightness(1);
                                    }

                                    16.66% {
                                        opacity: 1;
                                        z-index: 1;
                                        transform: scale(1);
                                        filter: blur(0);
                                    }

                                    19.66% {
                                        opacity: 0;
                                        z-index: 0;
                                        transform: scale(0.9);
                                        filter: blur(5px);
                                    }

                                    100% {
                                        opacity: 0;
                                        z-index: 0;
                                    }
                                }

                                /* Pause State */
                                .gpu-seq-slideshow.paused .gpu-slide,
                                .gpu-seq-slideshow.paused .core-unit.active,
                                .gpu-seq-slideshow.paused .arrow-path,
                                .gpu-seq-slideshow.paused .code-line.highlight::before {
                                    animation-play-state: paused !important;
                                }

                                .gpu-seq-slideshow.paused::after {
                                    content: "PAUSED";
                                    position: absolute;
                                    top: 50%;
                                    left: 50%;
                                    transform: translate(-50%, -50%);
                                    color: rgba(255, 255, 255, 0.2);
                                    font-size: 3rem;
                                    font-weight: bold;
                                    letter-spacing: 5px;
                                    pointer-events: none;
                                    z-index: 100;
                                    text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
                                }

                                /* Generated Content Styles */
                                .gpu-seq-layout {
                                    display: flex;
                                    width: 100%;
                                    height: 100%;
                                    align-items: center;
                                    justify-content: center;
                                    gap: 40px;
                                }

                                .gpu-visual {
                                    width: 160px;
                                    height: 160px;
                                    background: #555;
                                    padding: 15px;
                                    display: flex;
                                    flex-direction: column;
                                    gap: 5px;
                                    border: 1px solid #777;
                                    box-shadow: inset 0 0 20px #000;
                                    position: relative;
                                }

                                .gpu-visual::before {
                                    content: '';
                                    position: absolute;
                                    top: -10px;
                                    left: -10px;
                                    right: -10px;
                                    bottom: -10px;
                                    border: 20px solid #888;
                                    z-index: -1;
                                }

                                .gpu-visual-inner {
                                    border: 1px solid #00ffff;
                                    padding: 5px;
                                    height: 100%;
                                    display: flex;
                                    flex-direction: column;
                                    justify-content: space-between;
                                    background: #000;
                                    box-shadow: 0 0 5px #00ffff;
                                }

                                .core-unit {
                                    border: 1px solid #00ffff;
                                    color: #fff;
                                    font-size: 12px;
                                    text-align: center;
                                    padding: 4px 0;
                                    font-family: monospace;
                                    background: #000;
                                    transition: all 0.3s;
                                }

                                .core-unit.nop {
                                    background: #332200;
                                    border-color: #664400;
                                    color: #888;
                                }

                                .core-unit.active {
                                    background: #996600;
                                    border-color: #ffcc00;
                                    color: #fff;
                                    font-weight: bold;
                                    animation: corePulse 0.8s infinite alternate;
                                    box-shadow: 0 0 10px #ffcc00;
                                }

                                @keyframes corePulse {
                                    from {
                                        background: #996600;
                                        box-shadow: 0 0 5px #ffcc00;
                                        transform: scale(1);
                                    }

                                    to {
                                        background: #ffaa00;
                                        box-shadow: 0 0 15px #ffcc00;
                                        transform: scale(1.05);
                                    }
                                }

                                .gpu-big-label {
                                    font-size: 40px;
                                    font-weight: bold;
                                    color: #fff;
                                    text-align: center;
                                    line-height: 120px;
                                    font-family: sans-serif;
                                    animation: textGlow 2s infinite alternate;
                                }

                                @keyframes textGlow {
                                    from {
                                        text-shadow: 0 0 5px #fff;
                                    }

                                    to {
                                        text-shadow: 0 0 20px #00ffff;
                                    }
                                }

                                .code-window {
                                    width: 200px;
                                    background: #000;
                                    border: 1px solid #ffb000;
                                    padding: 0;
                                    font-family: 'Courier New', monospace;
                                    position: relative;
                                    box-shadow: 0 0 10px rgba(255, 176, 0, 0.2);
                                }

                                .code-header {
                                    border-bottom: 1px solid #ffb000;
                                    padding: 2px 5px;
                                    text-align: right;
                                    color: #ffb000;
                                    font-size: 12px;
                                    background: rgba(255, 176, 0, 0.1);
                                }

                                .code-content {
                                    padding: 20px;
                                    color: #fff;
                                    font-size: 1.4rem;
                                    line-height: 1.6;
                                    font-weight: bold;
                                    position: relative;
                                }

                                .code-line {
                                    position: relative;
                                    display: block;
                                }

                                .code-line span.var {
                                    color: #fff;
                                }

                                .code-line span.op {
                                    color: #ff5555;
                                }

                                /* Reddish for = + * */
                                .code-line span.val {
                                    color: #ffb000;
                                }

                                /* Orange for numbers */

                                .code-line.highlight {
                                    text-shadow: 0 0 8px rgba(255, 176, 0, 0.8);
                                }

                                .code-line.highlight::before {
                                    content: '';
                                    position: absolute;
                                    left: -20px;
                                    top: 0;
                                    width: 240px;
                                    height: 100%;
                                    background: linear-gradient(90deg, transparent, rgba(255, 176, 0, 0.3), transparent);
                                    pointer-events: none;
                                    animation: scanHighlight 1.5s linear infinite;
                                }

                                @keyframes scanHighlight {
                                    0% {
                                        transform: translateX(-100%);
                                    }

                                    100% {
                                        transform: translateX(100%);
                                    }
                                }

                                /* Animated Arrows */
                                .arrow-path {
                                    stroke-dasharray: 10;
                                    animation: dashFlow 0.5s linear infinite;
                                }

                                @keyframes dashFlow {
                                    to {
                                        stroke-dashoffset: -20;
                                    }
                                }
                            </style>

                            <!-- Slide 1: Intro -->
                            <div class="gpu-slide" style="animation-delay: 0s;">
                                <div class="slide-number">PAGE 01/06</div>
                                <div class="gpu-seq-layout">
                                    <div class="gpu-visual">
                                        <div class="gpu-visual-inner"
                                            style="align-items: center; justify-content: center; border: none; box-shadow: none;">
                                            <div
                                                style="width: 100%; height: 100%; background: #222; display: flex; align-items: center; justify-content: center; border: 1px solid #444;">
                                                <div class="gpu-big-label">GPU</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="code-window">
                                        <div class="code-header">- □ ×</div>
                                        <div class="code-content">
                                            <div class="code-line"><span class="var">a</span><span
                                                    class="op">=</span><span class="val">1</span>;</div>
                                            <div class="code-line"><span class="var">b</span><span
                                                    class="op">=</span><span class="var">a</span><span
                                                    class="op">+</span><span class="val">5</span>;</div>
                                            <div class="code-line"><span class="var">c</span><span
                                                    class="op">=</span><span class="var">b</span><span
                                                    class="op">*</span><span class="val">3</span>;</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 2: Dependencies -->
                            <div class="gpu-slide" style="animation-delay: 4s;">
                                <div class="slide-number">PAGE 02/06</div>
                                <div class="gpu-seq-layout">
                                    <div class="gpu-visual">
                                        <div class="gpu-visual-inner"
                                            style="align-items: center; justify-content: center; border: none; box-shadow: none;">
                                            <div
                                                style="width: 100%; height: 100%; background: #222; display: flex; align-items: center; justify-content: center; border: 1px solid #444;">
                                                <div class="gpu-big-label">GPU</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="code-window">
                                        <div class="code-header">- □ ×</div>
                                        <div class="code-content">
                                            <div class="code-line"><span class="var">a</span><span
                                                    class="op">=</span><span class="val">1</span>;</div>
                                            <div class="code-line"><span class="var">b</span><span
                                                    class="op">=</span><span class="var">a</span><span
                                                    class="op">+</span><span class="val">5</span>;</div>
                                            <div class="code-line"><span class="var">c</span><span
                                                    class="op">=</span><span class="var">b</span><span
                                                    class="op">*</span><span class="val">3</span>;</div>
                                            <!-- Arrows -->
                                            <svg
                                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; overflow: visible;">
                                                <defs>
                                                    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9"
                                                        refY="3" orient="auto" markerUnits="strokeWidth">
                                                        <path d="M0,0 L0,6 L9,3 z" fill="#ffb000" />
                                                    </marker>
                                                </defs>
                                                <!-- Arrow from Line 2 'a' to Line 1 'a' -->
                                                <path class="arrow-path" d="M 58 62 Q 58 42 35 42" stroke="#ffb000"
                                                    stroke-width="2" fill="none" marker-end="url(#arrow)" />
                                                <!-- Arrow from Line 3 'b' to Line 2 'b' -->
                                                <path class="arrow-path" d="M 58 98 Q 58 78 35 78" stroke="#ffb000"
                                                    stroke-width="2" fill="none" marker-end="url(#arrow)" />
                                            </svg>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 3: Highlight Line 1 -->
                            <div class="gpu-slide" style="animation-delay: 8s;">
                                <div class="slide-number">PAGE 03/06</div>
                                <div class="gpu-seq-layout">
                                    <div class="gpu-visual">
                                        <div class="gpu-visual-inner">
                                            <div class="core-unit">CUDACORE</div>
                                            <div class="core-unit">CUDACORE</div>
                                            <div class="core-unit">CUDACORE</div>
                                            <div class="core-unit">CUDACORE</div>
                                            <div class="core-unit">CUDACORE</div>
                                        </div>
                                    </div>
                                    <div class="code-window">
                                        <div class="code-header">- □ ×</div>
                                        <div class="code-content">
                                            <div class="code-line highlight"><span class="var">a</span><span
                                                    class="op">=</span><span class="val">1</span>;</div>
                                            <div class="code-line"><span class="var">b</span><span
                                                    class="op">=</span><span class="var">a</span><span
                                                    class="op">+</span><span class="val">5</span>;</div>
                                            <div class="code-line"><span class="var">c</span><span
                                                    class="op">=</span><span class="var">b</span><span
                                                    class="op">*</span><span class="val">3</span>;</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 4: Execute Line 1 -->
                            <div class="gpu-slide" style="animation-delay: 12s;">
                                <div class="slide-number">PAGE 04/06</div>
                                <div class="gpu-seq-layout">
                                    <div class="gpu-visual">
                                        <div class="gpu-visual-inner">
                                            <div class="core-unit active">a=1;</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                        </div>
                                    </div>
                                    <div class="code-window">
                                        <div class="code-header">- □ ×</div>
                                        <div class="code-content">
                                            <div class="code-line highlight"><span class="var">a</span><span
                                                    class="op">=</span><span class="val">1</span>;</div>
                                            <div class="code-line"><span class="var">b</span><span
                                                    class="op">=</span><span class="var">a</span><span
                                                    class="op">+</span><span class="val">5</span>;</div>
                                            <div class="code-line"><span class="var">c</span><span
                                                    class="op">=</span><span class="var">b</span><span
                                                    class="op">*</span><span class="val">3</span>;</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 5: Execute Line 2 -->
                            <div class="gpu-slide" style="animation-delay: 16s;">
                                <div class="slide-number">PAGE 05/06</div>
                                <div class="gpu-seq-layout">
                                    <div class="gpu-visual">
                                        <div class="gpu-visual-inner">
                                            <div class="core-unit active">b=1+5;</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                        </div>
                                    </div>
                                    <div class="code-window">
                                        <div class="code-header">- □ ×</div>
                                        <div class="code-content">
                                            <div class="code-line"><span class="var">a</span><span
                                                    class="op">=</span><span class="val">1</span>;</div>
                                            <div class="code-line highlight"><span class="var">b</span><span
                                                    class="op">=</span><span class="var">a</span><span
                                                    class="op">+</span><span class="val">5</span>;</div>
                                            <div class="code-line"><span class="var">c</span><span
                                                    class="op">=</span><span class="var">b</span><span
                                                    class="op">*</span><span class="val">3</span>;</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 6: Execute Line 3 -->
                            <div class="gpu-slide" style="animation-delay: 20s;">
                                <div class="slide-number">PAGE 06/06</div>
                                <div class="gpu-seq-layout">
                                    <div class="gpu-visual">
                                        <div class="gpu-visual-inner">
                                            <div class="core-unit active">c=6*3;</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                            <div class="core-unit nop">NOP</div>
                                        </div>
                                    </div>
                                    <div class="code-window">
                                        <div class="code-header">- □ ×</div>
                                        <div class="code-content">
                                            <div class="code-line"><span class="var">a</span><span
                                                    class="op">=</span><span class="val">1</span>;</div>
                                            <div class="code-line"><span class="var">b</span><span
                                                    class="op">=</span><span class="var">a</span><span
                                                    class="op">+</span><span class="val">5</span>;</div>
                                            <div class="code-line highlight"><span class="var">c</span><span
                                                    class="op">=</span><span class="var">b</span><span
                                                    class="op">*</span><span class="val">3</span>;</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="image-caption">FIG_02.4: GPU 遇到代码依赖时的串行处理</div>
                        </div>
                    </div>
                </div>



            </div>
        </section>

        <!-- PART III: CPU Core Advantages -->
        <section class="reveal">
            <h2>03_CPU核心优势</h2>
            <div class="no-scrollbar"
                style="height: 85vh; overflow-y: auto; display: flex; flex-direction: column; gap: 2rem; max-width: 900px; margin: 0 auto;">
                <div>
                    <h3 style="color: var(--accent-cyan);">CPU与GPU处理分支任务的差异</h3>

                    <!-- 1. CPU Efficiency Card -->
                    <div
                        style="background: rgba(0, 255, 255, 0.05); border-left: 4px solid #00ffff; padding: 15px; margin-bottom: 20px; border-radius: 0 8px 8px 0;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <span style="font-size: 1.5rem;">🚀</span>
                            <strong style="color: #00ffff; font-size: 1.1rem;">CPU的高效处理</strong>
                        </div>
                        <p style="margin: 0; color: #ddd; line-height: 1.6;">
                            以“A=3时判断并执行B=6”代码为例，CPU仅需1次计算，可直接跳转至目标代码，符合人类直觉。
                        </p>
                    </div>

                    <!-- CPU Branch Visual Component -->
                    <div class="cpu-branch-visual">
                        <!-- Code Window -->
                        <div class="code-window-retro">
                            <div class="window-header-retro">
                                <span>CODE.C</span>
                                <span>- □ x</span>
                            </div>
                            <div class="code-content-retro">
                                <div><span class="kwd">if</span>(a>10){</div>
                                <div class="indent">b=a+<span class="num">5</span>;</div>
                                <div>}</div>
                                <div><span class="kwd">else</span>{</div>
                                <div class="highlight-block-retro indent">b=a+<span class="num">3</span>;</div>
                                <div>}</div>
                                <div><span class="func">printf</span>(b);</div>
                            </div>
                        </div>

                        <!-- Assumption & Result -->
                        <div class="assumption-container">
                            <div class="assumption-text">假设a=3</div>
                            <div class="result-text">b=3+3=6</div>
                        </div>

                        <!-- CPU Chip -->
                        <div class="cpu-chip-retro">
                            <div class="chip-inner">
                                <div class="chip-grid"></div>
                                <span class="chip-label">CPU</span>
                            </div>
                        </div>

                        <!-- Step Indicator -->
                        <div class="visual-step-indicator cpu-step-text"></div>
                        <div class="fig-label-right">FIG_03.1: CPU 分支预测</div>
                    </div>

                    <!-- 2. GPU Redundancy Card -->
                    <div
                        style="background: rgba(255, 80, 80, 0.05); border-left: 4px solid #ff5050; padding: 15px; margin: 30px 0 20px 0; border-radius: 0 8px 8px 0;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <span style="font-size: 1.5rem;">⚠️</span>
                            <strong style="color: #ff5050; font-size: 1.1rem;">GPU的冗余计算</strong>
                        </div>
                        <p style="margin: 0; color: #ddd; line-height: 1.6;">
                            传统GPU无法执行跳转指令，需先计算“所有可能结果”（如temp1、temp2），再根据条件赋值，存在无效计算。
                        </p>
                    </div>

                    <!-- GPU Branch Visual Component -->
                    <div class="gpu-branch-visual">
                        <!-- GPU Chip & Badge -->
                        <div class="gpu-chip-container">
                            <div class="gpu-chip-retro">
                                <div class="gpu-chip-core">
                                    <span class="gpu-label">GPU</span>
                                </div>
                            </div>
                            <div class="gpu-badge">
                                无法执行<br>跳转指令
                            </div>
                        </div>

                        <!-- Scenes Container -->
                        <div class="gpu-scenes-container">

                            <!-- Scene A: Original Code (Images 1-3) -->
                            <div class="gpu-scene gpu-scene-a">
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <div class="assumption-text"
                                        style="font-size: 1.5rem; align-self: flex-start; background: #000; border: 1px solid #33ffff; padding: 2px 8px; border-radius: 5px; opacity: 0; animation: highlight-if-anim 20s infinite;">
                                        假设a=3</div>

                                    <div class="code-window-retro" style="width: 380px;">
                                        <div class="window-header-retro">
                                            <span>CODE.C</span>
                                            <span>- □ x</span>
                                        </div>
                                        <div class="code-content-retro">
                                            <div class="highlight-if"><span class="kwd">if</span>(a>10){</div>
                                            <div class="indent">b=a+<span class="num">5</span>;</div>
                                            <div>}</div>
                                            <div class="highlight-else"><span class="kwd">else</span>{</div>
                                            <div class="highlight-else indent">b=a+<span class="num">3</span>;</div>
                                            <div class="highlight-else">}</div>
                                            <div><span class="func">printf</span>(b);</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Scene B: GPU View (Images 4-6) -->
                            <div class="gpu-scene gpu-scene-b">
                                <div style="display: flex; flex-direction: column; gap: 10px;">
                                    <div class="assumption-text"
                                        style="font-size: 1.5rem; align-self: flex-start; background: #000; border: 1px solid #33ffff; padding: 2px 8px; border-radius: 5px;">
                                        假设a=3</div>

                                    <div class="code-window-retro" style="width: 380px;">
                                        <div class="window-header-retro">
                                            <span>GPU_VIEW.C</span>
                                            <span>- □ x</span>
                                        </div>
                                        <div class="code-content-retro">
                                            <div>tmp1=a+<span class="num">5</span>;<span
                                                    class="gpu-calc-result">→8</span></div>
                                            <div>tmp2=a+<span class="num">3</span>;<span
                                                    class="gpu-calc-result">→6</span></div>
                                            <div class="gpu-highlight-row">b=(a>10)?tmp1 : tmp2;</div>
                                            <div><span class="func">printf</span>(b);</div>
                                        </div>
                                    </div>

                                    <div class="gpu-final-result">b=tmp2=6</div>
                                </div>
                            </div>

                        </div>

                        <!-- Step Indicator -->
                        <div class="visual-step-indicator gpu-step-text"></div>
                        <div class="fig-label-right">FIG_03.2: GPU 分支差异</div>
                    </div>

                    <!-- 3. Serial Bottleneck Card -->
                    <div
                        style="background: rgba(255, 80, 80, 0.05); border-left: 4px solid #ff5050; padding: 15px; margin: 30px 0 20px 0; border-radius: 0 8px 8px 0;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <span style="font-size: 1.5rem;">🛑</span>
                            <strong style="color: #ff5050; font-size: 1.1rem;">串行依赖的瓶颈</strong>
                        </div>
                        <p style="margin: 0; color: #ddd; line-height: 1.6;">
                            即使GPU拥有海量核心，但当代码内部存在数据依赖（如 d依赖c，e依赖d）时，必须按顺序执行，无法利用并行优势，导致效率低下。
                        </p>
                    </div>

                    <!-- GPU Dependency Visual Component -->
                    <div class="gpu-dependency-visual">
                        <!-- CPU Side -->
                        <div class="dep-window-container">
                            <div class="gpu-chip-retro dep-cpu-chip">
                                <span style="color: #000; font-weight: 900; font-size: 1.2rem;">CPU</span>
                            </div>
                            <div>
                                <div class="code-window-retro" style="width: 200px; font-size: 0.8rem;">
                                    <div class="window-header-retro">CPU_VIEW</div>
                                    <div class="code-content-retro" style="padding: 10px; font-size: 1rem;">
                                        <div><span class="kwd">if</span>(a>10){</div>
                                        <div class="indent">c=a+3;</div>
                                        <div class="indent">d=c+4;</div>
                                        <div class="indent">e=d*2;</div>
                                        <div class="indent">b=e+5;</div>
                                        <div>}</div>
                                        <div class="dep-cpu-highlight"><span class="kwd">else</span>{</div>
                                        <div class="dep-cpu-highlight indent">b=a+3;</div>
                                        <div class="dep-cpu-highlight">}</div>
                                        <div><span class="func">printf</span>(b);</div>
                                    </div>
                                </div>
                                <div style="font-size: 0.8rem; color: #aaa; margin-top: 5px; text-align: center;">*假设a=3
                                </div>
                            </div>
                        </div>

                        <!-- GPU Side -->
                        <div class="dep-window-container">
                            <div class="gpu-chip-retro dep-gpu-chip">
                                <div class="gpu-chip-core" style="width: 40px; height: 40px;">
                                    <span style="color: #fff; font-weight: 900; font-size: 1rem;">GPU</span>
                                </div>
                            </div>
                            <div>
                                <div class="code-window-retro"
                                    style="width: 240px; font-size: 0.8rem; border-color: #ff6666;">
                                    <div class="window-header-retro" style="background: #ff6666;">GPU_VIEW</div>
                                    <div class="code-content-retro"
                                        style="padding: 10px; font-size: 1rem; position: relative;">
                                        <div class="dep-gpu-highlight">c=a+3;</div>
                                        <div class="dep-gpu-highlight">d=c+4;</div>
                                        <div class="dep-gpu-highlight">e=d*2;</div>
                                        <div class="dep-gpu-highlight">tmp1=e+5;</div>
                                        <div class="dep-gpu-highlight">tmp2=a+3;</div>
                                        <div class="dep-gpu-highlight">b=(a>10)?...</div>

                                        <!-- Dependency Arrows SVG Overlay -->
                                        <svg class="dep-arrow-svg" viewBox="0 0 240 180">
                                            <!-- c to d -->
                                            <path d="M 60 15 Q 40 25 60 38" class="dep-arrow-path" />
                                            <!-- d to e -->
                                            <path d="M 60 38 Q 40 48 60 61" class="dep-arrow-path" />
                                            <!-- e to tmp1 -->
                                            <path d="M 60 61 Q 40 71 80 84" class="dep-arrow-path" />
                                        </svg>
                                    </div>
                                </div>
                                <div style="font-size: 0.8rem; color: #aaa; margin-top: 5px; text-align: center;">*假设a=3
                                </div>
                            </div>

                            <div class="dep-badge">
                                无法并行计算
                            </div>
                        </div>

                        <!-- Step Indicator -->
                        <div class="visual-step-indicator dep-step-text"></div>
                        <div class="fig-label-right">FIG_03.3: 串行依赖瓶颈</div>
                    </div>
                </div>
                <!-- CPU-GPU Collaboration Visual -->
                <div class="collab-visual">
                    <div class="collab-side cpu">
                        <div class="collab-title">逻辑处理</div>
                        <div class="collab-chip">CPU</div>
                        <div class="speech-bubble left">绿色小恐龙在这跳</div>
                    </div>

                    <div class="game-screen">
                        <div class="pixel-dino">
                            <!-- Row 1 -->
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <!-- Row 2 -->
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <!-- Row 3 -->
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <!-- Row 4 -->
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <!-- Row 5 -->
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <!-- Row 6 -->
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <!-- Row 7 -->
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <!-- Row 8 -->
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                            <div class="d-pixel"></div>
                            <div class="d-pixel"></div>
                            <div class="d-empty"></div>
                            <div class="d-empty"></div>
                        </div>
                    </div>

                    <div class="collab-side gpu">
                        <div class="collab-title">并行计算</div>
                        <div class="collab-chip gpu">
                            <div class="core">GPU</div>
                        </div>
                        <div class="speech-bubble right">懂了 这就画出来</div>
                    </div>
                    <div class="fig-label-right">FIG_03.4: CPU-GPU 协同工作</div>
                </div>
                <!-- 4. Collaboration Summary Card -->
                <div
                    style="background: rgba(33, 150, 243, 0.1); border: 1px solid #2196f3; padding: 15px; margin: 20px auto; border-radius: 8px; max-width: 800px; display: flex; align-items: center; gap: 15px;">
                    <div style="font-size: 2rem;">🤝</div>
                    <div>
                        <strong style="color: #2196f3; display: block; margin-bottom: 4px;">协同工作</strong>
                        <p style="margin: 0; color: #ddd; font-size: 0.95rem; line-height: 1.5;">
                            CPU负责逻辑指令下达（如角色跳跃判定），GPU负责将指令转化为图像像素渲染（如绘制每一帧画面）。两者协同工作，缺一不可。
                        </p>
                    </div>
                </div>

                <div>
                    <h3 style="color: var(--accent-cyan);">CPU的硬件与功能侧重</h3>

                    <!-- 5. Hardware Focus Card -->
                    <div
                        style="background: rgba(255, 255, 255, 0.05); border-radius: 10px; padding: 20px; margin-bottom: 20px; border: 1px solid rgba(255,255,255,0.1);">
                        <div style="display: flex; flex-wrap: wrap; gap: 15px;">
                            <div style="flex: 1; min-width: 300px; display: flex; align-items: flex-start; gap: 10px;">
                                <span
                                    style="background: #2196f3; color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; white-space: nowrap; margin-top: 2px;">核心能力</span>
                                <p style="margin: 0; color: #ddd; line-height: 1.5;">专注逻辑处理，通过“分支预测”技术提升条件语句处理效率。</p>
                            </div>
                            <div style="flex: 1; min-width: 300px; display: flex; align-items: flex-start; gap: 10px;">
                                <span
                                    style="background: #ffc107; color: #000; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; white-space: nowrap; margin-top: 2px;">硬件结构</span>
                                <p style="margin: 0; color: #ddd; line-height: 1.5;">单个CPU核心中，大量电路用于分支预测，适配多逻辑判断场景。</p>
                            </div>
                        </div>
                    </div>

                    <!-- CPU Die Visual -->
                    <style>
                        .cpu-die-visual {
                            display: flex;
                            justify-content: center;
                            gap: 10px;
                            background: #001133;
                            padding: 20px;
                            border: 2px solid #444;
                            border-radius: 10px;
                            margin: 2rem 0;
                            position: relative;
                            box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.8);
                        }

                        .die-column {
                            display: flex;
                            flex-direction: column;
                            gap: 10px;
                        }

                        .die-core {
                            width: 180px;
                            height: 120px;
                            background: #002244;
                            border: 1px solid #004488;
                            position: relative;
                            overflow: hidden;
                            display: flex;
                            flex-direction: column;
                        }

                        .core-control {
                            flex: 2;
                            /* Large area for Control */
                            background: #003366;
                            border-bottom: 1px solid #004488;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            font-size: 0.9rem;
                            color: #5588aa;
                            transition: all 0.5s;
                            position: relative;
                        }

                        .core-control::after {
                            content: 'Control / Branch Prediction';
                            text-align: center;
                            font-size: 0.8rem;
                            opacity: 0.7;
                        }

                        .core-alu {
                            flex: 1;
                            background: #001a33;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            font-size: 0.9rem;
                            color: #335577;
                        }

                        .core-alu::after {
                            content: 'ALU / Cache';
                        }

                        /* Highlight Box (Yellow) */
                        .core-highlight-box {
                            position: absolute;
                            top: 0;
                            left: 0;
                            right: 0;
                            bottom: 0;
                            border: 4px solid #ffc033;
                            opacity: 0;
                            box-shadow: 0 0 15px #ffc033, inset 0 0 30px rgba(255, 192, 51, 0.3);
                            pointer-events: none;
                            z-index: 10;
                            animation: die-core-highlight 8s infinite;
                        }

                        .core-label {
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            font-weight: 900;
                            font-size: 2rem;
                            color: rgba(255, 255, 255, 0.15);
                            z-index: 5;
                            pointer-events: none;
                        }

                        /* Central Shared Area */
                        .die-shared {
                            width: 90px;
                            height: 510px;
                            /* 4 * 120 + 3 * 10 */
                            background: #001a33;
                            border: 1px solid #003366;
                            background-image: radial-gradient(#004488 1px, transparent 1px);
                            background-size: 4px 4px;
                            position: relative;
                        }

                        .die-shared::after {
                            content: 'L3 / Uncore';
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%) rotate(90deg);
                            color: #335577;
                            font-size: 1.2rem;
                            white-space: nowrap;
                        }

                        /* Zoom Modal Styles */
                        .core-zoom-modal {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background: rgba(0, 0, 0, 0.95);
                            z-index: 9999;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            opacity: 0;
                            pointer-events: none;
                            transition: opacity 0.3s;
                            backdrop-filter: blur(10px);
                        }

                        .core-zoom-modal.active {
                            opacity: 1;
                            pointer-events: auto;
                        }

                        .zoomed-core {
                            width: 90vw;
                            height: 80vh;
                            max-width: 1000px;
                            max-height: 700px;
                            background: #050a14;
                            border: 1px solid #333;
                            position: relative;
                            box-shadow: 0 0 50px rgba(0, 100, 255, 0.1);
                            overflow: hidden;
                            transform: scale(0.9);
                            transition: transform 0.3s ease-out;
                            display: flex;
                            flex-direction: column;
                        }

                        .core-zoom-modal.active .zoomed-core {
                            transform: scale(1);
                        }

                        .close-btn {
                            position: absolute;
                            top: 20px;
                            right: 20px;
                            width: 40px;
                            height: 40px;
                            border: 1px solid rgba(255, 255, 255, 0.2);
                            border-radius: 50%;
                            color: #fff;
                            font-size: 24px;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            cursor: pointer;
                            z-index: 100;
                            background: rgba(0, 0, 0, 0.5);
                            transition: all 0.2s;
                        }

                        .close-btn:hover {
                            background: #c00;
                            border-color: #f00;
                            transform: rotate(90deg);
                        }

                        /* Circuit Background */
                        .zoomed-circuit-bg {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background-image:
                                linear-gradient(rgba(50, 150, 255, 0.05) 1px, transparent 1px),
                                linear-gradient(90deg, rgba(50, 150, 255, 0.05) 1px, transparent 1px);
                            background-size: 20px 20px;
                            z-index: 0;
                        }

                        /* Architecture Grid */
                        .core-arch-grid {
                            position: absolute;
                            top: 60px;
                            left: 40px;
                            right: 40px;
                            bottom: 140px;
                            display: grid;
                            grid-template-columns: 1fr 1fr 1.5fr;
                            grid-template-rows: repeat(4, 1fr);
                            gap: 8px;
                            z-index: 1;
                        }

                        .arch-block {
                            background: rgba(10, 30, 60, 0.4);
                            border: 1px solid rgba(100, 200, 255, 0.15);
                            position: relative;
                            overflow: hidden;
                        }

                        .arch-block::before {
                            content: attr(data-name);
                            position: absolute;
                            top: 4px;
                            left: 6px;
                            font-size: 0.6rem;
                            color: rgba(100, 200, 255, 0.6);
                            font-family: monospace;
                            z-index: 2;
                            text-transform: uppercase;
                        }

                        /* Logic Gate Pattern */
                        .logic-pattern {
                            width: 100%;
                            height: 100%;
                            background-image: radial-gradient(circle, rgba(100, 200, 255, 0.15) 1px, transparent 1px);
                            background-size: 6px 6px;
                            opacity: 0.3;
                        }

                        /* The Highlighted Control Unit */
                        .highlight-shape-container {
                            grid-column: 3;
                            grid-row: 1 / span 4;
                            position: relative;
                            background: rgba(255, 192, 51, 0.02);
                            border: 1px solid rgba(255, 192, 51, 0.2);
                        }

                        .highlight-shape-overlay {
                            position: absolute;
                            top: 0;
                            right: 0;
                            bottom: 0;
                            left: 0;
                            background: rgba(255, 192, 51, 0.1);
                            clip-path: polygon(0 0, 100% 0, 100% 100%, 20% 100%, 20% 60%, 0 40%);
                            animation: highlight-pulse 1s infinite alternate;
                        }

                        .highlight-border {
                            position: absolute;
                            top: 0;
                            right: 0;
                            bottom: 0;
                            left: 0;
                            border: 2px solid #ffc033;
                            clip-path: polygon(0 0, 100% 0, 100% 100%, 20% 100%, 20% 60%, 0 40%, 0 0);
                            filter: drop-shadow(0 0 5px #ffc033);
                            z-index: 3;
                            opacity: 0.8;
                        }

                        /* Radar Scan Effect */
                        .radar-scanner {
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            width: 150%;
                            height: 150%;
                            transform: translate(-50%, -50%);
                            background: conic-gradient(from 0deg, transparent 0deg, rgba(50, 255, 200, 0.05) 20deg, transparent 20.1deg);
                            border-radius: 50%;
                            animation: radar-spin 4s linear infinite;
                            pointer-events: none;
                            z-index: 10;
                            mix-blend-mode: screen;
                        }

                        .zoomed-label {
                            position: absolute;
                            top: 50%;
                            left: 20px;
                            transform: translateY(-50%) rotate(-90deg);
                            font-size: 4rem;
                            font-weight: 900;
                            color: rgba(255, 255, 255, 0.05);
                            z-index: 0;
                            font-family: sans-serif;
                            pointer-events: none;
                            white-space: nowrap;
                        }

                        .zoomed-desc {
                            position: absolute;
                            bottom: 0;
                            width: 100%;
                            background: rgba(0, 10, 20, 0.9);
                            border-top: 1px solid #333;
                            padding: 20px;
                            z-index: 30;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            gap: 8px;
                        }

                        @keyframes highlight-pulse {
                            0% {
                                opacity: 0.3;
                                box-shadow: inset 0 0 10px rgba(255, 192, 51, 0.2);
                            }

                            100% {
                                opacity: 0.8;
                                box-shadow: inset 0 0 50px rgba(255, 192, 51, 0.6);
                            }
                        }

                        @keyframes radar-spin {
                            from {
                                transform: translate(-50%, -50%) rotate(0deg);
                            }

                            to {
                                transform: translate(-50%, -50%) rotate(360deg);
                            }
                        }

                        /* Retro Tech Cursor */
                        .tech-cursor {
                            position: absolute;
                            width: 60px;
                            height: 60px;
                            border: 1px dashed rgba(100, 255, 218, 0.6);
                            border-radius: 50%;
                            pointer-events: none;
                            z-index: 1000;
                            transform: translate(-50%, -50%);
                            box-shadow: 0 0 15px rgba(100, 255, 218, 0.2);
                            transition: opacity 0.2s;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                        }

                        .tech-cursor::before {
                            content: '';
                            position: absolute;
                            width: 10px;
                            height: 10px;
                            border: 1px solid #64ffda;
                            background: rgba(100, 255, 218, 0.3);
                        }

                        .tech-cursor::after {
                            content: '';
                            position: absolute;
                            top: -10px;
                            left: 50%;
                            transform: translateX(-50%);
                            width: 2px;
                            height: 10px;
                            background: #64ffda;
                        }

                        .cursor-coords {
                            position: absolute;
                            bottom: -25px;
                            left: 50%;
                            transform: translateX(-50%);
                            font-family: 'Courier New', monospace;
                            font-size: 10px;
                            color: #64ffda;
                            white-space: nowrap;
                            background: rgba(0, 0, 0, 0.7);
                            padding: 2px 4px;
                            border: 1px solid #64ffda;
                        }

                        .zoomed-core:hover .tech-cursor {
                            opacity: 1;
                        }
                    </style>

                    <div class="cpu-die-visual" style="cursor: zoom-in; z-index: 10; position: relative;">
                        <!-- Click Overlay: Changed to button to prevent Reveal.js navigation -->
                        <button type="button"
                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 50; cursor: zoom-in; background: transparent; border: none; outline: none; padding: 0;"
                            onclick="showCoreZoom(event)" onmousedown="event.stopPropagation()">
                        </button>

                        <!-- Left Cores -->
                        <div class="die-column">
                            <div class="die-core">
                                <div class="core-control"></div>
                                <div class="core-alu"></div>
                                <div class="core-highlight-box"></div>
                                <div class="core-label">Core0</div>
                            </div>
                            <div class="die-core">
                                <div class="core-control"></div>
                                <div class="core-alu"></div>
                                <div class="core-highlight-box"></div>
                                <div class="core-label">Core1</div>
                            </div>
                            <div class="die-core">
                                <div class="core-control"></div>
                                <div class="core-alu"></div>
                                <div class="core-highlight-box"></div>
                                <div class="core-label">Core2</div>
                            </div>
                            <div class="die-core">
                                <div class="core-control"></div>
                                <div class="core-alu"></div>
                                <div class="core-highlight-box"></div>
                                <div class="core-label">Core3</div>
                            </div>
                        </div>

                        <!-- Center Shared -->
                        <div class="die-shared"></div>

                        <!-- Right Cores -->
                        <div class="die-column">
                            <div class="die-core">
                                <div class="core-control"></div>
                                <div class="core-alu"></div>
                                <div class="core-highlight-box"></div>
                                <div class="core-label">Core4</div>
                            </div>
                            <div class="die-core">
                                <div class="core-control"></div>
                                <div class="core-alu"></div>
                                <div class="core-highlight-box"></div>
                                <div class="core-label">Core5</div>
                            </div>
                            <div class="die-core">
                                <div class="core-control"></div>
                                <div class="core-alu"></div>
                                <div class="core-highlight-box"></div>
                                <div class="core-label">Core6</div>
                            </div>
                            <div class="die-core">
                                <div class="core-control"></div>
                                <div class="core-alu"></div>
                                <div class="core-highlight-box"></div>
                                <div class="core-label">Core7</div>
                            </div>
                        </div>
                        <div
                            style="position: absolute; bottom: 10px; right: 10px; background: rgba(0,0,0,0.7); color: #fff; padding: 5px 10px; border-radius: 15px; font-size: 0.8rem; pointer-events: none;">
                            🔍 点击放大 (Click to Zoom)
                        </div>
                    </div>

                    <script>
                        // Define globally to ensure access from onclick
                        window.showCoreZoom = function (e) {
                            // Stop Reveal.js from navigating
                            if (e) {
                                e.stopPropagation();
                                e.preventDefault();
                            }

                            var m = document.getElementById('core-zoom-modal');
                            if (m) {
                                // Move to body if not already there to escape Reveal.js scaling
                                if (m.parentNode !== document.body) {
                                    document.body.appendChild(m);
                                }
                                // Force reflow to ensure transition plays
                                void m.offsetWidth;
                                m.classList.add('active');
                            }
                        };

                        // Close function
                        window.closeCoreZoom = function () {
                            var m = document.getElementById('core-zoom-modal');
                            if (m) m.classList.remove('active');
                        };

                        // Tech Cursor Update
                        window.updateTechCursor = function (e) {
                            var cursor = document.getElementById('tech-cursor');
                            var coords = document.getElementById('cursor-coords');
                            var container = e.currentTarget;
                            var rect = container.getBoundingClientRect();
                            var x = e.clientX - rect.left;
                            var y = e.clientY - rect.top;

                            if (cursor) {
                                cursor.style.left = x + 'px';
                                cursor.style.top = y + 'px';
                            }
                            if (coords) {
                                coords.innerText = 'X:' + Math.floor(x) + ' Y:' + Math.floor(y);
                            }
                        };
                    </script>

                    <!-- Zoom Modal Structure -->
                    <div id="core-zoom-modal" class="core-zoom-modal" onclick="closeCoreZoom()">
                        <div class="zoomed-core" onclick="event.stopPropagation()" onmousedown="event.stopPropagation()"
                            onmousemove="updateTechCursor(event)" style="cursor: none;">
                            <div class="close-btn" onclick="closeCoreZoom()">×</div>
                            <div class="zoomed-circuit-bg"></div>

                            <!-- Tech Cursor -->
                            <div id="tech-cursor" class="tech-cursor">
                                <div id="cursor-coords" class="cursor-coords">X:0 Y:0</div>
                            </div>

                            <!-- Architecture Grid Layout -->
                            <div class="core-arch-grid">
                                <!-- Column 1: Memory & Fetch -->
                                <div class="arch-block" style="grid-row: 1; grid-column: 1;" data-name="L1 I-CACHE">
                                </div>
                                <div class="arch-block" style="grid-row: 2; grid-column: 1;" data-name="L1 D-CACHE">
                                </div>
                                <div class="arch-block" style="grid-row: 3 / span 2; grid-column: 1;"
                                    data-name="L2 CACHE INTERFACE"></div>

                                <!-- Column 2: Execution -->
                                <div class="arch-block" style="grid-row: 1;" data-name="INTEGER ALU">
                                    <div class="logic-pattern"></div>
                                </div>
                                <div class="arch-block" style="grid-row: 2;" data-name="FPU / VECTOR">
                                    <div class="logic-pattern"></div>
                                </div>
                                <div class="arch-block" style="grid-row: 3;" data-name="REGISTERS"></div>
                                <div class="arch-block" style="grid-row: 4;" data-name="LOAD / STORE"></div>

                                <!-- Column 3: Control (Highlighted) -->
                                <div class="highlight-shape-container">
                                    <div class="highlight-shape-overlay"></div>
                                    <div class="highlight-border"></div>
                                    <div class="logic-pattern" style="opacity: 0.5; background-size: 4px 4px;"></div>
                                    <div
                                        style="position: absolute; bottom: 20px; right: 20px; color: #ffc033; font-weight: bold; text-align: right; text-shadow: 0 0 5px #000;">
                                        CONTROL UNIT<br>BRANCH PREDICTION<br>SCHEDULER<br>DECODE
                                    </div>
                                </div>
                            </div>

                            <!-- Radar Scanner Effect -->
                            <div class="radar-scanner"></div>

                            <div class="zoomed-desc">
                                <div
                                    style="font-size: 1.8rem; font-weight: bold; color: #ffc033; text-shadow: 0 0 10px rgba(255, 192, 51, 0.5);">
                                    控制单元与分支预测 (Control Unit)
                                </div>
                                <div style="font-size: 1.1rem; color: #ccc;">
                                    <span style="color: #fff;">高亮区域</span> 占据核心约50%面积 • 负责复杂的逻辑判断与指令调度
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 6. Chip Perspective Summary -->
                    <div
                        style="background: rgba(255, 193, 7, 0.05); border: 1px solid #ffc107; padding: 15px; margin: 20px auto; border-radius: 8px; max-width: 900px; display: flex; align-items: flex-start; gap: 15px;">
                        <div style="font-size: 1.8rem; margin-top: -5px;">🔬</div>
                        <div>
                            <strong style="color: #ffc107; display: block; margin-bottom: 4px;">芯片透视</strong>
                            <p style="margin: 0; color: #ddd; font-size: 0.95rem; line-height: 1.5;">
                                图中黄色框选区域为CPU物理核心，其中高亮闪烁的蓝色区域（Control Unit）占据了核心约50%以上的面积，专门用于复杂的逻辑控制与分支预测。
                            </p>
                            <div
                                style="margin-top: 8px; font-size: 0.85rem; color: #ffc033; display: flex; align-items: center; gap: 5px;">
                                <span>👆</span> (点击上方芯片图可查看核心放大细节)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PART IV: GPU Expansion -->
        <section class="reveal">
            <h2>04_GPU功能扩展</h2>
            <!-- Changed layout to column for top-down flow -->
            <div class="no-scrollbar"
                style="height: 85vh; overflow-y: auto; display: flex; flex-direction: column; gap: 2rem; align-items: center;">
                <div style="width: 100%; max-width: 900px;">
                    <h3 style="color: var(--accent-red);">GPU的传统核心场景：图形渲染</h3>

                    <!-- 1. Graphics Rendering Card -->
                    <div
                        style="background: rgba(255, 80, 80, 0.05); border-left: 4px solid #ff5050; padding: 15px; margin-bottom: 20px; border-radius: 0 8px 8px 0;">
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <div style="display: flex; align-items: flex-start; gap: 10px;">
                                <span
                                    style="background: #ff5050; color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; white-space: nowrap; margin-top: 2px;">硬件支撑</span>
                                <p style="margin: 0; color: #ddd; line-height: 1.5;">
                                    靠“堆叠计算核心”实现高效，如10年前的GTX980显卡含2048个CUDA核心，适配大量重复运算。</p>
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: 10px;">
                                <span
                                    style="background: #333; color: #fff; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: bold; white-space: nowrap; margin-top: 2px; border: 1px solid #555;">游戏分工</span>
                                <p style="margin: 0; color: #ddd; line-height: 1.5;">
                                    CPU计算“角色是否动、如何动”的逻辑，GPU负责在指定位置渲染角色图像。</p>
                            </div>
                        </div>
                    </div>

                    <!-- GPU Render Demo -->
                    <style>
                        .gpu-render-demo {
                            width: 100%;
                            height: 300px;
                            background: #050a10;
                            border: 1px solid #333;
                            border-radius: 10px;
                            margin-top: 20px;
                            position: relative;
                            overflow: hidden;
                            display: flex;
                            align-items: center;
                            justify-content: space-around;
                            box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.8);
                        }

                        /* GPU Card */
                        .gpu-card-container {
                            position: relative;
                            width: 300px;
                            height: 120px;
                            animation: card-slide-in 1s ease-out forwards;
                            transform: translateX(-150%);
                        }

                        .gpu-card-body {
                            width: 100%;
                            height: 100%;
                            background: linear-gradient(90deg, #c0c0c0, #e0e0e0, #a0a0a0);
                            border-radius: 5px;
                            position: relative;
                            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
                            display: flex;
                            align-items: center;
                            padding: 10px;
                            border: 2px solid #666;
                        }

                        .gpu-card-body::before {
                            /* Black accent stripe */
                            content: '';
                            position: absolute;
                            top: 10px;
                            bottom: 10px;
                            left: 60%;
                            right: 10px;
                            background: #111;
                            border-radius: 2px;
                        }

                        .gpu-fan {
                            width: 90px;
                            height: 90px;
                            background: #222;
                            border-radius: 50%;
                            position: absolute;
                            right: 20px;
                            border: 2px solid #444;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            overflow: hidden;
                        }

                        .fan-blades {
                            width: 100%;
                            height: 100%;
                            background: conic-gradient(from 0deg, #333 0deg, #111 15deg, transparent 15deg, transparent 45deg, #333 45deg, #111 60deg, transparent 60deg, transparent 90deg, #333 90deg, #111 105deg, transparent 105deg, transparent 135deg, #333 135deg, #111 150deg, transparent 150deg, transparent 180deg, #333 180deg, #111 195deg, transparent 195deg, transparent 225deg, #333 225deg, #111 240deg, transparent 240deg, transparent 270deg, #333 270deg, #111 285deg, transparent 285deg, transparent 315deg, #333 315deg, #111 330deg, transparent 330deg);
                            border-radius: 50%;
                            animation: fan-spin 0.5s linear infinite;
                        }

                        .gpu-text {
                            font-family: 'Arial Black', sans-serif;
                            font-size: 1.5rem;
                            color: #333;
                            transform: rotate(-90deg);
                            position: absolute;
                            left: -10px;
                            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
                        }

                        /* CUDA Label Pop-up */
                        .cuda-label {
                            position: absolute;
                            top: -40px;
                            left: 50%;
                            transform: translateX(-50%) scale(0);
                            background: #000;
                            border: 2px solid #00ff00;
                            color: #fff;
                            padding: 5px 10px;
                            font-family: monospace;
                            font-weight: bold;
                            border-radius: 5px;
                            white-space: nowrap;
                            box-shadow: 0 0 10px #00ff00;
                            animation: label-pop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
                            animation-delay: 1.2s;
                        }

                        .cuda-label::after {
                            content: '';
                            position: absolute;
                            bottom: -6px;
                            left: 50%;
                            margin-left: -6px;
                            border-width: 6px 6px 0;
                            border-style: solid;
                            border-color: #00ff00 transparent transparent transparent;
                        }

                        /* 3D Cat Wireframe Scene */
                        .render-area {
                            width: 200px;
                            height: 250px;
                            position: relative;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            perspective: 600px;
                        }

                        .cat-3d-wrapper {
                            width: 120px;
                            height: 120px;
                            position: relative;
                            transform-style: preserve-3d;
                            animation: cat-rotate 8s ease-in-out infinite;
                        }

                        .cat-layer {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            overflow: visible;
                        }

                        /* Parallax Layers for 3D Volumetric Effect */
                        .layer-back {
                            transform: translateZ(-15px) scale(0.9);
                        }

                        .layer-mid {
                            transform: translateZ(0px);
                        }

                        .layer-front {
                            transform: translateZ(15px) scale(0.9);
                        }

                        .cat-line {
                            fill: none;
                            stroke: #ffc033;
                            stroke-width: 2;
                            stroke-linecap: round;
                            stroke-linejoin: round;
                            stroke-dasharray: 200;
                            stroke-dashoffset: 200;
                            opacity: 0;
                            animation: line-render 5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
                            filter: drop-shadow(0 0 2px #ffc033);
                        }

                        /* Top-Down Sequential Lighting Delays */
                        /* Ears (Top) */
                        .delay-0 {
                            animation-delay: 2.2s;
                        }

                        /* Forehead */
                        .delay-1 {
                            animation-delay: 2.5s;
                        }

                        /* Eyes / Mid Face */
                        .delay-2 {
                            animation-delay: 2.8s;
                        }

                        /* Nose / Cheeks */
                        .delay-3 {
                            animation-delay: 3.1s;
                        }

                        /* Whiskers / Mouth */
                        .delay-4 {
                            animation-delay: 3.4s;
                        }

                        /* Chin (Bottom) */
                        .delay-5 {
                            animation-delay: 3.7s;
                        }

                        @keyframes line-render {
                            0% {
                                stroke-dashoffset: 200;
                                opacity: 0;
                            }

                            15% {
                                opacity: 1;
                                stroke-dashoffset: 0;
                            }

                            75% {
                                opacity: 1;
                                stroke-dashoffset: 0;
                            }

                            85% {
                                opacity: 0;
                                stroke-dashoffset: 0;
                            }

                            100% {
                                opacity: 0;
                                stroke-dashoffset: 200;
                            }
                        }

                        @keyframes cat-rotate {
                            0% {
                                transform: rotateY(-25deg) rotateX(5deg);
                            }

                            50% {
                                transform: rotateY(25deg) rotateX(-5deg);
                            }

                            100% {
                                transform: rotateY(-25deg) rotateX(5deg);
                            }
                        }

                        /* Connection Line */
                        .data-stream {
                            position: absolute;
                            left: 320px;
                            top: 50%;
                            width: 100px;
                            height: 2px;
                            background: linear-gradient(90deg, transparent, #00ff00, transparent);
                            opacity: 0;
                            animation: stream-flow 1s linear infinite;
                            animation-delay: 1.5s;
                        }

                        @keyframes card-slide-in {
                            to {
                                transform: translateX(0);
                            }
                        }

                        @keyframes fan-spin {
                            from {
                                transform: rotate(0deg);
                            }

                            to {
                                transform: rotate(360deg);
                            }
                        }

                        @keyframes label-pop {
                            to {
                                transform: translateX(-50%) scale(1);
                            }
                        }

                        @keyframes stream-flow {
                            0% {
                                opacity: 0;
                                transform: translateX(0);
                            }

                            50% {
                                opacity: 1;
                            }

                            100% {
                                opacity: 0;
                                transform: translateX(50px);
                            }
                        }
                    </style>

                    <div class="gpu-render-demo">
                        <!-- The Card -->
                        <div class="gpu-card-container">
                            <div class="cuda-label">CUDA核心数: 2048</div>
                            <div class="gpu-card-body">
                                <div class="gpu-text">GTX 980</div>
                                <div class="gpu-fan">
                                    <div class="fan-blades"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Data Flow -->
                        <div class="data-stream"></div>

                        <!-- The Render -->
                        <div class="render-area">
                            <div class="cat-3d-wrapper">
                                <!-- Layer 1: Back (Ears & Head Outline) -->
                                <svg class="cat-layer layer-back" viewBox="0 0 100 100">
                                    <!-- Polygon Mesh Structure -->
                                    <path class="cat-line delay-0"
                                        d="M20 10 L50 25 L80 10 L50 5 Z M20 10 L10 35 L50 25 M80 10 L90 35 L50 25" />
                                    <path class="cat-line delay-1" d="M10 35 L50 25 L90 35" />
                                </svg>

                                <!-- Layer 2: Mid (Face Contour & Depth) -->
                                <svg class="cat-layer layer-mid" viewBox="0 0 100 100">
                                    <!-- Cross-sections for 3D feel -->
                                    <path class="cat-line delay-1" d="M10 35 L30 50 L50 25 L70 50 L90 35" />
                                    <path class="cat-line delay-2" d="M30 50 L50 65 L70 50" />
                                    <path class="cat-line delay-2" d="M10 35 L25 80 L50 65 L75 80 L90 35" />
                                    <!-- Vertical mesh lines -->
                                    <path class="cat-line delay-2" d="M30 50 L25 80 M70 50 L75 80" />
                                </svg>

                                <!-- Layer 3: Front (Features & Details) -->
                                <svg class="cat-layer layer-front" viewBox="0 0 100 100">
                                    <!-- Eyes (Polygonal) -->
                                    <path class="cat-line delay-2" d="M30 50 L45 50 L37 58 Z M37 58 L30 50" />
                                    <path class="cat-line delay-2" d="M70 50 L55 50 L63 58 Z M63 58 L70 50" />
                                    <!-- Nose Bridge -->
                                    <path class="cat-line delay-3" d="M50 25 L45 65 L55 65 Z" />
                                    <!-- Nose Tip -->
                                    <path class="cat-line delay-3" d="M45 65 L50 72 L55 65" />
                                    <!-- Mouth/Chin Mesh -->
                                    <path class="cat-line delay-4" d="M50 72 L50 95 M25 80 L50 95 L75 80" />
                                    <!-- Cheek Mesh -->
                                    <path class="cat-line delay-3" d="M25 80 L45 65 M75 80 L55 65" />
                                </svg>
                            </div>
                        </div>
                        <div class="fig-label-right">FIG_04.1: GPU 图形渲染</div>
                    </div>
                </div>

                <div style="width: 100%; max-width: 900px;">
                    <h3 style="color: var(--accent-red);">GPU向AI领域延伸（GPGPU）</h3>

                    <!-- 2. AI Extension Card -->
                    <div
                        style="background: rgba(33, 150, 243, 0.05); border-left: 4px solid #2196f3; padding: 15px; margin-bottom: 20px; border-radius: 0 8px 8px 0;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 5px;">
                            <span style="font-size: 1.5rem;">🧠</span>
                            <strong style="color: #2196f3; font-size: 1.1rem;">AI计算契合点</strong>
                        </div>
                        <p style="margin: 0; color: #ddd; line-height: 1.6;">
                            神经网络核心是“矩阵运算”，拆分后为大量并行乘加运算，与GPU优势匹配。
                        </p>
                    </div>

                    <!-- AI Matrix Visualization -->
                    <div class="ai-matrix-demo">
                        <!-- Left: Neural Network -->
                        <div class="viz-box nn-box">
                            <svg class="nn-svg" viewBox="0 0 240 180">
                                <defs>
                                    <filter id="glow-nn">
                                        <feGaussianBlur stdDeviation="1.5" result="coloredBlur" />
                                        <feMerge>
                                            <feMergeNode in="coloredBlur" />
                                            <feMergeNode in="SourceGraphic" />
                                        </feMerge>
                                    </filter>
                                </defs>

                                <!-- Connections -->
                                <g class="nn-connections">
                                    <!-- Layer 1 to 2 -->
                                    <g class="flow-con-1">
                                        <line x1="30" y1="30" x2="90" y2="20" />
                                        <line x1="30" y1="30" x2="90" y2="45" />
                                        <line x1="30" y1="30" x2="90" y2="70" />
                                        <line x1="30" y1="55" x2="90" y2="20" />
                                        <line x1="30" y1="55" x2="90" y2="45" />
                                        <line x1="30" y1="55" x2="90" y2="70" />
                                        <line x1="30" y1="80" x2="90" y2="45" />
                                        <line x1="30" y1="80" x2="90" y2="70" />
                                        <line x1="30" y1="80" x2="90" y2="95" />
                                        <line x1="30" y1="105" x2="90" y2="70" />
                                        <line x1="30" y1="105" x2="90" y2="95" />
                                        <line x1="30" y1="105" x2="90" y2="120" />
                                        <line x1="30" y1="130" x2="90" y2="95" />
                                        <line x1="30" y1="130" x2="90" y2="120" />
                                        <line x1="30" y1="130" x2="90" y2="145" />
                                    </g>
                                    <!-- Layer 2 to 3 -->
                                    <g class="flow-con-2">
                                        <line x1="90" y1="20" x2="150" y2="20" />
                                        <line x1="90" y1="20" x2="150" y2="45" />
                                        <line x1="90" y1="45" x2="150" y2="20" />
                                        <line x1="90" y1="45" x2="150" y2="45" />
                                        <line x1="90" y1="45" x2="150" y2="70" />
                                        <line x1="90" y1="70" x2="150" y2="45" />
                                        <line x1="90" y1="70" x2="150" y2="70" />
                                        <line x1="90" y1="70" x2="150" y2="95" />
                                        <line x1="90" y1="95" x2="150" y2="70" />
                                        <line x1="90" y1="95" x2="150" y2="95" />
                                        <line x1="90" y1="95" x2="150" y2="120" />
                                        <line x1="90" y1="120" x2="150" y2="95" />
                                        <line x1="90" y1="120" x2="150" y2="120" />
                                        <line x1="90" y1="120" x2="150" y2="145" />
                                        <line x1="90" y1="145" x2="150" y2="120" />
                                        <line x1="90" y1="145" x2="150" y2="145" />
                                    </g>
                                    <!-- Layer 3 to 4 -->
                                    <g class="flow-con-3">
                                        <line x1="150" y1="20" x2="210" y2="30" />
                                        <line x1="150" y1="20" x2="210" y2="55" />
                                        <line x1="150" y1="45" x2="210" y2="30" />
                                        <line x1="150" y1="45" x2="210" y2="55" />
                                        <line x1="150" y1="45" x2="210" y2="80" />
                                        <line x1="150" y1="70" x2="210" y2="55" />
                                        <line x1="150" y1="70" x2="210" y2="80" />
                                        <line x1="150" y1="70" x2="210" y2="105" />
                                        <line x1="150" y1="95" x2="210" y2="80" />
                                        <line x1="150" y1="95" x2="210" y2="105" />
                                        <line x1="150" y1="95" x2="210" y2="130" />
                                        <line x1="150" y1="120" x2="210" y2="105" />
                                        <line x1="150" y1="120" x2="210" y2="130" />
                                        <line x1="150" y1="145" x2="210" y2="130" />
                                    </g>
                                </g>

                                <!-- Nodes -->
                                <g class="nn-nodes">
                                    <!-- Layer 1 (Input) -->
                                    <g class="flow-layer-1">
                                        <circle cx="30" cy="30" r="4" />
                                        <circle cx="30" cy="55" r="4" />
                                        <circle cx="30" cy="80" r="4" />
                                        <circle cx="30" cy="105" r="4" />
                                        <circle cx="30" cy="130" r="4" />
                                    </g>
                                    <!-- Layer 2 -->
                                    <g class="flow-layer-2">
                                        <circle cx="90" cy="20" r="4" />
                                        <circle cx="90" cy="45" r="4" />
                                        <circle cx="90" cy="70" r="4" />
                                        <circle cx="90" cy="95" r="4" />
                                        <circle cx="90" cy="120" r="4" />
                                        <circle cx="90" cy="145" r="4" />
                                    </g>
                                    <!-- Layer 3 -->
                                    <g class="flow-layer-3">
                                        <circle cx="150" cy="20" r="4" />
                                        <circle cx="150" cy="45" r="4" />
                                        <circle cx="150" cy="70" r="4" />
                                        <circle cx="150" cy="95" r="4" />
                                        <circle cx="150" cy="120" r="4" />
                                        <circle cx="150" cy="145" r="4" />
                                    </g>
                                    <!-- Layer 4 (Output) -->
                                    <g class="flow-layer-4">
                                        <circle cx="210" cy="30" r="4" />
                                        <circle cx="210" cy="55" r="4" />
                                        <circle cx="210" cy="80" r="4" />
                                        <circle cx="210" cy="105" r="4" />
                                        <circle cx="210" cy="130" r="4" />
                                    </g>
                                </g>

                                <!-- Focus Box (Orange Bracket) -->
                                <g class="focus-box">
                                    <rect x="140" y="60" width="20" height="20" rx="2" />
                                </g>
                                <!-- Connector to Matrix -->
                                <g class="focus-connector">
                                    <line x1="160" y1="70" x2="240" y2="70" />
                                </g>
                            </svg>
                            <div class="viz-label">神经网络计算</div>
                        </div>

                        <div class="viz-arrow">
                            <div class="arrow-line">➡</div>
                        </div>

                        <!-- Right: Matrix Math -->
                        <div class="viz-box matrix-box">
                            <div class="matrix-container">
                                <div class="matrix-group">
                                    <div class="matrix-bracket">[</div>
                                    <div class="matrix-grid">
                                        <div class="m-cell highlight-a">a1</div>
                                        <div class="m-cell highlight-a">a2</div>
                                        <div class="m-cell">a3</div>
                                        <div class="m-cell">a4</div>
                                    </div>
                                    <div class="matrix-bracket">]</div>
                                </div>
                                <div class="math-op">×</div>
                                <div class="matrix-group">
                                    <div class="matrix-bracket">[</div>
                                    <div class="matrix-grid">
                                        <div class="m-cell highlight-b">b1</div>
                                        <div class="m-cell">b2</div>
                                        <div class="m-cell highlight-b">b3</div>
                                        <div class="m-cell">b4</div>
                                    </div>
                                    <div class="matrix-bracket">]</div>
                                </div>
                            </div>
                            <div class="matrix-equals">=</div>
                            <div class="matrix-result">
                                <div class="matrix-bracket">[</div>
                                <div class="result-grid">
                                    <div class="r-cell active-calc">
                                        <span class="calc-part">a1×b1</span> + <span class="calc-part">a2×b3</span>
                                    </div>
                                    <div class="r-cell">...</div>
                                    <div class="r-cell">...</div>
                                    <div class="r-cell">...</div>
                                </div>
                                <div class="matrix-bracket">]</div>
                            </div>

                            <div class="gpu-icon-small">
                                <div class="gpu-chip-body">
                                    <div class="gpu-text-label">GPU</div>
                                </div>
                                <div class="gpu-sparkle">✦</div>
                            </div>
                            <div class="viz-label">矩阵运算</div>
                        </div>
                        <div class="fig-label-right">FIG_04.2: AI 矩阵运算</div>
                    </div>
                    <!-- 3. Modern GPU Modules Cards -->
                    <div style="margin-top: 30px; margin-bottom: 10px;">
                        <p
                            style="font-size: 1.1rem; color: #fff; margin-bottom: 15px; border-bottom: 1px solid #444; padding-bottom: 5px; display: inline-block;">
                            <strong>现代GPU三大计算模块：</strong>
                        </p>
                        <div style="display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
                            <!-- RT Core -->
                            <div
                                style="flex: 1; min-width: 200px; background: rgba(153, 51, 204, 0.1); border: 1px solid #9933cc; border-radius: 8px; padding: 15px; text-align: center;">
                                <div style="color: #9933cc; font-weight: 900; font-size: 1.2rem; margin-bottom: 5px;">RT
                                    Core</div>
                                <div style="font-size: 0.9rem; color: #ddd;">负责光线追踪</div>
                            </div>
                            <!-- CUDA Core -->
                            <div
                                style="flex: 1; min-width: 200px; background: rgba(33, 150, 243, 0.1); border: 1px solid #2196f3; border-radius: 8px; padding: 15px; text-align: center;">
                                <div style="color: #2196f3; font-weight: 900; font-size: 1.2rem; margin-bottom: 5px;">
                                    CUDA Core</div>
                                <div style="font-size: 0.9rem; color: #ddd;">处理图形渲染与通用科学计算</div>
                            </div>
                            <!-- Tensor Core -->
                            <div
                                style="flex: 1; min-width: 200px; background: rgba(76, 175, 80, 0.1); border: 1px solid #4caf50; border-radius: 8px; padding: 15px; text-align: center;">
                                <div style="color: #4caf50; font-weight: 900; font-size: 1.2rem; margin-bottom: 5px;">
                                    Tensor Core</div>
                                <div style="font-size: 0.9rem; color: #ddd;">加速神经网络计算</div>
                            </div>
                        </div>
                    </div>

                    <!-- GPU Evolution Story Animation -->
                    <style>
                        .gpu-story-container {
                            width: 100%;
                            height: 360px;
                            background: #000;
                            border: 1px solid #333;
                            border-radius: 8px;
                            position: relative;
                            overflow: hidden;
                            margin-top: 20px;
                            font-family: 'Microsoft YaHei', sans-serif;
                        }

                        .story-scene {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            opacity: 0;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            animation: scene-fade 20s infinite;
                            background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
                            padding-bottom: 30px;
                            box-sizing: border-box;
                        }

                        /* Scene Timing */
                        .scene-1 {
                            animation-delay: 0s;
                        }

                        .scene-2 {
                            animation-delay: 4s;
                        }

                        .scene-3 {
                            animation-delay: 8s;
                        }

                        .scene-4 {
                            animation-delay: 12s;
                        }

                        .scene-5 {
                            animation-delay: 16s;
                        }

                        .scene-6 {
                            animation-delay: 20s;
                        }

                        @keyframes scene-fade {
                            0% {
                                opacity: 0;
                                z-index: 1;
                            }

                            4% {
                                opacity: 1;
                                z-index: 2;
                            }

                            16% {
                                opacity: 1;
                                z-index: 2;
                            }

                            20% {
                                opacity: 0;
                                z-index: 1;
                            }

                            100% {
                                opacity: 0;
                                z-index: 1;
                            }
                        }

                        /* Footer Info */
                        .scene-footer {
                            position: absolute;
                            bottom: 15px;
                            left: 20px;
                            width: calc(100% - 40px);
                            display: flex;
                            justify-content: flex-start;
                            /* Changed from space-between to avoid overlap */
                            gap: 20px;
                            /* Added gap */
                            align-items: center;
                            border-top: 1px solid #333;
                            padding-top: 10px;
                        }

                        .page-num {
                            color: var(--accent-cyan);
                            font-family: 'VT323', monospace;
                            font-size: 1.2rem;
                        }

                        .scene-desc {
                            color: #aaa;
                            font-size: 0.9rem;
                            font-weight: bold;
                        }

                        /* Scene 1: Math Problem */
                        .scene-1 {
                            background-image:
                                linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                                linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
                            background-size: 40px 40px;
                            background-position: center;
                        }

                        .math-title-container {
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            margin-bottom: 30px;
                        }

                        .math-row {
                            font-size: 2rem;
                            font-weight: 900;
                            color: #fff;
                            margin-bottom: 8px;
                            display: flex;
                            align-items: center;
                            gap: 15px;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                        }

                        .math-deco {
                            font-family: sans-serif;
                            -webkit-text-stroke: 2px #b8860b;
                            color: transparent;
                            font-weight: 900;
                            font-size: 2.2rem;
                        }

                        .matrices-wrapper {
                            display: flex;
                            gap: 50px;
                            align-items: center;
                            justify-content: center;
                        }

                        .story-matrix-box {
                            position: relative;
                            padding: 10px 20px;
                            color: #fff;
                            font-family: 'Courier New', monospace;
                            font-weight: bold;
                            font-size: 1.3rem;
                            line-height: 1.5;
                        }

                        .story-matrix-bracket {
                            position: absolute;
                            top: 0;
                            bottom: 0;
                            width: 15px;
                            border: 4px solid #fff;
                        }

                        .bracket-l {
                            left: 0;
                            border-right: none;
                        }

                        .bracket-r {
                            right: 0;
                            border-left: none;
                        }

                        .story-matrix-grid {
                            display: grid;
                            grid-template-columns: repeat(4, auto);
                            gap: 5px 20px;
                            text-align: center;
                        }

                        .story-matrix-note {
                            position: absolute;
                            bottom: -25px;
                            left: 0;
                            font-size: 0.9rem;
                            color: #888;
                            font-family: monospace;
                            font-style: italic;
                        }

                        /* Scene 2 (New): GPU vs Math */
                        .split-layout {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 60px;
                            width: 100%;
                            padding: 0 20px;
                        }

                        .gpu-frame {
                            width: 200px;
                            height: 200px;
                            background: #999;
                            border: 1px solid #666;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            position: relative;
                            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.5);
                        }

                        .gpu-frame::before {
                            content: '';
                            position: absolute;
                            top: 10px;
                            left: 10px;
                            right: 10px;
                            bottom: 10px;
                            background: #888;
                            z-index: 0;
                        }

                        .cuda-inner {
                            width: 140px;
                            height: 140px;
                            background: linear-gradient(135deg, #0055aa, #003366);
                            z-index: 1;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            border: 2px solid #4488ff;
                            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
                            position: relative;
                        }

                        .cuda-inner::after {
                            content: '';
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            background-image: linear-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px),
                                linear-gradient(90deg, rgba(255, 255, 255, 0.1) 1px, transparent 1px);
                            background-size: 20px 20px;
                            pointer-events: none;
                        }

                        .cuda-text {
                            color: #fff;
                            font-weight: 900;
                            font-size: 1.8rem;
                            line-height: 1;
                            text-align: center;
                            text-shadow: 2px 2px 0px #000;
                            z-index: 2;
                            font-family: sans-serif;
                        }

                        .gpu-label-bottom {
                            z-index: 1;
                            color: #fff;
                            font-weight: bold;
                            margin-top: 8px;
                            font-size: 1.2rem;
                            text-shadow: 1px 1px 2px #000;
                        }

                        .bubble-alert {
                            position: absolute;
                            top: -50px;
                            left: 50%;
                            transform: translateX(-50%);
                            background: #fff;
                            color: #000;
                            padding: 8px 15px;
                            font-weight: 900;
                            font-size: 1.1rem;
                            border: 2px solid #00aaff;
                            box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.5);
                            z-index: 10;
                            white-space: nowrap;
                        }

                        .bubble-alert::after {
                            content: '';
                            position: absolute;
                            bottom: -8px;
                            left: 50%;
                            margin-left: -6px;
                            width: 12px;
                            height: 12px;
                            background: #fff;
                            border-right: 2px solid #00aaff;
                            border-bottom: 2px solid #00aaff;
                            transform: rotate(45deg);
                        }

                        .math-scaled {
                            transform: scale(0.6);
                            transform-origin: center;
                            margin-left: 0;
                        }

                        /* Scene 3: CUDA Struggle */
                        .cuda-wrapper {
                            position: relative;
                        }

                        .cuda-core-box {
                            width: 150px;
                            height: 150px;
                            background: linear-gradient(135deg, #0066cc, #003366);
                            border: 2px solid #3399ff;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            color: #fff;
                            font-weight: bold;
                            font-size: 1.5rem;
                            box-shadow: 0 0 20px rgba(0, 102, 204, 0.5);
                            animation: shake 0.5s infinite;
                        }

                        .speech-bubble {
                            position: absolute;
                            top: -40px;
                            right: -80px;
                            background: #fff;
                            color: #000;
                            padding: 8px 15px;
                            border-radius: 15px;
                            font-weight: bold;
                            font-size: 1rem;
                            white-space: nowrap;
                            z-index: 10;
                            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
                        }

                        .speech-bubble::after {
                            content: '';
                            position: absolute;
                            bottom: -8px;
                            left: 20px;
                            border-width: 8px 8px 0;
                            border-style: solid;
                            border-color: #fff transparent transparent transparent;
                        }

                        @keyframes shake {
                            0% {
                                transform: translate(0, 0) rotate(0deg);
                            }

                            25% {
                                transform: translate(-2px, 2px) rotate(-2deg);
                            }

                            50% {
                                transform: translate(2px, -2px) rotate(2deg);
                            }

                            75% {
                                transform: translate(-2px, -2px) rotate(-2deg);
                            }

                            100% {
                                transform: translate(0, 0) rotate(0deg);
                            }
                        }

                        /* Scene 3: Tensor Core */
                        .tensor-title {
                            font-size: 2.5rem;
                            font-weight: 900;
                            color: var(--accent-amber);
                            font-style: italic;
                            margin-bottom: 5px;
                        }

                        .tensor-subtitle {
                            font-size: 1.2rem;
                            color: #fff;
                            margin-bottom: 15px;
                        }

                        .tensor-chip {
                            width: 120px;
                            height: 120px;
                            background: #333;
                            border: 4px solid #666;
                            position: relative;
                            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
                        }

                        .tensor-part {
                            position: absolute;
                            top: 5px;
                            left: 5px;
                            right: 5px;
                            height: 65px;
                            background: var(--accent-green);
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: #000;
                            font-weight: bold;
                            border: 1px solid #fff;
                        }

                        .cuda-part-small {
                            position: absolute;
                            bottom: 5px;
                            left: 5px;
                            right: 5px;
                            height: 35px;
                            background: #0066cc;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            color: #fff;
                            font-size: 0.8rem;
                            border: 1px solid #fff;
                            opacity: 0.8;
                        }

                        /* Scene 4: The Trio */
                        .chip-layout-container {
                            position: relative;
                            width: 100%;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                        }

                        .chip-layout {
                            width: 260px;
                            height: 220px;
                            background: #444;
                            border: 6px solid #888;
                            display: grid;
                            grid-template-rows: 0.8fr 1.2fr;
                            gap: 4px;
                            padding: 4px;
                            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
                        }

                        .core-box {
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            border: 1px solid rgba(255, 255, 255, 0.5);
                            text-align: center;
                            padding: 5px;
                        }

                        .core-title {
                            font-weight: 900;
                            font-size: 1.2rem;
                            margin-bottom: 2px;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
                        }

                        .core-desc {
                            font-size: 0.85rem;
                            line-height: 1.3;
                            font-weight: normal;
                            opacity: 0.95;
                        }

                        .rt-core {
                            background: #9933cc;
                            color: #fff;
                        }

                        .bottom-cores {
                            display: grid;
                            grid-template-columns: 1fr 1fr;
                            gap: 4px;
                        }

                        .tensor-core-l {
                            background: var(--accent-green);
                            color: #000;
                        }

                        .cuda-core-r {
                            background: #0066cc;
                            color: #fff;
                        }

                        /* Scene 6: GPGPU */
                        .gpgpu-layout {
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            gap: 60px;
                            width: 100%;
                            padding: 0 40px;
                        }

                        .gpgpu-chip-frame {
                            width: 240px;
                            height: 240px;
                            background: #999;
                            border: 1px solid #666;
                            display: flex;
                            flex-direction: column;
                            align-items: center;
                            justify-content: center;
                            position: relative;
                            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.5);
                        }

                        .gpgpu-chip-frame::before {
                            content: '';
                            position: absolute;
                            top: 15px;
                            left: 15px;
                            right: 15px;
                            bottom: 15px;
                            background: #333;
                            z-index: 0;
                        }

                        .gpgpu-chip-inner {
                            width: 180px;
                            height: 180px;
                            z-index: 1;
                            display: grid;
                            grid-template-rows: 0.8fr 1.2fr;
                            gap: 4px;
                            padding: 4px;
                            border: 2px solid #4488ff;
                            background: #222;
                        }

                        .gpgpu-label-bottom {
                            z-index: 1;
                            color: #fff;
                            font-weight: bold;
                            margin-top: 5px;
                            font-size: 1.2rem;
                            text-shadow: 1px 1px 2px #000;
                            position: absolute;
                            bottom: 10px;
                        }

                        .gpgpu-text-col {
                            display: flex;
                            flex-direction: column;
                            align-items: flex-start;
                            text-align: left;
                        }

                        .gpgpu-title {
                            font-size: 5rem;
                            font-weight: 900;
                            color: var(--accent-amber);
                            letter-spacing: 2px;
                            line-height: 1;
                            margin-bottom: 10px;
                            font-family: sans-serif;
                            font-style: italic;
                        }

                        .gpgpu-sub {
                            font-size: 1rem;
                            color: #ccc;
                            font-family: monospace;
                            margin-bottom: 10px;
                            line-height: 1.2;
                            text-align: left;
                        }

                        .gpgpu-cn {
                            font-size: 2rem;
                            color: #fff;
                            font-weight: 900;
                            border-bottom: none;
                            padding-bottom: 0;
                            margin-top: 0;
                        }
                    </style>

                    <div class="gpu-story-container">
                        <!-- Scene 1 -->
                        <div class="story-scene scene-1">
                            <div class="math-title-container">
                                <div class="math-row">
                                    <span class="math-deco">✕</span> 1,000,000次乘法 <span class="math-deco">✕</span>
                                </div>
                                <div class="math-row">
                                    <span class="math-deco">+</span> 200,000次加法 <span class="math-deco">+</span>
                                </div>
                            </div>
                            <div class="matrices-wrapper">
                                <!-- Matrix A -->
                                <div class="story-matrix-box">
                                    <div class="story-matrix-bracket bracket-l"></div>
                                    <div class="story-matrix-bracket bracket-r"></div>
                                    <div class="story-matrix-grid">
                                        <div>a<sub>11</sub></div>
                                        <div>a<sub>12</sub></div>
                                        <div>...</div>
                                        <div>a<sub>1n</sub></div>
                                        <div>a<sub>21</sub></div>
                                        <div>a<sub>22</sub></div>
                                        <div>...</div>
                                        <div>a<sub>2n</sub></div>
                                        <div>⋮</div>
                                        <div>⋮</div>
                                        <div>⋱</div>
                                        <div>⋮</div>
                                        <div>a<sub>n1</sub></div>
                                        <div>a<sub>n2</sub></div>
                                        <div>...</div>
                                        <div>a<sub>nn</sub></div>
                                    </div>
                                    <div class="story-matrix-note">*n=100</div>
                                </div>
                                <!-- Matrix B -->
                                <div class="story-matrix-box">
                                    <div class="story-matrix-bracket bracket-l"></div>
                                    <div class="story-matrix-bracket bracket-r"></div>
                                    <div class="story-matrix-grid">
                                        <div>b<sub>11</sub></div>
                                        <div>b<sub>12</sub></div>
                                        <div>...</div>
                                        <div>b<sub>1n</sub></div>
                                        <div>b<sub>21</sub></div>
                                        <div>b<sub>22</sub></div>
                                        <div>...</div>
                                        <div>b<sub>2n</sub></div>
                                        <div>⋮</div>
                                        <div>⋮</div>
                                        <div>⋱</div>
                                        <div>⋮</div>
                                        <div>b<sub>n1</sub></div>
                                        <div>b<sub>n2</sub></div>
                                        <div>...</div>
                                        <div>b<sub>nn</sub></div>
                                    </div>
                                    <div class="story-matrix-note">*n=100</div>
                                </div>
                            </div>
                            <div class="scene-footer">
                                <div class="page-num">1/6</div>
                                <div class="scene-desc">海量矩阵运算需求爆发</div>
                            </div>
                        </div>

                        <!-- Scene 2 (New) -->
                        <div class="story-scene scene-2">
                            <div class="split-layout">
                                <div class="gpu-frame">
                                    <div class="bubble-alert">我算不过来啦！</div>
                                    <div class="cuda-inner">
                                        <div class="cuda-text">CUDA<br>Core</div>
                                    </div>
                                    <div class="gpu-label-bottom">GPU</div>
                                </div>
                                <div class="math-scaled">
                                    <div class="math-title-container">
                                        <div class="math-row">
                                            <span class="math-deco">✕</span> 1,000,000次乘法 <span
                                                class="math-deco">✕</span>
                                        </div>
                                        <div class="math-row">
                                            <span class="math-deco">+</span> 200,000次加法 <span class="math-deco">+</span>
                                        </div>
                                    </div>
                                    <div class="matrices-wrapper">
                                        <div class="story-matrix-box">
                                            <div class="story-matrix-bracket bracket-l"></div>
                                            <div class="story-matrix-bracket bracket-r"></div>
                                            <div class="story-matrix-grid">
                                                <div>a<sub>11</sub></div>
                                                <div>a<sub>12</sub></div>
                                                <div>...</div>
                                                <div>a<sub>1n</sub></div>
                                                <div>a<sub>21</sub></div>
                                                <div>a<sub>22</sub></div>
                                                <div>...</div>
                                                <div>a<sub>2n</sub></div>
                                                <div>⋮</div>
                                                <div>⋮</div>
                                                <div>⋱</div>
                                                <div>⋮</div>
                                                <div>a<sub>n1</sub></div>
                                                <div>a<sub>n2</sub></div>
                                                <div>...</div>
                                                <div>a<sub>nn</sub></div>
                                            </div>
                                            <div class="story-matrix-note">*n=100</div>
                                        </div>
                                        <div class="story-matrix-box">
                                            <div class="story-matrix-bracket bracket-l"></div>
                                            <div class="story-matrix-bracket bracket-r"></div>
                                            <div class="story-matrix-grid">
                                                <div>b<sub>11</sub></div>
                                                <div>b<sub>12</sub></div>
                                                <div>...</div>
                                                <div>b<sub>1n</sub></div>
                                                <div>b<sub>21</sub></div>
                                                <div>b<sub>22</sub></div>
                                                <div>...</div>
                                                <div>b<sub>2n</sub></div>
                                                <div>⋮</div>
                                                <div>⋮</div>
                                                <div>⋱</div>
                                                <div>⋮</div>
                                                <div>b<sub>n1</sub></div>
                                                <div>b<sub>n2</sub></div>
                                                <div>...</div>
                                                <div>b<sub>nn</sub></div>
                                            </div>
                                            <div class="story-matrix-note">*n=100</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="scene-footer">
                                <div class="page-num">2/6</div>
                                <div class="scene-desc">传统架构面临算力挑战</div>
                            </div>
                        </div>

                        <!-- Scene 3 -->
                        <div class="story-scene scene-3">
                            <div class="cuda-wrapper">
                                <div class="speech-bubble">我算不过来啦！</div>
                                <div class="cuda-core-box">
                                    <div>CUDA</div>
                                    <div>Core</div>
                                </div>
                            </div>
                            <div style="margin-top:20px; color:#66b3ff; font-weight:bold;">通用计算核心</div>
                            <div class="scene-footer">
                                <div class="page-num">3/6</div>
                                <div class="scene-desc">传统CUDA核心面临算力瓶颈</div>
                            </div>
                        </div>

                        <!-- Scene 4 -->
                        <div class="story-scene scene-4">
                            <div class="tensor-title">2017 Tensor</div>
                            <div class="tensor-subtitle">张量计算核心诞生</div>
                            <div class="tensor-chip">
                                <div class="tensor-part">Tensor Core</div>
                                <div class="cuda-part-small">CUDA Core</div>
                            </div>
                            <div style="margin-top:15px; font-size:1.2rem; color:#fff;">Tensor ≈ 矩阵</div>
                            <div class="scene-footer">
                                <div class="page-num">4/6</div>
                                <div class="scene-desc">引入Tensor Core加速矩阵计算</div>
                            </div>
                        </div>

                        <!-- Scene 5 -->
                        <div class="story-scene scene-5">
                            <div class="chip-layout-container">
                                <div class="chip-layout">
                                    <div class="core-box rt-core">
                                        <div class="core-title">RT Core</div>
                                        <div class="core-desc">光线追踪<br>Ray Tracing</div>
                                    </div>
                                    <div class="bottom-cores">
                                        <div class="core-box tensor-core-l">
                                            <div class="core-title">Tensor</div>
                                            <div class="core-desc">AI 矩阵加速<br>神经网络</div>
                                        </div>
                                        <div class="core-box cuda-core-r">
                                            <div class="core-title">CUDA</div>
                                            <div class="core-desc">图形渲染<br>通用计算</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="scene-footer">
                                <div class="page-num">5/6</div>
                                <div class="scene-desc">现代GPU三大核心分工明确</div>
                            </div>
                        </div>

                        <!-- Scene 6 -->
                        <div class="story-scene scene-6">
                            <div class="gpgpu-layout">
                                <!-- Left: Chip Diagram -->
                                <div class="gpgpu-chip-frame">
                                    <div class="gpgpu-chip-inner">
                                        <div class="core-box rt-core">
                                            <div class="core-title">RT Core</div>
                                        </div>
                                        <div class="bottom-cores">
                                            <div class="core-box tensor-core-l">
                                                <div class="core-title">Tensor<br>Core</div>
                                            </div>
                                            <div class="core-box cuda-core-r">
                                                <div class="core-title">CUDA<br>Core</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="gpgpu-label-bottom">GPU</div>
                                </div>

                                <!-- Right: Text -->
                                <div class="gpgpu-text-col">
                                    <div class="gpgpu-title">GPGPU</div>
                                    <div class="gpgpu-sub">General-purpose<br>computing on graphics processing units
                                    </div>
                                    <div class="gpgpu-cn">通用图形处理器</div>
                                </div>
                            </div>
                            <div class="scene-footer">
                                <div class="page-num">6/6</div>
                                <div class="scene-desc">迈向通用计算(GPGPU)时代</div>
                            </div>
                        </div>

                        <div class="fig-label-right">FIG_04.3: GPU 架构演进</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PART V: NPU Birth -->
        <section class="reveal">
            <h2>05_NPU的诞生</h2>
            <div class="no-scrollbar" style="height: 85vh; overflow-y: auto; width: 100%;">
                <style>
                    /* Container Layout */
                    .npu-story-container {
                        width: 100%;
                        max-width: 1200px;
                        /* Aligned with other sections */
                        height: 950px;
                        /* Increased height to accommodate summary text */
                        background: #000;
                        border: 1px solid #333;
                        border-radius: 8px;
                        position: relative;
                        overflow: hidden;
                        margin: 20px auto 0 auto;
                        /* Centered */
                        font-family: 'Microsoft YaHei', sans-serif;
                        display: flex;
                        flex-direction: column;
                    }

                    /* --- TOP SECTION: Static Background --- */
                    .npu-top-section {
                        flex: 0 0 auto;
                        /* Allow height to adjust to content */
                        min-height: 15%;
                        border-bottom: 1px solid #333;
                        padding: 20px 30px;
                        display: flex;
                        flex-direction: column;
                        justify-content: center;
                        background: radial-gradient(circle at top left, #0f1f0f 0%, #000 100%);
                        position: relative;
                        z-index: 10;
                    }

                    .npu-section-header {
                        display: flex;
                        align-items: center;
                        gap: 10px;
                        margin-bottom: 15px;
                    }

                    .npu-section-title {
                        font-size: 1.6rem;
                        color: var(--accent-green);
                        font-weight: 900;
                        text-transform: uppercase;
                        letter-spacing: 1px;
                        text-shadow: 0 0 5px rgba(0, 255, 0, 0.3);
                    }

                    .npu-section-indicator {
                        width: 6px;
                        height: 24px;
                        background: var(--accent-green);
                        box-shadow: 0 0 8px var(--accent-green);
                    }

                    .npu-top-text {
                        color: #ccc;
                        font-size: 1.1rem;
                        line-height: 1.5;
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 40px;
                        /* Increased gap */
                    }

                    .npu-top-item strong {
                        color: #fff;
                        display: block;
                        margin-bottom: 8px;
                        font-size: 1.2rem;
                    }

                    /* --- MIDDLE SECTION: Dynamic Slideshow --- */
                    .npu-bottom-section {
                        flex: 1;
                        /* Take remaining space */
                        position: relative;
                        background: #050505;
                        overflow: hidden;
                        border-bottom: 1px solid #333;
                    }

                    /* --- BOTTOM SECTION: Summary Text --- */
                    .npu-summary-section {
                        flex: 0 0 auto;
                        /* Allow height to adjust to content */
                        min-height: 20%;
                        padding: 20px 30px;
                        background: #0a0a0a;
                        color: #ccc;
                        font-size: 1.1rem;
                        display: flex;
                        flex-direction: column;
                        justify-content: center;
                    }

                    .npu-summary-title {
                        color: var(--accent-green);
                        font-size: 1.3rem;
                        font-weight: bold;
                        margin-bottom: 10px;
                        display: flex;
                        align-items: center;
                        gap: 8px;
                    }

                    .npu-summary-title::before {
                        content: '>';
                        color: #fff;
                    }

                    .npu-summary-content {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 30px;
                    }

                    .npu-summary-list {
                        list-style: none;
                        padding: 0;
                        margin: 0;
                    }

                    .npu-summary-list li {
                        margin-bottom: 8px;
                        padding-left: 15px;
                        position: relative;
                    }

                    .npu-summary-list li::before {
                        content: '•';
                        color: var(--accent-green);
                        position: absolute;
                        left: 0;
                    }

                    /* Slides Wrapper */
                    .npu-slides-wrapper {
                        width: 100%;
                        height: 100%;
                        position: relative;
                    }

                    /* Individual Slide */
                    .npu-hw-slide {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        opacity: 0;
                        display: flex;
                        flex-direction: row;
                        /* Left Visual, Right Text */
                        align-items: center;
                        padding: 0 40px;
                        box-sizing: border-box;
                        animation: npu-slide-cycle 40s infinite;
                    }

                    /* Animation Timing (8 slides, 5s each = 40s total) */
                    /* Cross-fade logic: 1s fade in/out overlap */
                    @keyframes npu-slide-cycle {
                        0% {
                            opacity: 0;
                            z-index: 1;
                            transform: scale(0.98);
                        }

                        2.5% {
                            opacity: 1;
                            z-index: 2;
                            transform: scale(1);
                        }

                        /* 1s: Fully visible */
                        12.5% {
                            opacity: 1;
                            z-index: 2;
                            transform: scale(1);
                        }

                        /* 5s: Start fading out */
                        15% {
                            opacity: 0;
                            z-index: 1;
                            transform: scale(1.02);
                        }

                        /* 6s: Fully invisible */
                        100% {
                            opacity: 0;
                            z-index: 1;
                        }
                    }

                    .slide-1 {
                        animation-delay: 0s;
                    }

                    .slide-2 {
                        animation-delay: 5s;
                    }

                    .slide-3 {
                        animation-delay: 10s;
                    }

                    .slide-4 {
                        animation-delay: 15s;
                    }

                    .slide-5 {
                        animation-delay: 20s;
                    }

                    .slide-6 {
                        animation-delay: 25s;
                    }

                    .slide-7 {
                        animation-delay: 30s;
                    }

                    .slide-8 {
                        animation-delay: 35s;
                    }

                    /* Slide Layout */
                    .slide-visual-area {
                        flex: 1;
                        height: 100%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        position: relative;
                    }

                    .slide-text-area {
                        width: 400px;
                        padding-left: 40px;
                        display: flex;
                        flex-direction: column;
                        justify-content: center;
                        border-left: 1px solid #333;
                        height: 80%;
                    }

                    .slide-title {
                        font-size: 1.8rem;
                        color: #fff;
                        font-weight: bold;
                        margin-bottom: 15px;
                        text-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
                    }

                    .slide-desc {
                        font-size: 1.2rem;
                        color: #aaa;
                        line-height: 1.6;
                    }

                    .slide-footer {
                        position: absolute;
                        bottom: 15px;
                        right: 20px;
                        font-family: 'VT323', monospace;
                        color: var(--accent-green);
                        font-size: 1.1rem;
                        letter-spacing: 1px;
                    }

                    /* --- VISUAL ASSETS --- */

                    /* 1. NPU Chip */
                    .v-chip-large {
                        width: 180px;
                        height: 180px;
                        background: #1a1a1a;
                        border: 2px solid #666;
                        position: relative;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
                    }

                    .v-chip-inner {
                        width: 140px;
                        height: 140px;
                        border: 1px dashed #444;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    .v-chip-text {
                        font-size: 3rem;
                        font-weight: 900;
                        color: #fff;
                    }

                    .v-chip-sub {
                        font-size: 0.8rem;
                        color: #888;
                        margin-top: 5px;
                        text-transform: uppercase;
                    }

                    .v-pin {
                        position: absolute;
                        background: #d4af37;
                    }

                    .vp-t {
                        top: -6px;
                        width: 6px;
                        height: 6px;
                    }

                    .vp-b {
                        bottom: -6px;
                        width: 6px;
                        height: 6px;
                    }

                    .vp-l {
                        left: -6px;
                        width: 6px;
                        height: 6px;
                    }

                    .vp-r {
                        right: -6px;
                        width: 6px;
                        height: 6px;
                    }

                    /* 2. Da Vinci Architecture 3D Flow */
                    .d-scene {
                        perspective: 1200px;
                        width: 100%;
                        height: 100%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    .d-stage {
                        position: relative;
                        transform-style: preserve-3d;
                        transform: rotateX(-20deg) rotateY(45deg) scale(0.9);
                        width: 0;
                        height: 0;
                        animation: stage-float 10s infinite ease-in-out;
                    }

                    @keyframes stage-float {

                        0%,
                        100% {
                            transform: rotateX(-20deg) rotateY(45deg) scale(0.9);
                        }

                        50% {
                            transform: rotateX(-25deg) rotateY(50deg) scale(0.9);
                        }
                    }

                    /* Cube System */
                    .d-cube {
                        position: absolute;
                        width: 20px;
                        height: 20px;
                        transform-style: preserve-3d;
                        /* Position based on CSS variables */
                        transform: translate3d(calc(var(--x) * 24px),
                                calc(var(--y) * 24px),
                                calc(var(--z) * 24px));
                    }

                    .d-face {
                        position: absolute;
                        width: 20px;
                        height: 20px;
                        border: 1px solid rgba(255, 255, 255, 0.2);
                        box-sizing: border-box;
                        opacity: 0.8;
                    }

                    .d-f-front {
                        transform: translateZ(10px);
                    }

                    .d-f-back {
                        transform: rotateY(180deg) translateZ(10px);
                    }

                    .d-f-right {
                        transform: rotateY(90deg) translateZ(10px);
                    }

                    .d-f-left {
                        transform: rotateY(-90deg) translateZ(10px);
                    }

                    .d-f-top {
                        transform: rotateX(90deg) translateZ(10px);
                    }

                    .d-f-bottom {
                        transform: rotateX(-90deg) translateZ(10px);
                    }

                    /* Colors */
                    .dc-blue .d-face {
                        background: rgba(33, 150, 243, 0.6);
                        border-color: rgba(33, 150, 243, 0.8);
                    }

                    .dc-yellow .d-face {
                        background: rgba(255, 193, 7, 0.6);
                        border-color: rgba(255, 193, 7, 0.8);
                    }

                    .dc-gray .d-face {
                        background: rgba(158, 158, 158, 0.15);
                        border-color: rgba(255, 255, 255, 0.1);
                    }

                    .dc-green .d-face {
                        background: rgba(76, 175, 80, 0.6);
                        border-color: rgba(76, 175, 80, 0.8);
                    }

                    /* Wireframes */
                    .d-wireframe {
                        position: absolute;
                        border: 1px solid rgba(255, 255, 255, 0.4);
                        transform-style: preserve-3d;
                        pointer-events: none;
                    }

                    /* 3x3x3 Cube Bounds: 3*24 = 72px approx */
                    /* Adjust sizes to fit the grid of 20px cubes with 4px gaps */
                    .dw-center {
                        width: 72px;
                        height: 72px;
                        transform: translate3d(-36px, -36px, -36px);
                        /* Center at 0,0,0 */
                    }

                    /* Faces for wireframe box */
                    .dw-face {
                        position: absolute;
                        width: 100%;
                        height: 100%;
                        border: 1px solid rgba(255, 255, 255, 0.3);
                    }

                    .dw-f-front {
                        transform: translateZ(36px);
                    }

                    .dw-f-back {
                        transform: translateZ(-36px);
                    }

                    .dw-f-left {
                        transform: rotateY(-90deg) translateZ(36px);
                    }

                    .dw-f-right {
                        transform: rotateY(90deg) translateZ(36px);
                    }

                    .dw-f-top {
                        transform: rotateX(90deg) translateZ(36px);
                    }

                    .dw-f-bottom {
                        transform: rotateX(-90deg) translateZ(36px);
                    }

                    /* Animation Particles */
                    .d-ghost {
                        opacity: 0;
                        animation-timing-function: ease-in-out;
                        animation-iteration-count: infinite;
                    }

                    .dg-blue {
                        animation-name: flow-blue;
                        animation-duration: 3s;
                    }

                    .dg-yellow {
                        animation-name: flow-yellow;
                        animation-duration: 3s;
                    }

                    .dg-green {
                        animation-name: flow-green;
                        animation-duration: 3s;
                        animation-delay: 1.5s;
                        /* Start after inputs arrive */
                    }

                    @keyframes flow-blue {
                        0% {
                            transform: translate3d(calc(-4 * 24px), calc(var(--y) * 24px), calc(var(--z) * 24px));
                            opacity: 0;
                        }

                        20% {
                            opacity: 0.8;
                        }

                        50% {
                            transform: translate3d(calc(0 * 24px), calc(var(--y) * 24px), calc(var(--z) * 24px));
                            opacity: 0;
                        }

                        /* Move to center */
                        100% {
                            opacity: 0;
                        }
                    }

                    @keyframes flow-yellow {
                        0% {
                            transform: translate3d(calc(4 * 24px), calc(var(--y) * 24px), calc(var(--z) * 24px));
                            opacity: 0;
                        }

                        20% {
                            opacity: 0.8;
                        }

                        50% {
                            transform: translate3d(calc(0 * 24px), calc(var(--y) * 24px), calc(var(--z) * 24px));
                            opacity: 0;
                        }

                        /* Move to center */
                        100% {
                            opacity: 0;
                        }
                    }

                    @keyframes flow-green {
                        0% {
                            transform: translate3d(calc(var(--x) * 24px), calc(0 * 24px), calc(var(--z) * 24px));
                            opacity: 0;
                        }

                        /* Start at center */
                        20% {
                            opacity: 0.8;
                        }

                        50% {
                            transform: translate3d(calc(var(--x) * 24px), calc(4 * 24px), calc(var(--z) * 24px));
                            opacity: 0;
                        }

                        /* Move to bottom */
                        100% {
                            opacity: 0;
                        }
                    }

                    /* Pulse Effects for Static Grids */
                    .dc-gray .d-face {
                        animation: pulse-gray 3s infinite;
                    }

                    @keyframes pulse-gray {

                        0%,
                        40%,
                        100% {
                            background: rgba(158, 158, 158, 0.15);
                            border-color: rgba(255, 255, 255, 0.1);
                        }

                        50% {
                            background: rgba(255, 255, 255, 0.4);
                            border-color: rgba(255, 255, 255, 0.8);
                            box-shadow: 0 0 10px white;
                        }
                    }

                    .dc-green .d-face {
                        animation: pulse-green-grid 3s infinite;
                        animation-delay: 1.5s;
                    }

                    @keyframes pulse-green-grid {

                        0%,
                        40%,
                        100% {
                            background: rgba(76, 175, 80, 0.6);
                        }

                        60% {
                            background: rgba(100, 255, 100, 0.9);
                            box-shadow: 0 0 15px #0f0;
                        }
                    }

                    /* 3. Atlas 900 Cluster */
                    .atlas-container {
                        position: relative;
                        width: 100%;
                        height: 100%;
                        overflow: hidden;
                        perspective: 800px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    .atlas-bg-text {
                        position: absolute;
                        top: 5%;
                        left: 0;
                        right: 0;
                        text-align: center;
                        font-size: 5rem;
                        font-weight: 900;
                        color: rgba(255, 255, 255, 0.03);
                        font-family: 'Impact', sans-serif;
                        text-transform: uppercase;
                        letter-spacing: 10px;
                        pointer-events: none;
                        z-index: 0;
                    }

                    .atlas-rack-row {
                        display: flex;
                        gap: 15px;
                        transform: rotateY(25deg) translateX(-40px);
                        transform-style: preserve-3d;
                        z-index: 1;
                    }

                    .atlas-rack {
                        width: 50px;
                        height: 160px;
                        background: linear-gradient(90deg, #2a2a2a, #000);
                        border-right: 2px solid #444;
                        position: relative;
                        box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.6);
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                    }

                    .atlas-rack::before {
                        /* Red Line */
                        content: '';
                        width: 100%;
                        height: 2px;
                        background: #d32f2f;
                        margin-top: 20px;
                        box-shadow: 0 0 4px #d32f2f;
                    }

                    .atlas-rack::after {
                        /* Vents */
                        content: '';
                        flex: 1;
                        width: 80%;
                        margin: 10px 0;
                        background: repeating-linear-gradient(0deg, #111, #111 2px, #333 3px);
                    }

                    .ar-logo {
                        width: 12px;
                        height: 12px;
                        background: #fff;
                        border-radius: 50%;
                        margin-top: 8px;
                        opacity: 0.7;
                    }

                    /* Zoom Overlay */
                    .atlas-zoom-group {
                        position: absolute;
                        right: 10px;
                        top: 50%;
                        transform: translateY(-50%);
                        z-index: 10;
                        display: flex;
                        align-items: center;
                    }

                    .atlas-pointer-line {
                        width: 60px;
                        height: 1px;
                        background: #fff;
                        transform: rotate(-20deg);
                        margin-right: -5px;
                        box-shadow: 0 0 5px #fff;
                    }

                    .atlas-zoom-box {
                        width: 160px;
                        height: 120px;
                        border: 2px solid #fff;
                        background: rgba(0, 0, 0, 0.9);
                        box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        position: relative;
                    }

                    .atlas-zoom-box::before {
                        /* Corner accents */
                        content: '';
                        position: absolute;
                        top: -5px;
                        left: -5px;
                        width: 10px;
                        height: 10px;
                        border-top: 2px solid #fff;
                        border-left: 2px solid #fff;
                    }

                    .atlas-chip-pkg {
                        width: 100px;
                        height: 80px;
                        background: #222;
                        border: 1px solid #555;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        position: relative;
                    }

                    .atlas-chip-die {
                        width: 70px;
                        height: 40px;
                        background: #ccc;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: #000;
                        font-weight: bold;
                        font-size: 0.8rem;
                        border: 1px solid #fff;
                        box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
                    }

                    .atlas-chip-dots {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background-image: radial-gradient(#555 1px, transparent 1px);
                        background-size: 4px 4px;
                        opacity: 0.5;
                    }

                    /* 4. Mixed Precision Math */
                    .math-stage {
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        width: 100%;
                        height: 100%;
                        position: relative;
                        font-family: 'Courier New', monospace;
                    }

                    .math-core {
                        width: 160px;
                        height: 100px;
                        background: #000;
                        border: 8px solid #666;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: #fff;
                        font-size: 1.4rem;
                        font-weight: 900;
                        z-index: 10;
                        box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
                        position: relative;
                    }

                    /* Inner blue border for core */
                    .math-core::before {
                        content: '';
                        position: absolute;
                        top: 2px;
                        left: 2px;
                        right: 2px;
                        bottom: 2px;
                        border: 2px solid #2196f3;
                        border-radius: 4px;
                    }

                    .math-panel {
                        position: absolute;
                        border: 2px solid #ffc107;
                        background: rgba(10, 10, 10, 0.95);
                        padding: 10px;
                        display: flex;
                        flex-direction: column;
                        color: #fff;
                        transition: transform 0.3s;
                    }

                    .math-panel:hover {
                        transform: scale(1.05);
                        z-index: 20;
                    }

                    .math-label {
                        color: #ffc107;
                        font-weight: bold;
                        font-size: 1rem;
                        margin-bottom: 8px;
                        text-align: left;
                    }

                    .math-matrices-row {
                        display: flex;
                        gap: 15px;
                    }

                    .math-matrix {
                        border-left: 2px solid #fff;
                        border-right: 2px solid #fff;
                        padding: 0 5px;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                    }

                    .mm-row {
                        display: flex;
                        gap: 5px;
                        font-size: 0.7rem;
                        color: #ddd;
                        line-height: 1.4;
                    }

                    .mm-dots {
                        transform: rotate(-45deg);
                        font-size: 0.6rem;
                        margin: 2px 0;
                    }

                    /* INT8: Left side, larger capacity (32 rows implied) */
                    .mp-int8 {
                        right: 50%;
                        margin-right: 80px;
                        /* Offset from center */
                        /* Connector line style */
                        clip-path: polygon(0% 0%, 100% 0%,
                                100% 40%, 105% 50%, 100% 60%,
                                /* Point pointing to core */
                                100% 100%, 0% 100%);
                        padding-right: 25px;
                        /* Space for the point */
                    }

                    /* FP16: Right side, smaller capacity (16 rows implied) */
                    .mp-fp16 {
                        left: 50%;
                        margin-left: 80px;
                        clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%,
                                0% 60%, -5% 50%, 0% 40%
                                /* Point pointing to core */
                            );
                        padding-left: 25px;
                    }

                    /* Connector Lines (Visual only, since clip-path handles shape) */
                    .math-connector-l {
                        position: absolute;
                        right: 50%;
                        margin-right: 80px;
                        width: 40px;
                        height: 2px;
                        background: #ffc107;
                    }

                    .math-connector-r {
                        position: absolute;
                        left: 50%;
                        margin-left: 80px;
                        width: 40px;
                        height: 2px;
                        background: #ffc107;
                    }

                    /* 5. Da Vinci Architecture Diagram */
                    .arch-container {
                        display: flex;
                        gap: 12px;
                        padding: 12px;
                        border: 4px solid #2196f3;
                        /* Blue outer border */
                        border-radius: 16px;
                        background: #000;
                        width: 95%;
                        max-width: 650px;
                        box-shadow: 0 0 20px rgba(33, 150, 243, 0.3);
                    }

                    /* Left: Cube Core */
                    .arch-left {
                        flex: 0 0 160px;
                        display: flex;
                    }

                    .arch-cube-core {
                        width: 100%;
                        border: 2px solid #ffc107;
                        /* Gold border */
                        border-radius: 10px;
                        background: #000;
                        color: #fff;
                        font-size: 2.2rem;
                        font-weight: bold;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        line-height: 1.1;
                        box-shadow: inset 0 0 10px rgba(255, 193, 7, 0.2);
                    }

                    /* Right: Units Grid */
                    .arch-right {
                        flex: 1;
                        display: grid;
                        grid-template-columns: 80px 1fr 80px;
                        grid-template-rows: 1fr 1fr;
                        gap: 10px;
                    }

                    .arch-unit {
                        border-radius: 8px;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        font-weight: bold;
                        font-size: 0.9rem;
                        color: #fff;
                        text-align: center;
                        border: 1px solid rgba(255, 255, 255, 0.3);
                        transition: transform 0.2s;
                    }

                    .arch-unit:hover {
                        transform: scale(1.05);
                    }

                    /* Unit Types */
                    .au-dark {
                        background: #333;
                    }

                    .au-gold {
                        background: #e6a23c;
                        /* Orange/Gold */
                        color: #fff;
                        font-size: 1.1rem;
                        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
                    }

                    /* Specific text adjustments */
                    .au-fp {
                        font-size: 0.75rem;
                        line-height: 1.3;
                        color: #ddd;
                    }

                    /* 6. Full Scenario Coverage */
                    .scenario-stage {
                        display: flex;
                        width: 100%;
                        height: 100%;
                        align-items: center;
                        justify-content: space-evenly;
                        perspective: 1000px;
                    }

                    .scenario-item {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        position: relative;
                        width: 140px;
                        transition: transform 0.3s;
                        cursor: pointer;
                    }

                    .scenario-item:hover {
                        transform: scale(1.1);
                    }

                    .scenario-bg-text {
                        position: absolute;
                        top: -40px;
                        font-family: 'Impact', sans-serif;
                        font-size: 1.6rem;
                        color: transparent;
                        -webkit-text-stroke: 1px rgba(255, 193, 7, 0.4);
                        text-transform: uppercase;
                        letter-spacing: 1px;
                        white-space: nowrap;
                    }

                    .scenario-visual {
                        height: 100px;
                        width: 100%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin-bottom: 20px;
                        transform-style: preserve-3d;
                    }

                    .scenario-label {
                        font-size: 1.6rem;
                        font-weight: 900;
                        color: #fff;
                        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
                        padding-bottom: 5px;
                        border-bottom: 3px solid transparent;
                    }

                    .sl-cloud {
                        border-color: #2196f3;
                    }

                    .sl-edge {
                        border-color: #ffc107;
                    }

                    .sl-term {
                        border-color: #f44336;
                    }

                    /* 1. Cloud Racks (Atlas 900) */
                    .s-rack-group {
                        display: flex;
                        gap: 3px;
                        transform: rotateY(-25deg);
                    }

                    .s-rack {
                        width: 14px;
                        height: 70px;
                        background: #1a1a1a;
                        border: 1px solid #333;
                        border-top: 2px solid #f44336;
                        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
                        position: relative;
                    }

                    .s-rack::after {
                        content: '';
                        position: absolute;
                        top: 10px;
                        left: 2px;
                        right: 2px;
                        bottom: 5px;
                        background: repeating-linear-gradient(0deg, #000, #000 1px, #222 2px);
                    }

                    /* 2. Edge Box (Atlas 200) */
                    .s-box {
                        width: 100px;
                        height: 35px;
                        background: linear-gradient(to bottom, #333, #111);
                        border-radius: 2px;
                        position: relative;
                        transform: rotateX(20deg) rotateY(15deg);
                        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.6);
                        border-top: 1px solid #555;
                    }

                    .s-box::after {
                        /* Red vent */
                        content: '';
                        position: absolute;
                        bottom: 0;
                        left: 2px;
                        right: 2px;
                        height: 4px;
                        background: #f44336;
                        box-shadow: 0 0 5px #f44336;
                    }

                    .s-box-logo {
                        position: absolute;
                        top: 8px;
                        left: 50%;
                        transform: translateX(-50%);
                        width: 20px;
                        height: 4px;
                        background: #fff;
                        opacity: 0.6;
                        border-radius: 1px;
                    }

                    /* 3. Terminal Card (Atlas 300) */
                    .s-card {
                        width: 120px;
                        height: 30px;
                        background: #222;
                        position: relative;
                        transform: rotateX(20deg) rotateY(-15deg);
                        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.6);
                        border: 1px solid #444;
                        overflow: hidden;
                    }

                    .s-card-fan {
                        position: absolute;
                        top: 2px;
                        bottom: 2px;
                        width: 26px;
                        background: #444;
                        border-radius: 50%;
                        border: 1px solid #666;
                    }

                    .scf-1 {
                        left: 15px;
                    }

                    .scf-2 {
                        right: 15px;
                    }

                    .s-card-red {
                        position: absolute;
                        top: 50%;
                        left: 0;
                        width: 100%;
                        height: 1px;
                        background: #f44336;
                        z-index: 2;
                    }

                    /* 7. NPU Family (Same Principle) */
                    .family-stage {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        height: 100%;
                        width: 100%;
                        padding-top: 10px;
                    }

                    /* Top: Generic NPU */
                    .fs-root-chip {
                        width: 120px;
                        height: 120px;
                        /* Reduced size */
                        background: #1a1a1a;
                        border: 2px solid #555;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        position: relative;
                        box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
                        z-index: 2;
                    }

                    /* Pins */
                    .fs-root-chip::before {
                        content: '';
                        position: absolute;
                        top: -6px;
                        bottom: -6px;
                        left: 15px;
                        right: 15px;
                        border-top: 6px dashed #ffc107;
                        border-bottom: 6px dashed #ffc107;
                        z-index: -1;
                    }

                    .fs-root-chip::after {
                        content: '';
                        position: absolute;
                        left: -6px;
                        right: -6px;
                        top: 15px;
                        bottom: 15px;
                        border-left: 6px dashed #ffc107;
                        border-right: 6px dashed #ffc107;
                        z-index: -1;
                    }

                    .fs-root-text {
                        font-size: 3rem;
                        font-weight: 900;
                        color: #fff;
                        font-family: sans-serif;
                        letter-spacing: 2px;
                    }

                    /* Middle: Blue Connector */
                    .fs-connector {
                        margin: 5px 0 15px 0;
                        /* Reduced margin */
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        width: 80%;
                    }

                    .fs-c-arrow {
                        width: 0;
                        height: 0;
                        border-left: 20px solid transparent;
                        border-right: 20px solid transparent;
                        border-bottom: 20px solid #2196f3;
                        margin-bottom: -1px;
                        /* Overlap */
                    }

                    .fs-c-bar {
                        width: 100%;
                        height: 8px;
                        background: #2196f3;
                        /* Thinner bar */
                        position: relative;
                    }

                    /* Vertical drops */
                    .fs-c-drop {
                        position: absolute;
                        top: 8px;
                        width: 8px;
                        height: 25px;
                        background: #2196f3;
                    }

                    .fs-drop-l {
                        left: 15%;
                    }

                    .fs-drop-c {
                        left: 50%;
                        transform: translateX(-50%);
                    }

                    .fs-drop-r {
                        right: 15%;
                    }

                    /* Bottom: Specific Chips */
                    .fs-children {
                        display: flex;
                        justify-content: space-between;
                        width: 95%;
                        /* Wider container */
                    }

                    .fs-child {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        width: 32%;
                        opacity: 0;
                        animation: fade-up 0.5s forwards;
                    }

                    .fs-child:nth-child(1) {
                        animation-delay: 0.2s;
                    }

                    .fs-child:nth-child(2) {
                        animation-delay: 0.4s;
                    }

                    .fs-child:nth-child(3) {
                        animation-delay: 0.6s;
                    }

                    @keyframes fade-up {
                        from {
                            opacity: 0;
                            transform: translateY(20px);
                        }

                        to {
                            opacity: 1;
                            transform: translateY(0);
                        }
                    }

                    .fs-chip-box {
                        width: 80px;
                        height: 80px;
                        /* Reduced size */
                        background: #fff;
                        border: 3px solid #2196f3;
                        /* Blue border from image */
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin-bottom: 10px;
                        position: relative;
                        overflow: hidden;
                        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                    }

                    .fs-label {
                        font-size: 1.1rem;
                        color: #ccc;
                        font-weight: bold;
                        display: flex;
                        align-items: center;
                        gap: 8px;
                        white-space: nowrap;
                    }

                    /* Chip Visuals */
                    /* Meta: Plain silver die */
                    .fc-meta {
                        background: #e0e0e0;
                    }

                    .fc-meta-die {
                        width: 70%;
                        height: 70%;
                        background: linear-gradient(135deg, #ccc, #999);
                        border: 1px solid #888;
                    }

                    /* Huawei: Ascend style */
                    .fc-huawei {
                        background: #f5f5f5;
                    }

                    .fc-huawei-hs {
                        width: 80%;
                        height: 80%;
                        background: linear-gradient(to bottom, #dcdcdc, #fff);
                        border: 1px solid #bbb;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    }

                    .fc-huawei-logo {
                        width: 20px;
                        height: 20px;
                        background: #d32f2f;
                        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
                    }

                    /* Google: TPU style */
                    .fc-google {
                        background: #e0e0e0;
                    }

                    .fc-google-die {
                        width: 70%;
                        height: 70%;
                        background: #333;
                        border: 2px solid #888;
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 2px;
                        padding: 2px;
                    }

                    .fc-g-core {
                        background: #666;
                    }

                    /* 8. GPU Matrix Operation */
                    .gpu-calc-stage {
                        width: 100%;
                        height: 100%;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                        font-family: 'Courier New', monospace;
                        color: #fff;
                    }

                    .gc-equation {
                        background: rgba(33, 150, 243, 0.2);
                        border: 1px solid #2196f3;
                        padding: 10px 20px;
                        border-radius: 4px;
                        margin-bottom: 20px;
                        font-size: 1.2rem;
                        font-weight: bold;
                        text-align: center;
                        width: 80%;
                    }

                    .gc-eq-row {
                        opacity: 0;
                        animation: fade-in 0.5s forwards;
                    }

                    .gc-eq-row:nth-child(1) {
                        animation-delay: 0.5s;
                    }

                    .gc-eq-row.result {
                        font-size: 1rem;
                        margin-top: 5px;
                        animation-delay: 2.5s;
                        color: #90caf9;
                    }

                    .gc-eq-row.final {
                        font-size: 1.4rem;
                        color: #ffeb3b;
                        margin-top: 5px;
                        animation-delay: 4s;
                    }

                    .gc-grid-container {
                        display: flex;
                        gap: 30px;
                        align-items: flex-start;
                    }

                    .gc-cache {
                        border: 2px solid #2196f3;
                        padding: 5px;
                        display: flex;
                        flex-direction: column;
                        gap: 2px;
                    }

                    .gc-label {
                        font-size: 0.8rem;
                        color: #2196f3;
                        margin-bottom: 5px;
                    }

                    .gc-data-row {
                        display: flex;
                        gap: 2px;
                    }

                    .gc-cell {
                        width: 30px;
                        height: 30px;
                        background: #000;
                        border: 1px solid #444;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 0.9rem;
                    }

                    .gc-calc-units {
                        border: 2px solid #2196f3;
                        padding: 10px;
                        display: flex;
                        flex-direction: column;
                        gap: 10px;
                        position: relative;
                    }

                    .gc-unit-row {
                        display: flex;
                        align-items: center;
                        gap: 5px;
                    }

                    .gc-box {
                        width: 30px;
                        height: 30px;
                        border: 1px solid #2196f3;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 0.9rem;
                        color: #ffeb3b;
                        opacity: 0;
                        animation: fill-val 0.5s forwards;
                    }

                    .gc-op {
                        font-size: 1.2rem;
                        color: #2196f3;
                        font-weight: bold;
                    }

                    /* Staggered animation for boxes */
                    .gc-unit-row:nth-child(1) .gc-box:nth-child(1) {
                        animation-delay: 1.0s;
                    }

                    /* 7 */
                    .gc-unit-row:nth-child(1) .gc-box:nth-child(3) {
                        animation-delay: 1.0s;
                    }

                    /* 1 */
                    .gc-unit-row:nth-child(1) .gc-box:nth-child(5) {
                        animation-delay: 1.5s;
                    }

                    /* Result */

                    .gc-unit-row:nth-child(2) .gc-box:nth-child(1) {
                        animation-delay: 1.2s;
                    }

                    .gc-unit-row:nth-child(2) .gc-box:nth-child(3) {
                        animation-delay: 1.2s;
                    }

                    .gc-unit-row:nth-child(2) .gc-box:nth-child(5) {
                        animation-delay: 1.7s;
                    }

                    .gc-unit-row:nth-child(3) .gc-box:nth-child(1) {
                        animation-delay: 1.4s;
                    }

                    .gc-unit-row:nth-child(3) .gc-box:nth-child(3) {
                        animation-delay: 1.4s;
                    }

                    .gc-unit-row:nth-child(3) .gc-box:nth-child(5) {
                        animation-delay: 1.9s;
                    }

                    .gc-unit-row:nth-child(4) .gc-box:nth-child(1) {
                        animation-delay: 1.6s;
                    }

                    .gc-unit-row:nth-child(4) .gc-box:nth-child(3) {
                        animation-delay: 1.6s;
                    }

                    .gc-unit-row:nth-child(4) .gc-box:nth-child(5) {
                        animation-delay: 2.1s;
                    }

                    @keyframes fill-val {
                        from {
                            opacity: 0;
                            transform: scale(0.5);
                        }

                        to {
                            opacity: 1;
                            transform: scale(1);
                        }
                    }

                    @keyframes fade-in {
                        from {
                            opacity: 0;
                        }

                        to {
                            opacity: 1;
                        }
                    }

                    /* Instructions */
                    .gc-instructions {
                        display: flex;
                        flex-direction: column;
                        gap: 10px;
                        justify-content: center;
                        padding-top: 20px;
                    }

                    .gc-inst-tag {
                        background: #ffc107;
                        color: #000;
                        padding: 5px 10px;
                        font-weight: bold;
                        border-radius: 4px;
                        opacity: 0;
                        transform: translateX(20px);
                        animation: slide-in 0.5s forwards;
                        font-size: 0.9rem;
                        position: relative;
                    }

                    .gc-inst-tag::before {
                        content: '';
                        position: absolute;
                        left: -6px;
                        top: 50%;
                        transform: translateY(-50%);
                        border-top: 6px solid transparent;
                        border-bottom: 6px solid transparent;
                        border-right: 6px solid #ffc107;
                    }

                    .i-mul {
                        animation-delay: 1.5s;
                    }

                    .i-add {
                        animation-delay: 3.0s;
                    }

                    @keyframes slide-in {
                        to {
                            opacity: 1;
                            transform: translateX(0);
                        }
                    }
                </style>

                <div class="npu-story-container">
                    <!-- TOP: Design Background -->
                    <div class="npu-top-section">
                        <div class="npu-section-header">
                            <div class="npu-section-indicator"></div>
                            <div class="npu-section-title">NPU的设计背景与定位</div>
                        </div>
                        <div class="npu-top-text" style="display: flex; gap: 20px; height: 100%;">
                            <!-- Card 1: Pain Points -->
                            <div
                                style="flex: 1; background: rgba(255, 87, 34, 0.1); border: 1px solid rgba(255, 87, 34, 0.3); border-radius: 8px; padding: 15px; display: flex; flex-direction: column; justify-content: center;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <i class="fas fa-exclamation-triangle"
                                        style="color: #ff5722; font-size: 1.2rem;"></i>
                                    <strong style="color: #ffab91; font-size: 1.1rem;">需求痛点</strong>
                                </div>
                                <div style="color: #ddd; font-size: 0.9rem; line-height: 1.4;">
                                    仅需AI计算时，买显卡成本高；边缘计算场景要求设备小型化，无法容纳传统电脑硬件。
                                </div>
                            </div>

                            <!-- Card 2: Core Positioning -->
                            <div
                                style="flex: 1; background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 8px; padding: 15px; display: flex; flex-direction: column; justify-content: center;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <i class="fas fa-bullseye" style="color: #ffc107; font-size: 1.2rem;"></i>
                                    <strong style="color: #ffe082; font-size: 1.1rem;">核心定位</strong>
                                </div>
                                <div style="color: #ddd; font-size: 0.9rem; line-height: 1.4;">
                                    专门用于“神经网络加速”的独立芯片，剥离图形渲染功能，<span
                                        style="color: #ffc107; font-weight: bold;">专注矩阵计算</span>。
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- MIDDLE: Hardware Slideshow -->
                    <div class="npu-bottom-section">
                        <div class="npu-slides-wrapper">

                            <!-- Slide 1: NPU Chip -->
                            <div class="npu-hw-slide slide-1">
                                <div class="slide-visual-area">
                                    <div class="v-chip-large">
                                        <!-- Pins -->
                                        <div class="v-pin vp-t" style="left: 20%"></div>
                                        <div class="v-pin vp-t" style="left: 50%"></div>
                                        <div class="v-pin vp-t" style="left: 80%"></div>
                                        <div class="v-pin vp-b" style="left: 20%"></div>
                                        <div class="v-pin vp-b" style="left: 50%"></div>
                                        <div class="v-pin vp-b" style="left: 80%"></div>
                                        <div class="v-pin vp-l" style="top: 20%"></div>
                                        <div class="v-pin vp-l" style="top: 50%"></div>
                                        <div class="v-pin vp-l" style="top: 80%"></div>
                                        <div class="v-pin vp-r" style="top: 20%"></div>
                                        <div class="v-pin vp-r" style="top: 50%"></div>
                                        <div class="v-pin vp-r" style="top: 80%"></div>

                                        <div class="v-chip-inner">
                                            <div style="text-align: center;">
                                                <div class="v-chip-text">NPU</div>
                                                <div class="v-chip-sub">Neural Processing Unit</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide-text-area">
                                    <div class="slide-title">01. 神经网络处理单元</div>
                                    <div class="slide-desc">NPU (Neural Processing Unit) 是专为深度学习算法设计的专用处理器，模拟人类神经元突触结构。
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 2: Cube Core 3D Dynamic Flow -->
                            <div class="npu-hw-slide slide-2">
                                <div class="slide-visual-area">
                                    <div class="d-scene">
                                        <div class="d-stage">
                                            <!-- Wireframe Box for Center -->
                                            <div class="d-wireframe dw-center">
                                                <div class="dw-face dw-f-front"></div>
                                                <div class="dw-face dw-f-back"></div>
                                                <div class="dw-face dw-f-left"></div>
                                                <div class="dw-face dw-f-right"></div>
                                                <div class="dw-face dw-f-top"></div>
                                                <div class="dw-face dw-f-bottom"></div>
                                            </div>

                                            <!-- Dynamic Cube Groups (Populated by JS) -->
                                            <div class="d-group dc-blue" id="d-grp-blue"></div>
                                            <div class="d-group dc-yellow" id="d-grp-yellow"></div>
                                            <div class="d-group dc-gray" id="d-grp-gray"></div>
                                            <div class="d-group dc-green" id="d-grp-green"></div>

                                            <!-- Ghost Particles for Animation -->
                                            <div class="d-cube d-ghost dg-blue dc-blue" style="--x:-3; --y:0; --z:0">
                                                <div class="d-face d-f-front"></div>
                                                <div class="d-face d-f-back"></div>
                                                <div class="d-face d-f-right"></div>
                                                <div class="d-face d-f-left"></div>
                                                <div class="d-face d-f-top"></div>
                                                <div class="d-face d-f-bottom"></div>
                                            </div>
                                            <div class="d-cube d-ghost dg-yellow dc-yellow" style="--x:3; --y:0; --z:0">
                                                <div class="d-face d-f-front"></div>
                                                <div class="d-face d-f-back"></div>
                                                <div class="d-face d-f-right"></div>
                                                <div class="d-face d-f-left"></div>
                                                <div class="d-face d-f-top"></div>
                                                <div class="d-face d-f-bottom"></div>
                                            </div>
                                            <div class="d-cube d-ghost dg-green dc-green" style="--x:0; --y:0; --z:0">
                                                <div class="d-face d-f-front"></div>
                                                <div class="d-face d-f-back"></div>
                                                <div class="d-face d-f-right"></div>
                                                <div class="d-face d-f-left"></div>
                                                <div class="d-face d-f-top"></div>
                                                <div class="d-face d-f-bottom"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide-text-area">
                                    <div class="slide-title">02. 3D Cube Core运算</div>
                                    <div class="slide-desc">独特的3D Cube架构，模拟矩阵数据流动态汇聚，一次指令完成大量乘加运算(MACs)，实现高吞吐量。</div>
                                </div>
                            </div>

                            <!-- Slide 3: Atlas 900 Cluster -->
                            <div class="npu-hw-slide slide-3">
                                <div class="slide-visual-area">
                                    <div class="atlas-container">
                                        <div class="atlas-bg-text">ATLAS 900</div>

                                        <div class="atlas-rack-row">
                                            <div class="atlas-rack">
                                                <div class="ar-logo"></div>
                                            </div>
                                            <div class="atlas-rack">
                                                <div class="ar-logo"></div>
                                            </div>
                                            <div class="atlas-rack">
                                                <div class="ar-logo"></div>
                                            </div>
                                            <div class="atlas-rack">
                                                <div class="ar-logo"></div>
                                            </div>
                                            <div class="atlas-rack">
                                                <div class="ar-logo"></div>
                                            </div>
                                            <div class="atlas-rack">
                                                <div class="ar-logo"></div>
                                            </div>
                                        </div>

                                        <div class="atlas-zoom-group">
                                            <div class="atlas-pointer-line"></div>
                                            <div class="atlas-zoom-box">
                                                <div class="atlas-chip-pkg">
                                                    <div class="atlas-chip-dots"></div>
                                                    <div class="atlas-chip-die">昇腾NPU</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide-text-area">
                                    <div class="slide-title">03. Atlas 900 AI集群</div>
                                    <div class="slide-desc">基于昇腾NPU打造的全球最快AI训练集群，单集群算力可达256P - 1024P
                                        FLOPS，广泛应用于天文探索、气象预测等领域。</div>
                                </div>
                            </div>

                            <!-- Slide 4: Mixed Precision Math -->
                            <div class="npu-hw-slide slide-4">
                                <div class="slide-visual-area">
                                    <div class="math-stage">
                                        <!-- Center Core -->
                                        <div class="math-core">Cube Core</div>

                                        <!-- INT8 Panel (Left) -->
                                        <div class="math-panel mp-int8">
                                            <div class="math-label">*INT8 (High Throughput)</div>
                                            <div class="math-matrices-row">
                                                <!-- Matrix A (INT8) -->
                                                <div class="math-matrix">
                                                    <div class="mm-row">
                                                        <span>a11</span><span>...</span><span>a1,16</span>
                                                    </div>
                                                    <div class="mm-row">
                                                        <span>a21</span><span>...</span><span>a2,16</span>
                                                    </div>
                                                    <div class="mm-dots">...</div>
                                                    <div class="mm-row">
                                                        <span>a32,1</span><span>...</span><span>a32,16</span>
                                                    </div>
                                                </div>
                                                <!-- Matrix B (INT8) -->
                                                <div class="math-matrix">
                                                    <div class="mm-row">
                                                        <span>b11</span><span>...</span><span>b1,16</span>
                                                    </div>
                                                    <div class="mm-row">
                                                        <span>b21</span><span>...</span><span>b2,16</span>
                                                    </div>
                                                    <div class="mm-dots">...</div>
                                                    <div class="mm-row">
                                                        <span>b32,1</span><span>...</span><span>b32,16</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- FP16 Panel (Right) -->
                                        <div class="math-panel mp-fp16">
                                            <div class="math-label">*FP16 (High Precision)</div>
                                            <div class="math-matrices-row">
                                                <!-- Matrix A (FP16) -->
                                                <div class="math-matrix">
                                                    <div class="mm-row">
                                                        <span>a11</span><span>...</span><span>a1,16</span>
                                                    </div>
                                                    <div class="mm-row">
                                                        <span>a21</span><span>...</span><span>a2,16</span>
                                                    </div>
                                                    <div class="mm-dots">...</div>
                                                    <div class="mm-row">
                                                        <span>a16,1</span><span>...</span><span>a16,16</span>
                                                    </div>
                                                </div>
                                                <!-- Matrix B (FP16) -->
                                                <div class="math-matrix">
                                                    <div class="mm-row">
                                                        <span>b11</span><span>...</span><span>b1,16</span>
                                                    </div>
                                                    <div class="mm-row">
                                                        <span>b21</span><span>...</span><span>b2,16</span>
                                                    </div>
                                                    <div class="mm-dots">...</div>
                                                    <div class="mm-row">
                                                        <span>b16,1</span><span>...</span><span>b16,16</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="slide-text-area">
                                    <div class="slide-title">04. 高效矩阵计算</div>
                                    <div class="slide-desc">
                                        <p><strong>INT8 (8位整数):</strong> 尺寸更小，单周期处理数据量翻倍 (32x16)，适合推理。</p>
                                        <p><strong>FP16 (16位浮点):</strong> 精度更高，单周期处理数据量标准 (16x16)，适合训练。</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 5: Da Vinci Architecture -->
                            <div class="npu-hw-slide slide-5">
                                <div class="slide-visual-area">
                                    <div class="arch-container">
                                        <!-- Left: Cube Core -->
                                        <div class="arch-left">
                                            <div class="arch-cube-core">
                                                <div>Cube</div>
                                                <div>Core</div>
                                            </div>
                                        </div>

                                        <!-- Right: Units Grid -->
                                        <div class="arch-right">
                                            <!-- Row 1 -->
                                            <div class="arch-unit au-dark au-fp">FP16<br>&lt;_&gt;<br>FP32</div>
                                            <div class="arch-unit au-gold">Vector Unit</div>
                                            <div class="arch-unit au-dark">ReLU</div>

                                            <!-- Row 2 -->
                                            <div class="arch-unit au-dark">SPR</div>
                                            <div class="arch-unit au-gold">Scalar Unit</div>
                                            <div class="arch-unit au-dark">GPR</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide-text-area">
                                    <div class="slide-title">05. 达芬奇架构</div>
                                    <div class="slide-desc">
                                        <p><strong>3D Cube:</strong> 矩阵运算核心 (Matrix)。</p>
                                        <p><strong>Vector Unit:</strong> 向量计算单元，处理非矩阵运算。</p>
                                        <p><strong>Scalar Unit:</strong> 标量计算单元，负责流程控制。</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 6: Full Scenario Coverage -->
                            <div class="npu-hw-slide slide-6">
                                <div class="slide-visual-area">
                                    <div class="scenario-stage">
                                        <!-- Cloud -->
                                        <div class="scenario-item">
                                            <div class="scenario-bg-text">Atlas 900</div>
                                            <div class="scenario-visual">
                                                <div class="s-rack-group">
                                                    <div class="s-rack"></div>
                                                    <div class="s-rack"></div>
                                                    <div class="s-rack"></div>
                                                    <div class="s-rack"></div>
                                                    <div class="s-rack"></div>
                                                </div>
                                            </div>
                                            <div class="scenario-label sl-cloud">云端计算</div>
                                        </div>
                                        <!-- Edge -->
                                        <div class="scenario-item">
                                            <div class="scenario-bg-text">Atlas 200I</div>
                                            <div class="scenario-visual">
                                                <div class="s-box">
                                                    <div class="s-box-logo"></div>
                                                </div>
                                            </div>
                                            <div class="scenario-label sl-edge">边缘计算</div>
                                        </div>
                                        <!-- Terminal -->
                                        <div class="scenario-item">
                                            <div class="scenario-bg-text">Atlas 300I</div>
                                            <div class="scenario-visual">
                                                <div class="s-card">
                                                    <div class="s-card-fan scf-1"></div>
                                                    <div class="s-card-fan scf-2"></div>
                                                    <div class="s-card-red"></div>
                                                </div>
                                            </div>
                                            <div class="scenario-label sl-term">端侧计算</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide-text-area">
                                    <div class="slide-title">06. 全场景覆盖</div>
                                    <div class="slide-desc">
                                        <p><strong>云端 (Cloud):</strong> Atlas 900 集群，极致算力训练。</p>
                                        <p><strong>边缘 (Edge):</strong> Atlas 200 模块，实时推理分析。</p>
                                        <p><strong>端侧 (Device):</strong> Atlas 300 加速卡，高效能耗比。</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 7: NPU Family -->
                            <div class="npu-hw-slide slide-7">
                                <div class="slide-visual-area">
                                    <div class="fig-label-right">FIG_05.7: 殊途同归</div>
                                    <div class="family-stage">
                                        <!-- Root NPU -->
                                        <div class="fs-root-chip">
                                            <div class="fs-root-text">NPU</div>
                                        </div>

                                        <!-- Connector -->
                                        <div class="fs-connector">
                                            <div class="fs-c-arrow"></div>
                                            <div class="fs-c-bar">
                                                <div class="fs-c-drop fs-drop-l"></div>
                                                <div class="fs-c-drop fs-drop-c"></div>
                                                <div class="fs-c-drop fs-drop-r"></div>
                                            </div>
                                        </div>

                                        <!-- Children -->
                                        <div class="fs-children">
                                            <!-- Meta -->
                                            <div class="fs-child">
                                                <div class="fs-chip-box fc-meta">
                                                    <div class="fc-meta-die"></div>
                                                </div>
                                                <div class="fs-label"><i class="fab fa-meta"></i> Meta</div>
                                            </div>
                                            <!-- Huawei -->
                                            <div class="fs-child">
                                                <div class="fs-chip-box fc-huawei">
                                                    <div class="fc-huawei-hs">
                                                        <div class="fc-huawei-logo"></div>
                                                    </div>
                                                </div>
                                                <div class="fs-label">Huawei</div>
                                            </div>
                                            <!-- Google -->
                                            <div class="fs-child">
                                                <div class="fs-chip-box fc-google">
                                                    <div class="fc-google-die">
                                                        <div class="fc-g-core"></div>
                                                        <div class="fc-g-core"></div>
                                                        <div class="fc-g-core"></div>
                                                        <div class="fc-g-core"></div>
                                                    </div>
                                                </div>
                                                <div class="fs-label">Google</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide-text-area">
                                    <div class="slide-title">07. 殊途同归</div>
                                    <div class="slide-desc">
                                        <p><strong>核心一致：</strong>
                                            尽管各家厂商命名不同（如TPU、MTIA、Ascend），但本质都是以<strong>矩阵运算</strong>为核心的NPU架构。</p>
                                        <p><strong>目标一致：</strong> 剥离通用计算，通过专用硬件加速AI模型训练与推理。</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Slide 8: GPU Matrix Operation -->
                            <div class="npu-hw-slide slide-8">
                                <div class="slide-visual-area">
                                    <div class="fig-label-right">FIG_05.8: GPU矩阵运算</div>
                                    <div class="gpu-calc-stage">
                                        <!-- Equation Display -->
                                        <div class="gc-equation">
                                            <div class="gc-eq-row">a<sub>11</sub> = 7×1 + 2×2 + 5×4 + 4×3</div>
                                            <div class="gc-eq-row result">= 7 + 4 + 20 + 12</div>
                                            <div class="gc-eq-row final">= 43</div>
                                        </div>

                                        <!-- Main Grid Area -->
                                        <div class="gc-grid-container">
                                            <!-- Cache/Data -->
                                            <div class="gc-cache">
                                                <div class="gc-label">缓存 (Cache)</div>
                                                <div class="gc-data-row">
                                                    <div class="gc-cell">7</div>
                                                    <div class="gc-cell">1</div>
                                                </div>
                                                <div class="gc-data-row">
                                                    <div class="gc-cell">2</div>
                                                    <div class="gc-cell">2</div>
                                                </div>
                                                <div class="gc-data-row">
                                                    <div class="gc-cell">5</div>
                                                    <div class="gc-cell">4</div>
                                                </div>
                                                <div class="gc-data-row">
                                                    <div class="gc-cell">4</div>
                                                    <div class="gc-cell">3</div>
                                                </div>
                                            </div>

                                            <!-- Calculation Units -->
                                            <div class="gc-calc-units">
                                                <!-- Row 1 -->
                                                <div class="gc-unit-row">
                                                    <div class="gc-box">7</div>
                                                    <div class="gc-op">×</div>
                                                    <div class="gc-box">1</div>
                                                    <div class="gc-op">+</div>
                                                    <div class="gc-box"></div>
                                                </div>
                                                <!-- Row 2 -->
                                                <div class="gc-unit-row">
                                                    <div class="gc-box">2</div>
                                                    <div class="gc-op">×</div>
                                                    <div class="gc-box">2</div>
                                                    <div class="gc-op">+</div>
                                                    <div class="gc-box"></div>
                                                </div>
                                                <!-- Row 3 -->
                                                <div class="gc-unit-row">
                                                    <div class="gc-box">5</div>
                                                    <div class="gc-op">×</div>
                                                    <div class="gc-box">4</div>
                                                    <div class="gc-op">+</div>
                                                    <div class="gc-box"></div>
                                                </div>
                                                <!-- Row 4 -->
                                                <div class="gc-unit-row">
                                                    <div class="gc-box">4</div>
                                                    <div class="gc-op">×</div>
                                                    <div class="gc-box">3</div>
                                                    <div class="gc-op">+</div>
                                                    <div class="gc-box"></div>
                                                </div>
                                            </div>

                                            <!-- Instructions Label -->
                                            <div class="gc-instructions">
                                                <div class="gc-inst-tag i-mul">指令1: 乘法</div>
                                                <div class="gc-inst-tag i-add">指令2: 加法</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="slide-text-area">
                                    <div class="slide-title">08. GPU运算模式</div>
                                    <div class="slide-desc">
                                        <p><strong>SIMT (单指令多线程):</strong> GPU通过大量核心并行处理数据，将矩阵运算拆解为基础指令。</p>
                                        <p><strong>指令执行:</strong> 需依次执行乘法、加法等指令，相比NPU的单指令矩阵计算，指令开销较大。</p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <!-- BOTTOM: Summary Text -->
                    <div class="npu-summary-section">
                        <div class="npu-section-header">
                            <div class="npu-section-indicator"></div>
                            <div class="npu-section-title">NPU的硬件与能力特点</div>
                        </div>
                        <div class="npu-summary-content"
                            style="display: flex; gap: 20px; height: 100%; align-items: stretch;">
                            <!-- Card 1: Core Advantage -->
                            <div
                                style="flex: 1; background: rgba(76, 175, 80, 0.1); border: 1px solid rgba(76, 175, 80, 0.3); border-radius: 8px; padding: 15px; display: flex; flex-direction: column; justify-content: center;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <i class="fas fa-tachometer-alt" style="color: #4caf50;"></i>
                                    <strong style="color: #81c784;">核心优势</strong>
                                </div>
                                <div style="font-size: 0.9rem; color: #ccc; line-height: 1.4;">
                                    从硬件层面直接进行<span style="color: #fff; font-weight: bold;">矩阵运算</span>，大幅提升计算效率。
                                </div>
                            </div>

                            <!-- Card 2: Case Study -->
                            <div
                                style="flex: 1; background: rgba(33, 150, 243, 0.1); border: 1px solid rgba(33, 150, 243, 0.3); border-radius: 8px; padding: 15px; display: flex; flex-direction: column; justify-content: center;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <i class="fas fa-server" style="color: #2196f3;"></i>
                                    <strong style="color: #64b5f6;">典型案例</strong>
                                </div>
                                <div style="font-size: 0.9rem; color: #ccc; line-height: 1.4;">
                                    华为<span style="color: #fff; font-weight: bold;">昇腾 (Ascend)</span> AI服务器NPU。
                                </div>
                            </div>

                            <!-- Card 3: Architecture -->
                            <div
                                style="flex: 1.2; background: rgba(156, 39, 176, 0.1); border: 1px solid rgba(156, 39, 176, 0.3); border-radius: 8px; padding: 15px; display: flex; flex-direction: column; justify-content: center;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <i class="fas fa-microchip" style="color: #ab47bc;"></i>
                                    <strong style="color: #ba68c8;">架构组成</strong>
                                </div>
                                <div style="display: flex; gap: 10px;">
                                    <div
                                        style="background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 4px; font-size: 0.85rem; color: #e1bee7;">
                                        <i class="fas fa-cube" style="margin-right: 5px;"></i>Cube Core
                                    </div>
                                    <div
                                        style="background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 4px; font-size: 0.85rem; color: #e1bee7;">
                                        <i class="fas fa-calculator" style="margin-right: 5px;"></i>辅助单元
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PART VI: NPU Hardware Acceleration -->
        <section class="reveal">
            <h2>06_NPU是如何从硬件上进行AI加速的</h2>
            <div class="no-scrollbar"
                style="height: 85vh; display: flex; flex-direction: column; gap: 10px; padding: 0 20px; width: 100%; max-width: 900px; margin: 0 auto; overflow-y: auto;">

                <!-- 1. The Problem: Matrix Math -->
                <div
                    style="flex: 0 0 auto; background: rgba(255,255,255,0.05); border-radius: 12px; padding: 15px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #333;">
                    <div style="flex: 1;">
                        <h3 style="color: #fff; margin: 0 0 5px 0; font-size: 1.2rem;"><i class="fas fa-question-circle"
                                style="color: var(--accent-yellow); margin-right: 10px;"></i>核心挑战：矩阵运算</h3>
                        <p style="color: #ccc; margin: 0; line-height: 1.4; font-size: 0.9rem;">AI计算的本质是海量的矩阵乘加运算。以简单的
                            <strong>4×4
                                矩阵</strong>相乘为例，就需要 <strong>64次乘法 + 48次加法</strong>。
                        </p>
                    </div>
                    <div style="flex: 0 0 180px; text-align: right; border-left: 1px solid #444; padding-left: 15px;">
                        <div style="font-size: 2rem; font-weight: 900; color: var(--accent-green);">112<span
                                style="font-size: 0.9rem; color: #888;">次运算</span></div>
                        <div style="font-size: 0.75rem; color: #666;">仅为一个4x4矩阵</div>
                    </div>
                </div>

                <!-- Matrix Math Visualization -->
                <div
                    style="flex: 0 0 auto; background: #000; border: 1px solid #333; border-radius: 12px; padding: 15px; position: relative; overflow: hidden; margin-bottom: 15px;">
                    <!-- Grid Background -->
                    <div
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(#1a1a1a 1px, transparent 1px), linear-gradient(90deg, #1a1a1a 1px, transparent 1px); background-size: 20px 20px; opacity: 0.5; z-index: 0;">
                    </div>

                    <div
                        style="position: relative; z-index: 1; display: flex; gap: 20px; justify-content: center; align-items: flex-start; flex-wrap: wrap;">

                        <!-- Left: Matrices -->
                        <div
                            style="display: flex; flex-direction: column; gap: 20px; font-family: 'Courier New', monospace; font-weight: bold; font-size: 1.1rem;">
                            <!-- Row 1: A x B -->
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <!-- Matrix A -->
                                <div style="display: flex; align-items: center;">
                                    <div
                                        style="border-left: 3px solid #fff; border-top: 3px solid #fff; border-bottom: 3px solid #fff; width: 10px; height: 140px;">
                                    </div>
                                    <div
                                        style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px 15px; text-align: center; padding: 5px;">
                                        <div>7</div>
                                        <div>2</div>
                                        <div>5</div>
                                        <div>4</div>
                                        <div>5</div>
                                        <div>6</div>
                                        <div>7</div>
                                        <div>3</div>
                                        <div>9</div>
                                        <div>4</div>
                                        <div>1</div>
                                        <div>8</div>
                                        <div>5</div>
                                        <div>3</div>
                                        <div>2</div>
                                        <div>6</div>
                                    </div>
                                    <div
                                        style="border-right: 3px solid #fff; border-top: 3px solid #fff; border-bottom: 3px solid #fff; width: 10px; height: 140px;">
                                    </div>
                                </div>

                                <div style="font-size: 2.5rem; color: #fff;">×</div>

                                <!-- Matrix B -->
                                <div style="display: flex; align-items: center;">
                                    <div
                                        style="border-left: 3px solid #fff; border-top: 3px solid #fff; border-bottom: 3px solid #fff; width: 10px; height: 140px;">
                                    </div>
                                    <div
                                        style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px 15px; text-align: center; padding: 5px;">
                                        <div>1</div>
                                        <div>3</div>
                                        <div>9</div>
                                        <div>3</div>
                                        <div>2</div>
                                        <div>9</div>
                                        <div>6</div>
                                        <div>7</div>
                                        <div>4</div>
                                        <div>1</div>
                                        <div>5</div>
                                        <div>2</div>
                                        <div>3</div>
                                        <div>8</div>
                                        <div>4</div>
                                        <div>9</div>
                                    </div>
                                    <div
                                        style="border-right: 3px solid #fff; border-top: 3px solid #fff; border-bottom: 3px solid #fff; width: 10px; height: 140px;">
                                    </div>
                                </div>
                            </div>

                            <!-- Row 2: = C -->
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <div style="font-size: 2.5rem; color: #fff; margin-right: 10px;">=</div>

                                <!-- Matrix C -->
                                <div style="display: flex; align-items: center;">
                                    <div
                                        style="border-left: 3px solid #fff; border-top: 3px solid #fff; border-bottom: 3px solid #fff; width: 10px; height: 140px;">
                                    </div>
                                    <div
                                        style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px 15px; text-align: center; padding: 5px; color: #ffc107;">
                                        <div>a<sub>11</sub></div>
                                        <div>a<sub>12</sub></div>
                                        <div>a<sub>13</sub></div>
                                        <div>a<sub>14</sub></div>
                                        <div>a<sub>21</sub></div>
                                        <div>a<sub>22</sub></div>
                                        <div>a<sub>23</sub></div>
                                        <div>a<sub>24</sub></div>
                                        <div>a<sub>31</sub></div>
                                        <div>a<sub>32</sub></div>
                                        <div>a<sub>33</sub></div>
                                        <div>a<sub>34</sub></div>
                                        <div>a<sub>41</sub></div>
                                        <div>a<sub>42</sub></div>
                                        <div>a<sub>43</sub></div>
                                        <div>a<sub>44</sub></div>
                                    </div>
                                    <div
                                        style="border-right: 3px solid #fff; border-top: 3px solid #fff; border-bottom: 3px solid #fff; width: 10px; height: 140px;">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right: Calculations Panel -->
                        <div style="position: relative; margin-left: 20px; padding-right: 130px;">
                            <div style="border: 2px solid #2196f3; border-radius: 15px; padding: 15px 25px; background: rgba(10, 20, 30, 0.9); font-family: 'Courier New', monospace; font-size: 0.9rem; color: #ccc; height: 320px; overflow-y: auto; width: 380px; box-shadow: 0 0 20px rgba(33, 150, 243, 0.2);"
                                class="no-scrollbar">
                                <!-- Calculation Lines -->
                                <div
                                    style="display: flex; flex-direction: column; gap: 4px; position: relative; z-index: 2;">
                                    <div id="matrix-calc-list"></div>
                                </div>
                            </div>

                            <!-- Labels -->
                            <div style="position: absolute; right: 0; top: 100px; display: flex; align-items: center;">
                                <div style="width: 20px; height: 2px; background: #00bcd4;"></div>
                                <div
                                    style="border: 1px solid #00bcd4; color: #fff; padding: 4px 8px; font-size: 0.8rem; background: rgba(0, 188, 212, 0.2); border-radius: 4px;">
                                    48次加法</div>
                            </div>
                            <div style="position: absolute; right: 0; top: 160px; display: flex; align-items: center;">
                                <div style="width: 20px; height: 2px; background: #ffc107;"></div>
                                <div
                                    style="border: 1px solid #ffc107; color: #fff; padding: 4px 8px; font-size: 0.8rem; background: rgba(255, 193, 7, 0.2); border-radius: 4px;">
                                    64次乘法</div>
                            </div>

                            <!-- Brackets -->
                            <div
                                style="position: absolute; right: 115px; top: 80px; height: 60px; width: 10px; border-right: 2px solid #00bcd4; border-top: 2px solid #00bcd4; border-bottom: 2px solid #00bcd4;">
                            </div>
                            <div
                                style="position: absolute; right: 115px; top: 150px; height: 60px; width: 10px; border-right: 2px solid #ffc107; border-top: 2px solid #ffc107; border-bottom: 2px solid #ffc107;">
                            </div>
                        </div>
                    </div>

                    <script>
                        (function () {
                            const list = document.getElementById('matrix-calc-list');
                            const A = [
                                [7, 2, 5, 4],
                                [5, 6, 7, 3],
                                [9, 4, 1, 8],
                                [5, 3, 2, 6]
                            ];
                            const B = [
                                [1, 3, 9, 3],
                                [2, 9, 6, 7],
                                [4, 1, 5, 2],
                                [3, 8, 4, 9]
                            ];

                            let html = '';
                            for (let i = 0; i < 4; i++) {
                                for (let j = 0; j < 4; j++) {
                                    let line = `<div style="display:flex; gap:0; white-space: pre; line-height: 1.5;"><span style="color:#ffc107; width: 40px; display:inline-block;">a<sub>${i + 1}${j + 1}</sub></span><span>=</span>`;
                                    let terms = [];
                                    for (let k = 0; k < 4; k++) {
                                        // Highlight 'x'
                                        terms.push(`${A[i][k]}<span style="background: rgba(255, 193, 7, 0.2); color: #ffc107; padding: 0 1px;">×</span>${B[k][j]}`);
                                    }
                                    // Join with '+' highlighted
                                    let calcStr = terms.join(` <span style="background: rgba(0, 188, 212, 0.2); color: #00bcd4; padding: 0 1px;">+</span> `);

                                    line += `<span style="color:#ccc; margin-left: 5px;"> ` + calcStr + `</span></div>`;
                                    html += line;
                                }
                            }
                            list.innerHTML = html;
                        })();
                    </script>
                </div>

                <!-- 2. The Solution: GPU vs NPU Comparison (Main Content) -->
                <div style="flex: 1; display: flex; flex-direction: column; gap: 15px;">

                    <!-- GPU Column -->
                    <div
                        style="background: rgba(244, 67, 54, 0.08); border: 1px solid rgba(244, 67, 54, 0.3); border-radius: 12px; padding: 15px; display: flex; flex-direction: column;">
                        <div
                            style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px; border-bottom: 1px solid rgba(244, 67, 54, 0.3); padding-bottom: 8px;">
                            <div
                                style="width: 32px; height: 32px; background: rgba(244, 67, 54, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-microchip" style="color: #f44336; font-size: 1rem;"></i>
                            </div>
                            <div>
                                <h4 style="margin: 0; color: #ff8a80; font-size: 1.1rem;">GPU 方式</h4>
                                <span style="font-size: 0.75rem; color: #ef9a9a;">指令驱动 (Instruction Driven)</span>
                            </div>
                        </div>

                        <div style="flex: 1; display: flex; flex-direction: column; gap: 10px;">
                            <div style="background: rgba(0,0,0,0.3); padding: 8px; border-radius: 6px;">
                                <div style="color: #fff; font-weight: bold; margin-bottom: 4px; font-size: 0.9rem;">指令流程
                                    (3 Steps):</div>
                                <ol
                                    style="margin: 0; padding-left: 20px; color: #ccc; font-size: 0.85rem; line-height: 1.5;">
                                    <li><span style="color: #f44336;">Load/Mul:</span> 搬运数据 -> 乘法 -> 存回缓存</li>
                                    <li><span style="color: #f44336;">Load/Add:</span> 搬运结果 -> 加法 -> 存回缓存</li>
                                    <li><span style="color: #f44336;">Finalize:</span> 剩余加法 -> 完成</li>
                                </ol>
                            </div>
                            <div
                                style="margin-top: auto; text-align: center; padding: 8px; background: rgba(244, 67, 54, 0.15); border-radius: 6px; color: #ffcdd2; font-size: 0.85rem;">
                                <i class="fas fa-exclamation-circle"></i> 瓶颈：数据在运算器与缓存间频繁搬运
                            </div>

                            <!-- GPU Calculation Animation (FIG_02.4 Style) -->
                            <div id="gpu-anim-stage"
                                style="margin-top: 15px; background: #000; border: 1px solid #2196f3; padding: 10px; border-radius: 6px; font-family: 'Courier New', monospace; position: relative; overflow: hidden; min-height: 280px;">

                                <!-- Equation Area -->
                                <div style="margin-bottom: 10px;">
                                    <div class="anim-eq-line"
                                        style="background: #1976d2; color: white; padding: 4px 8px; margin-bottom: 2px; border-radius: 2px; font-size: 0.9rem;">
                                        a<sub>11</sub> = 7×1 + 2×2 + 5×4 + 4×3</div>
                                    <div class="anim-eq-line eq-step-2"
                                        style="background: #1976d2; color: white; padding: 4px 8px; margin-bottom: 2px; border-radius: 2px; font-size: 0.9rem; opacity: 0;">
                                        = 7 + 4 + 20 + 12</div>
                                    <div class="anim-eq-line eq-step-3"
                                        style="background: #1976d2; color: white; padding: 4px 8px; margin-bottom: 2px; border-radius: 2px; font-size: 0.9rem; opacity: 0;">
                                        = 11 + 32</div>
                                    <div class="anim-eq-line eq-step-4"
                                        style="background: #4caf50; color: white; padding: 4px 8px; margin-bottom: 2px; border-radius: 2px; font-size: 0.9rem; opacity: 0;">
                                        = 43</div>
                                </div>

                                <div style="display: flex; gap: 15px;">
                                    <!-- Cache Table -->
                                    <div style="border: 1px solid #2196f3; padding: 5px; width: 80px;">
                                        <div style="color: #2196f3; font-size: 0.7rem; margin-bottom: 5px;">缓存</div>
                                        <div
                                            style="display: grid; grid-template-columns: 1fr 1fr; gap: 2px; text-align: center;">
                                            <div class="c-cell">7</div>
                                            <div class="c-cell">1</div>
                                            <div class="c-cell">2</div>
                                            <div class="c-cell">2</div>
                                            <div class="c-cell">5</div>
                                            <div class="c-cell">4</div>
                                            <div class="c-cell">4</div>
                                            <div class="c-cell">3</div>
                                        </div>
                                    </div>

                                    <!-- ALU Grid -->
                                    <div
                                        style="flex: 1; border: 1px solid #2196f3; padding: 10px; position: relative; display: flex; flex-direction: column; gap: 8px;">
                                        <!-- Rows -->
                                        <div class="alu-row row-1">
                                            <div class="alu-box b1"></div> <span class="op">×</span>
                                            <div class="alu-box b2"></div> <span class="op">+</span>
                                            <div class="alu-box b3"></div> <span class="res-arrow">→ <span
                                                    class="res-val"></span></span>
                                        </div>
                                        <div class="alu-row row-2">
                                            <div class="alu-box b1"></div> <span class="op">×</span>
                                            <div class="alu-box b2"></div> <span class="op">+</span>
                                            <div class="alu-box b3"></div> <span class="res-arrow">→ <span
                                                    class="res-val"></span></span>
                                        </div>
                                        <div class="alu-row row-3">
                                            <div class="alu-box b1"></div> <span class="op">×</span>
                                            <div class="alu-box b2"></div> <span class="op">+</span>
                                            <div class="alu-box b3"></div> <span class="res-arrow">→ <span
                                                    class="res-val"></span></span>
                                        </div>
                                        <div class="alu-row row-4">
                                            <div class="alu-box b1"></div> <span class="op">×</span>
                                            <div class="alu-box b2"></div> <span class="op">+</span>
                                            <div class="alu-box b3"></div> <span class="res-arrow">→ <span
                                                    class="res-val"></span></span>
                                        </div>

                                        <!-- Instruction Labels -->
                                        <div id="anim-inst-container"
                                            style="position: absolute; right: -10px; top: 10px; display: flex; flex-direction: column; gap: 4px;">
                                            <div id="inst-1" class="inst-badge">指令1: 乘法</div>
                                            <div id="inst-2" class="inst-badge">指令2: 加法</div>
                                            <div id="inst-3" class="inst-badge">指令3: 加法</div>
                                        </div>
                                        <style>
                                            .inst-badge {
                                                background: #333;
                                                color: #888;
                                                padding: 4px 12px;
                                                font-weight: bold;
                                                font-size: 0.8rem;
                                                clip-path: polygon(10px 0, 100% 0, 100% 100%, 10px 100%, 0 50%);
                                                transition: all 0.3s;
                                                border: 1px solid #555;
                                            }

                                            .inst-badge.active {
                                                background: #ff9800;
                                                color: black;
                                                transform: scale(1.05);
                                                border-color: #ff9800;
                                                box-shadow: 0 0 10px rgba(255, 152, 0, 0.5);
                                            }
                                        </style>
                                    </div>
                                </div>

                                <!-- Figure Number -->
                                <div class="image-caption">FIG_06.1</div>

                                <style>
                                    .c-cell {
                                        border: 1px solid #444;
                                        color: #ddd;
                                        padding: 4px 0;
                                        font-size: 0.8rem;
                                    }

                                    .alu-row {
                                        display: flex;
                                        align-items: center;
                                        gap: 5px;
                                        height: 30px;
                                    }

                                    .alu-box {
                                        width: 25px;
                                        height: 25px;
                                        border: 1px solid #2196f3;
                                        display: flex;
                                        align-items: center;
                                        justify-content: center;
                                        color: #fff;
                                        font-size: 0.8rem;
                                        transition: all 0.3s;
                                    }

                                    .op {
                                        color: #2196f3;
                                        font-weight: bold;
                                        font-size: 1.2rem;
                                    }

                                    .res-arrow {
                                        color: #ddd;
                                        font-size: 0.8rem;
                                        margin-left: 5px;
                                        opacity: 0;
                                        transition: opacity 0.3s;
                                    }

                                    .anim-eq-line {
                                        transition: opacity 0.5s;
                                    }
                                </style>

                                <script>
                                    (function () {
                                        const stage = document.getElementById('gpu-anim-stage');
                                        const inst1 = document.getElementById('inst-1');
                                        const inst2 = document.getElementById('inst-2');
                                        const inst3 = document.getElementById('inst-3');
                                        const rows = stage.querySelectorAll('.alu-row');
                                        const cacheCells = stage.querySelectorAll('.c-cell');
                                        const eq2 = stage.querySelector('.eq-step-2');
                                        const eq3 = stage.querySelector('.eq-step-3');
                                        const eq4 = stage.querySelector('.eq-step-4');

                                        function updateCache(values) {
                                            cacheCells.forEach((cell, i) => {
                                                cell.innerText = values[i] !== undefined ? values[i] : '';
                                            });
                                        }

                                        function reset() {
                                            inst1.classList.remove('active');
                                            inst2.classList.remove('active');
                                            inst3.classList.remove('active');
                                            eq2.style.opacity = '0';
                                            eq3.style.opacity = '0';
                                            eq4.style.opacity = '0';
                                            rows.forEach(r => {
                                                r.style.opacity = '1';
                                                r.querySelector('.b1').innerText = '';
                                                r.querySelector('.b2').innerText = '';
                                                r.querySelector('.b3').innerText = '';
                                                r.querySelector('.res-arrow').style.opacity = '0';
                                            });
                                            // Initial Cache State
                                            updateCache([7, 1, 2, 2, 5, 4, 4, 3]);
                                        }

                                        function step1() {
                                            // Mul
                                            inst1.classList.add('active');

                                            // Fill values
                                            const data = [[7, 1], [2, 2], [5, 4], [4, 3]];
                                            rows.forEach((r, i) => {
                                                if (i < 4) {
                                                    r.querySelector('.b1').innerText = data[i][0];
                                                    r.querySelector('.b2').innerText = data[i][1];
                                                    r.querySelector('.res-arrow').style.opacity = '1';
                                                    r.querySelector('.res-val').innerText = data[i][0] * data[i][1];
                                                }
                                            });

                                            setTimeout(() => { eq2.style.opacity = '1'; }, 500);

                                            // Update Cache for next step (at end of this step)
                                            setTimeout(() => {
                                                updateCache([7, '', 4, '', 20, '', 12, '']);
                                            }, 2500);
                                        }

                                        function step2() {
                                            // Add 1
                                            inst1.classList.remove('active');
                                            inst2.classList.add('active');

                                            // Clear rows 3,4
                                            rows[2].style.opacity = '0';
                                            rows[3].style.opacity = '0';

                                            // Update rows 1,2
                                            // Image logic: [] x 7 + 4 -> 11
                                            rows[0].querySelector('.b1').innerText = '';
                                            rows[0].querySelector('.b2').innerText = '7';
                                            rows[0].querySelector('.b3').innerText = '4';
                                            rows[0].querySelector('.res-val').innerText = '11';

                                            rows[1].querySelector('.b1').innerText = '';
                                            rows[1].querySelector('.b2').innerText = '20';
                                            rows[1].querySelector('.b3').innerText = '12';
                                            rows[1].querySelector('.res-val').innerText = '32';

                                            setTimeout(() => { eq3.style.opacity = '1'; }, 500);

                                            // Update Cache for next step
                                            setTimeout(() => {
                                                updateCache([11, '', 32, '', '', '', '', '']);
                                            }, 2500);
                                        }

                                        function step3() {
                                            // Add 2
                                            inst2.classList.remove('active');
                                            inst3.classList.add('active');

                                            // Clear row 2
                                            rows[1].style.opacity = '0';

                                            // Update row 1
                                            // Logic: [] x 11 + 32 -> 43
                                            rows[0].querySelector('.b2').innerText = '11';
                                            rows[0].querySelector('.b3').innerText = '32';
                                            rows[0].querySelector('.res-val').innerText = '43';

                                            setTimeout(() => { eq4.style.opacity = '1'; }, 500);

                                            // Update Cache for final result
                                            setTimeout(() => {
                                                updateCache([43, '', '', '', '', '', '', '']);
                                            }, 2500);
                                        }

                                        function runLoop() {
                                            reset();
                                            setTimeout(step1, 1000);
                                            setTimeout(step2, 4000);
                                            setTimeout(step3, 7000);
                                        }

                                        runLoop();
                                        setInterval(runLoop, 10000);
                                    })();
                                </script>
                            </div>
                        </div>
                    </div>

                    <!-- NPU Column -->
                    <div
                        style="background: rgba(76, 175, 80, 0.08); border: 1px solid rgba(76, 175, 80, 0.3); border-radius: 12px; padding: 15px; display: flex; flex-direction: column;">
                        <div
                            style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px; border-bottom: 1px solid rgba(76, 175, 80, 0.3); padding-bottom: 8px;">
                            <div
                                style="width: 32px; height: 32px; background: rgba(76, 175, 80, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-brain" style="color: #4caf50; font-size: 1rem;"></i>
                            </div>
                            <div>
                                <h4 style="margin: 0; color: #a5d6a7; font-size: 1.1rem;">NPU 方式</h4>
                                <span style="font-size: 0.75rem; color: #c8e6c9;">数据流驱动 (Dataflow)</span>
                            </div>
                        </div>

                        <div style="flex: 1; display: flex; flex-direction: column; gap: 10px;">
                            <div style="background: rgba(0,0,0,0.3); padding: 8px; border-radius: 6px;">
                                <div style="color: #fff; font-weight: bold; margin-bottom: 4px; font-size: 0.9rem;">指令流程
                                    (1 Step):</div>
                                <ul
                                    style="margin: 0; padding-left: 20px; color: #ccc; font-size: 0.85rem; line-height: 1.5;">
                                    <li><span style="color: #4caf50;">Stream:</span> 数据搬入 -> 自动流转(乘+加) -> 输出</li>
                                </ul>
                                <div style="margin-top: 6px; font-size: 0.8rem; color: #81c784;">
                                    *乘法器与加法器直接建立硬件通道
                                </div>
                            </div>
                            <div
                                style="margin-top: auto; text-align: center; padding: 8px; background: rgba(76, 175, 80, 0.15); border-radius: 6px; color: #c8e6c9; font-size: 0.85rem;">
                                <i class="fas fa-check-circle"></i> 优势：中间结果不回缓存，极致高效
                            </div>

                            <!-- NPU Animation (Tree / Dataflow) -->
                            <div id="npu-anim-stage"
                                style="margin-top: 15px; background: #000; border: 1px solid #4caf50; padding: 10px; border-radius: 6px; font-family: 'Courier New', monospace; position: relative; overflow: hidden; min-height: 300px; display: flex; gap: 10px;">

                                <!-- Cache (Left) - Static for NPU (Input only) -->
                                <div style="border: 1px solid #2196f3; padding: 5px; width: 80px; height: fit-content;">
                                    <div style="color: #2196f3; font-size: 0.7rem; margin-bottom: 5px;">缓存</div>
                                    <div
                                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 2px; text-align: center;">
                                        <div class="c-cell-n">7</div>
                                        <div class="c-cell-n">1</div>
                                        <div class="c-cell-n">2</div>
                                        <div class="c-cell-n">2</div>
                                        <div class="c-cell-n">5</div>
                                        <div class="c-cell-n">4</div>
                                        <div class="c-cell-n">4</div>
                                        <div class="c-cell-n">3</div>
                                    </div>
                                </div>

                                <!-- Tree Structure (Right) -->
                                <div style="flex: 1; position: relative; display: flex; justify-content: center;">
                                    <div style="position: relative; width: 100%; height: 280px;">
                                        <!-- Instruction Label -->
                                        <div id="npu-inst-label"
                                            style="position: absolute; right: 0; top: 10px; background: #4caf50; color: white; padding: 4px 12px; font-weight: bold; font-size: 0.9rem; clip-path: polygon(10px 0, 100% 0, 100% 100%, 10px 100%, 0 50%); z-index: 10;">
                                            指令: 矩阵乘加
                                        </div>

                                        <!-- SVG Connectors -->
                                        <svg
                                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none;">
                                            <defs>
                                                <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3"
                                                    orient="auto" markerUnits="strokeWidth">
                                                    <path d="M0,0 L0,6 L9,3 z" fill="#555" />
                                                </marker>
                                                <marker id="arrow-active" markerWidth="10" markerHeight="10" refX="8"
                                                    refY="3" orient="auto" markerUnits="strokeWidth">
                                                    <path d="M0,0 L0,6 L9,3 z" fill="#4caf50" />
                                                </marker>
                                            </defs>

                                            <!-- G1 & G2 -> G5 -->
                                            <path id="p-g1-g5" class="flow-path"
                                                d="M 110 50 L 110 75 L 140 75 L 140 100" fill="none" stroke="#555"
                                                stroke-width="2" />
                                            <path id="p-g2-g5" class="flow-path"
                                                d="M 200 50 L 200 75 L 170 75 L 170 100" fill="none" stroke="#555"
                                                stroke-width="2" />

                                            <!-- G3 & G4 -> G6 -->
                                            <path id="p-g3-g6" class="flow-path"
                                                d="M 290 50 L 290 75 L 320 75 L 320 100" fill="none" stroke="#555"
                                                stroke-width="2" />
                                            <path id="p-g4-g6" class="flow-path"
                                                d="M 380 50 L 380 75 L 350 75 L 350 100" fill="none" stroke="#555"
                                                stroke-width="2" />

                                            <!-- G5 & G6 -> G7 -->
                                            <path id="p-g5-g7" class="flow-path"
                                                d="M 155 130 L 155 155 L 230 155 L 230 180" fill="none" stroke="#555"
                                                stroke-width="2" />
                                            <path id="p-g6-g7" class="flow-path"
                                                d="M 335 130 L 335 155 L 260 155 L 260 180" fill="none" stroke="#555"
                                                stroke-width="2" />

                                            <!-- G7 -> Res -->
                                            <path id="p-g7-res" class="flow-path" d="M 245 210 L 245 240" fill="none"
                                                stroke="#555" stroke-width="2" />
                                        </svg>

                                        <!-- Row 1: Multipliers (Y=20) -->
                                        <div class="npu-node-group g1" style="top: 20px; left: 80px;">
                                            <div class="npu-box val-a"></div>
                                            <div class="npu-op">×</div>
                                            <div class="npu-box val-b"></div>
                                        </div>
                                        <div class="npu-node-group g2" style="top: 20px; left: 170px;">
                                            <div class="npu-box val-a"></div>
                                            <div class="npu-op">×</div>
                                            <div class="npu-box val-b"></div>
                                        </div>
                                        <div class="npu-node-group g3" style="top: 20px; left: 260px;">
                                            <div class="npu-box val-a"></div>
                                            <div class="npu-op">×</div>
                                            <div class="npu-box val-b"></div>
                                        </div>
                                        <div class="npu-node-group g4" style="top: 20px; left: 350px;">
                                            <div class="npu-box val-a"></div>
                                            <div class="npu-op">×</div>
                                            <div class="npu-box val-b"></div>
                                        </div>

                                        <!-- Row 2: Adders L1 (Y=100) -->
                                        <div class="npu-node-group g5" style="top: 100px; left: 125px;">
                                            <div class="npu-box val-a"></div>
                                            <div class="npu-op">+</div>
                                            <div class="npu-box val-b"></div>
                                        </div>
                                        <div class="npu-node-group g6" style="top: 100px; left: 305px;">
                                            <div class="npu-box val-a"></div>
                                            <div class="npu-op">+</div>
                                            <div class="npu-box val-b"></div>
                                        </div>

                                        <!-- Row 3: Adder L2 (Y=180) -->
                                        <div class="npu-node-group g7" style="top: 180px; left: 215px;">
                                            <div class="npu-box val-a"></div>
                                            <div class="npu-op">+</div>
                                            <div class="npu-box val-b"></div>
                                        </div>

                                        <!-- Row 4: Result (Y=240) -->
                                        <div class="npu-box val-res"
                                            style="position: absolute; top: 230px; left: 225px; width: 40px; height: 40px; font-size: 1.2rem; border-color: #4caf50; color: #4caf50; font-weight: bold; z-index: 2;">
                                        </div>
                                    </div>
                                </div>

                                <!-- Figure Number -->
                                <div class="image-caption">FIG_06.2</div>

                                <style>
                                    .c-cell-n {
                                        border: 1px solid #444;
                                        color: #ddd;
                                        padding: 4px 0;
                                        font-size: 0.8rem;
                                    }

                                    .npu-node-group {
                                        position: absolute;
                                        display: flex;
                                        align-items: center;
                                        gap: 2px;
                                        border: 1px solid #ff9800;
                                        padding: 2px 4px;
                                        border-radius: 4px;
                                        background: #000;
                                        z-index: 2;
                                        width: 60px;
                                        justify-content: center;
                                        height: 30px;
                                        transition: all 0.3s;
                                    }

                                    .npu-box {
                                        width: 20px;
                                        height: 20px;
                                        border: 1px solid #2196f3;
                                        display: flex;
                                        align-items: center;
                                        justify-content: center;
                                        color: #fff;
                                        font-size: 0.7rem;
                                    }

                                    .npu-op {
                                        color: #2196f3;
                                        font-weight: bold;
                                        font-size: 1rem;
                                        margin: 0 2px;
                                    }

                                    .flow-path {
                                        stroke-dasharray: 5;
                                        transition: stroke 0.3s, opacity 0.3s;
                                        opacity: 0.3;
                                    }

                                    .flow-active {
                                        stroke: #4caf50;
                                        opacity: 1;
                                        animation: flowDash 0.5s linear infinite;
                                    }

                                    @keyframes flowDash {
                                        to {
                                            stroke-dashoffset: -10;
                                        }
                                    }

                                    .npu-highlight {
                                        animation: pop-highlight 0.5s ease-out forwards;
                                        border-color: #4caf50 !important;
                                        box-shadow: 0 0 15px rgba(76, 175, 80, 0.6);
                                    }

                                    @keyframes pop-highlight {
                                        0% {
                                            transform: scale(1);
                                        }

                                        50% {
                                            transform: scale(1.2);
                                        }

                                        100% {
                                            transform: scale(1);
                                        }
                                    }
                                </style>

                                <script>
                                    (function () {
                                        const stage = document.getElementById('npu-anim-stage');
                                        // Selectors
                                        const g1 = stage.querySelector('.g1');
                                        const g2 = stage.querySelector('.g2');
                                        const g3 = stage.querySelector('.g3');
                                        const g4 = stage.querySelector('.g4');
                                        const g5 = stage.querySelector('.g5');
                                        const g6 = stage.querySelector('.g6');
                                        const g7 = stage.querySelector('.g7');
                                        const res = stage.querySelector('.val-res');

                                        const paths1 = [stage.querySelector('#p-g1-g5'), stage.querySelector('#p-g2-g5'), stage.querySelector('#p-g3-g6'), stage.querySelector('#p-g4-g6')];
                                        const paths2 = [stage.querySelector('#p-g5-g7'), stage.querySelector('#p-g6-g7')];
                                        const paths3 = [stage.querySelector('#p-g7-res')];

                                        function clear() {
                                            [g1, g2, g3, g4, g5, g6, g7].forEach(g => {
                                                g.querySelectorAll('.npu-box').forEach(b => b.innerText = '');
                                                g.style.opacity = '0.3';
                                                g.classList.remove('npu-highlight');
                                            });
                                            res.innerText = '';
                                            res.style.opacity = '0.3';
                                            res.classList.remove('npu-highlight');

                                            [...paths1, ...paths2, ...paths3].forEach(p => p.classList.remove('flow-active'));
                                        }

                                        function step1() {
                                            // Load & Mul
                                            const data = [[7, 1], [2, 2], [5, 4], [4, 3]];
                                            [g1, g2, g3, g4].forEach((g, i) => {
                                                g.style.opacity = '1';
                                                const boxes = g.querySelectorAll('.npu-box');
                                                boxes[0].innerText = data[i][0];
                                                boxes[1].innerText = data[i][1];
                                            });

                                            // Start flow to next level
                                            setTimeout(() => {
                                                paths1.forEach(p => p.classList.add('flow-active'));
                                            }, 500);
                                        }

                                        function step2() {
                                            // Add L1
                                            // 7*1=7, 2*2=4 -> 7+4
                                            g5.style.opacity = '1';
                                            g5.classList.add('npu-highlight');
                                            g5.querySelectorAll('.npu-box')[0].innerText = '7';
                                            g5.querySelectorAll('.npu-box')[1].innerText = '4';

                                            // 5*4=20, 4*3=12 -> 20+12
                                            g6.style.opacity = '1';
                                            g6.classList.add('npu-highlight');
                                            g6.querySelectorAll('.npu-box')[0].innerText = '20';
                                            g6.querySelectorAll('.npu-box')[1].innerText = '12';

                                            // Stop prev flow, start next
                                            paths1.forEach(p => p.classList.remove('flow-active'));
                                            setTimeout(() => {
                                                paths2.forEach(p => p.classList.add('flow-active'));
                                            }, 500);
                                        }

                                        function step3() {
                                            // Add L2
                                            // 11 + 32
                                            g7.style.opacity = '1';
                                            g7.classList.add('npu-highlight');
                                            g7.querySelectorAll('.npu-box')[0].innerText = '11';
                                            g7.querySelectorAll('.npu-box')[1].innerText = '32';

                                            // Stop prev flow, start next
                                            paths2.forEach(p => p.classList.remove('flow-active'));
                                            setTimeout(() => {
                                                paths3.forEach(p => p.classList.add('flow-active'));
                                            }, 500);
                                        }

                                        function step4() {
                                            // Result
                                            res.style.opacity = '1';
                                            res.classList.add('npu-highlight');
                                            res.innerText = '43';

                                            // Stop flow
                                            paths3.forEach(p => p.classList.remove('flow-active'));
                                        }

                                        function runLoop() {
                                            clear();
                                            setTimeout(step1, 1000);
                                            setTimeout(step2, 3000);
                                            setTimeout(step3, 5000);
                                            setTimeout(step4, 7000);
                                        }

                                        runLoop();
                                        setInterval(runLoop, 10000);
                                    })();
                                </script>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3. Bottom Info: Trade-offs & Definitions -->
                <div style="flex: 0 0 auto; display: grid; grid-template-columns: 1.2fr 1fr; gap: 20px;">

                    <!-- Trade-off -->
                    <div
                        style="background: rgba(33, 150, 243, 0.05); border-left: 4px solid #2196f3; padding: 15px; border-radius: 0 8px 8px 0; display: flex; flex-direction: column; justify-content: center;">
                        <h5 style="margin: 0 0 10px 0; color: #64b5f6; font-size: 1rem;">灵活性 vs 专用性</h5>
                        <div style="display: flex; gap: 15px; font-size: 0.9rem;">
                            <div style="flex: 1;">
                                <strong style="color: #f44336;">GPU:</strong> 软件定义公式，灵活性高，适合多变算法。
                            </div>
                            <div style="width: 1px; background: #333;"></div>
                            <div style="flex: 1;">
                                <strong style="color: #4caf50;">NPU:</strong> 硬件固化电路，专用性强，特定计算效率极高。
                            </div>
                        </div>
                    </div>

                    <!-- Definitions -->
                    <div
                        style="background: #111; border: 1px dashed #555; padding: 15px; border-radius: 8px; font-size: 0.85rem; color: #888; display: flex; flex-direction: column; justify-content: center;">
                        <div style="margin-bottom: 5px;"><strong style="color: #ccc;">狭义:</strong> GPU=图形, NPU=矩阵。</div>
                        <div><strong style="color: #ccc;">广义:</strong> 现代GPU(如Tensor Core)集成矩阵单元；NPU
                            SoC包含CPU/Vector等辅助单元。</div>
                    </div>
                </div>

                <!-- Flexibility vs Specialization Animation Sequence -->
                <div id="fs-anim-container"
                    style="margin-top: 20px; background: #000; border: 1px solid #333; border-radius: 8px; padding: 20px; position: relative; overflow: hidden; height: 340px; flex: 0 0 auto;">
                    <!-- Grid Background -->
                    <div
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(#1a1a1a 1px, transparent 1px), linear-gradient(90deg, #1a1a1a 1px, transparent 1px); background-size: 20px 20px; opacity: 0.5; z-index: 0;">
                    </div>

                    <div
                        style="position: relative; z-index: 1; display: flex; height: 100%; gap: 20px; justify-content: center;">

                        <!-- GPU Column -->
                        <div
                            style="flex: 1; max-width: 450px; border: 2px solid #2196f3; border-radius: 8px; padding: 15px; display: flex; flex-direction: column; position: relative;">
                            <div
                                style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: #000; padding: 0 10px; color: #2196f3; font-weight: bold; font-size: 1.5rem; font-family: 'Arial Black', sans-serif; letter-spacing: 2px;">
                                GPU</div>

                            <div style="display: flex; gap: 10px; flex: 1; margin-top: 20px;">
                                <!-- Cache -->
                                <div
                                    style="width: 60px; border: 2px solid #2196f3; display: flex; flex-direction: column;">
                                    <div
                                        style="background: rgba(33, 150, 243, 0.2); color: #2196f3; font-size: 0.8rem; padding: 4px; text-align: center;">
                                        缓存</div>
                                    <div
                                        style="flex: 1; display: grid; grid-template-rows: repeat(4, 1fr); border-top: 2px solid #2196f3;">
                                        <div style="border-bottom: 1px solid #2196f3;"></div>
                                        <div style="border-bottom: 1px solid #2196f3;"></div>
                                        <div style="border-bottom: 1px solid #2196f3;"></div>
                                        <div></div>
                                    </div>
                                </div>

                                <!-- GPU Rows -->
                                <div style="flex: 1; display: flex; flex-direction: column; justify-content: space-around; border: 2px solid #2196f3; padding: 10px;"
                                    id="fs-gpu-rows">
                                    <!-- Content injected by JS -->
                                </div>
                            </div>

                            <div
                                style="margin-top: 10px; text-align: center; color: #ff9800; font-weight: bold; font-size: 1.1rem;">
                                *灵活性</div>
                        </div>

                        <!-- NPU Column -->
                        <div
                            style="flex: 1; max-width: 450px; border: 2px solid #4caf50; border-radius: 8px; padding: 15px; display: flex; flex-direction: column; position: relative;">
                            <div
                                style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: #000; padding: 0 10px; color: #4caf50; font-weight: bold; font-size: 1.5rem; font-family: 'Arial Black', sans-serif; letter-spacing: 2px;">
                                NPU</div>

                            <div style="display: flex; gap: 10px; flex: 1; margin-top: 20px;">
                                <!-- Cache -->
                                <div
                                    style="width: 60px; border: 2px solid #4caf50; display: flex; flex-direction: column;">
                                    <div
                                        style="background: rgba(76, 175, 80, 0.2); color: #4caf50; font-size: 0.8rem; padding: 4px; text-align: center;">
                                        缓存</div>
                                    <div
                                        style="flex: 1; display: grid; grid-template-rows: repeat(4, 1fr); border-top: 2px solid #4caf50;">
                                        <div style="border-bottom: 1px solid #4caf50;"></div>
                                        <div style="border-bottom: 1px solid #4caf50;"></div>
                                        <div style="border-bottom: 1px solid #4caf50;"></div>
                                        <div></div>
                                    </div>
                                </div>

                                <!-- NPU Stage -->
                                <div style="flex: 1; position: relative; border: 2px solid #4caf50;" id="fs-npu-stage">
                                    <!-- Content injected by JS -->
                                </div>
                            </div>

                            <div
                                style="margin-top: 10px; text-align: center; color: #ff9800; font-weight: bold; font-size: 1.1rem;">
                                *专用性</div>
                        </div>
                    </div>

                    <script>
                        (function () {
                            const gpuRows = document.getElementById('fs-gpu-rows');
                            const npuStage = document.getElementById('fs-npu-stage');

                            // Templates
                            const gpuBoxTpl = `
                                <div style="display: flex; align-items: center; justify-content: center; gap: 5px; color: #2196f3; font-family: monospace; font-size: 1.2rem;">
                                    <div style="width: 20px; height: 20px; border: 1px solid #2196f3;"></div> × 
                                    <div style="width: 20px; height: 20px; border: 1px solid #2196f3;"></div> + 
                                    <div style="width: 20px; height: 20px; border: 1px solid #2196f3;"></div>
                                </div>`;

                            const gpuFormulaTpl = `
                                <div style="display: flex; align-items: center; justify-content: center; gap: 5px; color: #4caf50; font-family: 'Courier New', monospace; font-size: 1rem; font-weight: bold;">
                                    a×b + c×d + e×f <i class="fas fa-check" style="color: #4caf50; margin-left: 5px;"></i>
                                </div>`;

                            const npuTreeTpl = (glow) => `
                                <div style="position: relative; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
                                    <div style="position: relative; width: 300px; height: 250px;">
                                        <!-- Tree SVG -->
                                        <svg width="100%" height="100%" viewBox="0 0 300 250" style="position: absolute; top:0; left:0;">
                                            <defs>
                                                <filter id="glow">
                                                    <feGaussianBlur stdDeviation="2.5" result="coloredBlur"/>
                                                    <feMerge>
                                                        <feMergeNode in="coloredBlur"/>
                                                        <feMergeNode in="SourceGraphic"/>
                                                    </feMerge>
                                                </filter>
                                            </defs>
                                            <!-- Connections -->
                                            <!-- Level 1 to 2 -->
                                            <path d="M 45 30 L 45 52.5 L 80 52.5 L 80 75" fill="none" stroke="${glow ? '#ff9800' : '#4caf50'}" stroke-width="2" ${glow ? 'filter="url(#glow)"' : ''} />
                                            <path d="M 115 30 L 115 52.5 L 80 52.5 L 80 75" fill="none" stroke="${glow ? '#ff9800' : '#4caf50'}" stroke-width="2" ${glow ? 'filter="url(#glow)"' : ''} />
                                            
                                            <path d="M 185 30 L 185 52.5 L 220 52.5 L 220 75" fill="none" stroke="${glow ? '#ff9800' : '#4caf50'}" stroke-width="2" ${glow ? 'filter="url(#glow)"' : ''} />
                                            <path d="M 255 30 L 255 52.5 L 220 52.5 L 220 75" fill="none" stroke="${glow ? '#ff9800' : '#4caf50'}" stroke-width="2" ${glow ? 'filter="url(#glow)"' : ''} />
                                            
                                            <!-- Level 2 to 3 -->
                                            <path d="M 80 100 L 80 122.5 L 150 122.5 L 150 145" fill="none" stroke="${glow ? '#ff9800' : '#4caf50'}" stroke-width="2" ${glow ? 'filter="url(#glow)"' : ''} />
                                            <path d="M 220 100 L 220 122.5 L 150 122.5 L 150 145" fill="none" stroke="${glow ? '#ff9800' : '#4caf50'}" stroke-width="2" ${glow ? 'filter="url(#glow)"' : ''} />
                                            
                                            <!-- Level 3 to 4 -->
                                            <path d="M 150 170 L 150 215" fill="none" stroke="${glow ? '#ff9800' : '#4caf50'}" stroke-width="2" ${glow ? 'filter="url(#glow)"' : ''} />
                                        </svg>
                                        
                                        <!-- Nodes -->
                                        <!-- Level 1: Multipliers (Top: 5px) -->
                                        <div style="position: absolute; top: 5px; left: 45px; transform: translateX(-50%); border: 1px solid #4caf50; width: 60px; height: 25px; display: flex; align-items: center; justify-content: center; gap: 2px; background: #000;">
                                            <div style="width: 15px; height: 15px; border: 1px solid #4caf50;"></div>
                                            <div style="color: #2196f3; font-weight: bold;">×</div>
                                            <div style="width: 15px; height: 15px; border: 1px solid #4caf50;"></div>
                                        </div>
                                        <div style="position: absolute; top: 5px; left: 115px; transform: translateX(-50%); border: 1px solid #4caf50; width: 60px; height: 25px; display: flex; align-items: center; justify-content: center; gap: 2px; background: #000;">
                                            <div style="width: 15px; height: 15px; border: 1px solid #4caf50;"></div>
                                            <div style="color: #2196f3; font-weight: bold;">×</div>
                                            <div style="width: 15px; height: 15px; border: 1px solid #4caf50;"></div>
                                        </div>
                                        <div style="position: absolute; top: 5px; left: 185px; transform: translateX(-50%); border: 1px solid #4caf50; width: 60px; height: 25px; display: flex; align-items: center; justify-content: center; gap: 2px; background: #000;">
                                            <div style="width: 15px; height: 15px; border: 1px solid #4caf50;"></div>
                                            <div style="color: #2196f3; font-weight: bold;">×</div>
                                            <div style="width: 15px; height: 15px; border: 1px solid #4caf50;"></div>
                                        </div>
                                        <div style="position: absolute; top: 5px; left: 255px; transform: translateX(-50%); border: 1px solid #4caf50; width: 60px; height: 25px; display: flex; align-items: center; justify-content: center; gap: 2px; background: #000;">
                                            <div style="width: 15px; height: 15px; border: 1px solid #4caf50;"></div>
                                            <div style="color: #2196f3; font-weight: bold;">×</div>
                                            <div style="width: 15px; height: 15px; border: 1px solid #4caf50;"></div>
                                        </div>
                                        
                                        <!-- Level 2: Adders (Top: 75px) -->
                                        <div style="position: absolute; top: 75px; left: 80px; transform: translateX(-50%); border: 1px solid #ff9800; width: 60px; height: 25px; display: flex; align-items: center; justify-content: center; gap: 2px; background: #000;">
                                            <div style="width: 15px; height: 15px; border: 1px solid #ff9800;"></div>
                                            <div style="color: #2196f3; font-weight: bold;">+</div>
                                            <div style="width: 15px; height: 15px; border: 1px solid #ff9800;"></div>
                                        </div>
                                        <div style="position: absolute; top: 75px; left: 220px; transform: translateX(-50%); border: 1px solid #ff9800; width: 60px; height: 25px; display: flex; align-items: center; justify-content: center; gap: 2px; background: #000;">
                                            <div style="width: 15px; height: 15px; border: 1px solid #ff9800;"></div>
                                            <div style="color: #2196f3; font-weight: bold;">+</div>
                                            <div style="width: 15px; height: 15px; border: 1px solid #ff9800;"></div>
                                        </div>
                                        
                                        <!-- Level 3: Adder (Top: 145px) -->
                                        <div style="position: absolute; top: 145px; left: 150px; transform: translateX(-50%); border: 1px solid #ff9800; width: 60px; height: 25px; display: flex; align-items: center; justify-content: center; gap: 2px; background: #000;">
                                            <div style="width: 15px; height: 15px; border: 1px solid #ff9800;"></div>
                                            <div style="color: #2196f3; font-weight: bold;">+</div>
                                            <div style="width: 15px; height: 15px; border: 1px solid #ff9800;"></div>
                                        </div>
                                        
                                        <!-- Level 4: Result (Top: 215px) -->
                                        <div style="position: absolute; top: 215px; left: 150px; transform: translateX(-50%); border: 1px solid #ff9800; width: 30px; height: 30px; background: #000;"></div>
                                    </div>
                                </div>`;

                            const npuListTpl = `
                                <div style="display: flex; flex-direction: column; justify-content: space-around; height: 100%;">
                                    <div style="display: flex; align-items: center; justify-content: center; gap: 5px; color: #4caf50; font-family: 'Courier New', monospace; font-size: 1rem; font-weight: bold;">
                                        a×b + c×d + e×f <i class="fas fa-check" style="color: #4caf50; margin-left: 5px;"></i>
                                    </div>
                                    <div style="display: flex; align-items: center; justify-content: center; gap: 5px; color: #f44336; font-family: 'Courier New', monospace; font-size: 1rem; font-weight: bold;">
                                        a×b + c×d × e×f <i class="fas fa-times" style="color: #f44336; margin-left: 5px;"></i>
                                    </div>
                                    <div style="display: flex; align-items: center; justify-content: center; gap: 5px; color: #f44336; font-family: 'Courier New', monospace; font-size: 1rem; font-weight: bold;">
                                        a×b × c + d×e + f <i class="fas fa-times" style="color: #f44336; margin-left: 5px;"></i>
                                    </div>
                                    <div style="display: flex; align-items: center; justify-content: center; gap: 5px; color: #f44336; font-family: 'Courier New', monospace; font-size: 1rem; font-weight: bold;">
                                        a×b × c × d + e×f <i class="fas fa-times" style="color: #f44336; margin-left: 5px;"></i>
                                    </div>
                                </div>`;

                            let state = 0;

                            function update() {
                                if (state === 0) {
                                    // Image 1: Structure
                                    gpuRows.innerHTML = gpuBoxTpl.repeat(4);
                                    npuStage.innerHTML = npuTreeTpl(false);
                                } else if (state === 1) {
                                    // Image 2: Execution
                                    gpuRows.innerHTML = gpuFormulaTpl.repeat(4);
                                    npuStage.innerHTML = npuTreeTpl(true);
                                } else if (state === 2) {
                                    // Image 3: Limitation
                                    gpuRows.innerHTML = gpuFormulaTpl.repeat(4);
                                    npuStage.innerHTML = npuListTpl;
                                }

                                state = (state + 1) % 3;
                            }

                            update();
                            setInterval(update, 3000);
                        })();
                    </script>
                </div>


        </section>

        <!-- PART VII: Summary -->
        <section class="reveal">
            <h2>07_总结</h2>
            <div class="no-scrollbar"
                style="height: 85vh; overflow-y: auto; width: 100%; max-width: 1000px; margin: 0 auto;">

                <!-- Animation Stage: CPU vs GPU vs NPU -->
                <div class="summary-stage">
                    <!-- Scene 1: CPU -->
                    <div class="summary-scene scene-1">
                        <div class="scene-1-layout">
                            <div class="chip-box">
                                <div class="chip-pins-v"></div>
                                <div class="chip-pins-v right"></div>
                                <div class="chip-label-top">通用型处理器</div>
                                <div class="chip-inner">CPU</div>
                            </div>
                            <div class="code-panel">
                                <span style="color:#569cd6">if</span> (a > 10) {<br>
                                &nbsp;&nbsp;b = a + 5;<br>
                                } <span style="color:#c586c0">else</span> {<br>
                                &nbsp;&nbsp;b = a + 3;<br>
                                }<br>
                                <span style="color:#dcdcaa">printf</span>(b);
                            </div>
                        </div>
                        <div class="cpu-banner">核心数不足 (Insufficient Cores)</div>
                    </div>

                    <!-- Scene 2: GPU -->
                    <div class="summary-scene scene-2">
                        <div class="gpu-layout">
                            <div class="chip-box">
                                <div class="chip-pins-v"></div>
                                <div class="chip-pins-v right"></div>
                                <div class="chip-label-top">图形处理器</div>
                                <div class="chip-inner"
                                    style="background: radial-gradient(circle at 30% 30%, #333, #000);">GPU</div>
                            </div>
                            <div class="gpu-tasks">
                                <div class="task-item">图形处理 (Graphics)</div>
                                <div class="task-item">科学计算 (Science)</div>
                                <div class="task-item">AI 领域 (AI)</div>
                            </div>
                        </div>
                    </div>

                    <!-- Scene 3: NPU -->
                    <div class="summary-scene scene-3">
                        <div class="npu-layout">
                            <div class="chip-box" style="transform: scale(0.9);">
                                <div class="chip-pins-v"></div>
                                <div class="chip-pins-v right"></div>
                                <div class="chip-label-top" style="color:#ffb347; text-shadow:0 0 10px #ff8c00;">NPU
                                </div>
                                <div class="chip-inner"
                                    style="background: radial-gradient(circle at 30% 30%, #444, #222);">NPU</div>
                            </div>
                            <div class="npu-features">
                                <div class="feature-bubble">功耗更低 (Lower Power)</div>
                                <div class="feature-bubble">算力配置更灵活 (Flexible)</div>
                                <div class="feature-bubble">应用场景更多 (Versatile)</div>
                            </div>
                            <div class="chip-box" style="transform: scale(0.7); opacity: 0.5; filter: grayscale(1);">
                                <div class="chip-pins-v"></div>
                                <div class="chip-pins-v right"></div>
                                <div class="chip-inner">GPU</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="display: flex; gap: 20px; justify-content: center; margin-top: 30px; align-items: stretch;">

                    <!-- CPU Card -->
                    <div
                        style="flex: 1; background: rgba(33, 150, 243, 0.1); border: 1px solid rgba(33, 150, 243, 0.3); border-radius: 12px; padding: 20px; display: flex; flex-direction: column; transition: transform 0.3s;">
                        <div
                            style="border-bottom: 1px solid rgba(33, 150, 243, 0.3); padding-bottom: 10px; margin-bottom: 15px; text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: 900; color: #2196f3; margin-bottom: 5px;">CPU
                            </div>
                            <div style="font-size: 0.9rem; color: #90caf9; letter-spacing: 1px;">通用型处理器</div>
                        </div>
                        <div style="flex: 1; margin-bottom: 15px;">
                            <div
                                style="font-size: 0.85rem; color: #888; margin-bottom: 5px; text-transform: uppercase;">
                                核心优势</div>
                            <div style="font-size: 1rem; color: #fff; line-height: 1.4;">处理<span
                                    style="color: #2196f3;">复杂逻辑</span>、多类型数学运算</div>
                        </div>
                        <div>
                            <div
                                style="font-size: 0.85rem; color: #888; margin-bottom: 5px; text-transform: uppercase;">
                                适用场景</div>
                            <div
                                style="font-size: 0.9rem; color: #ccc; background: rgba(33, 150, 243, 0.15); padding: 8px; border-radius: 6px;">
                                <i class="fas fa-cogs" style="margin-right: 5px; color: #2196f3;"></i>系统逻辑控制、分支任务判断
                            </div>
                        </div>
                    </div>

                    <!-- GPU Card -->
                    <div
                        style="flex: 1; background: rgba(244, 67, 54, 0.1); border: 1px solid rgba(244, 67, 54, 0.3); border-radius: 12px; padding: 20px; display: flex; flex-direction: column; transition: transform 0.3s;">
                        <div
                            style="border-bottom: 1px solid rgba(244, 67, 54, 0.3); padding-bottom: 10px; margin-bottom: 15px; text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: 900; color: #f44336; margin-bottom: 5px;">GPU
                            </div>
                            <div style="font-size: 0.9rem; color: #ef9a9a; letter-spacing: 1px;">半通用型 (GPGPU)</div>
                        </div>
                        <div style="flex: 1; margin-bottom: 15px;">
                            <div
                                style="font-size: 0.85rem; color: #888; margin-bottom: 5px; text-transform: uppercase;">
                                核心优势</div>
                            <div style="font-size: 1rem; color: #fff; line-height: 1.4;">大量<span
                                    style="color: #f44336;">并行重复运算</span>、图形渲染</div>
                        </div>
                        <div>
                            <div
                                style="font-size: 0.85rem; color: #888; margin-bottom: 5px; text-transform: uppercase;">
                                适用场景</div>
                            <div
                                style="font-size: 0.9rem; color: #ccc; background: rgba(244, 67, 54, 0.15); padding: 8px; border-radius: 6px;">
                                <i class="fas fa-gamepad" style="margin-right: 5px; color: #f44336;"></i>3D渲染、科学计算、AI训练
                            </div>
                        </div>
                    </div>

                    <!-- NPU Card -->
                    <div
                        style="flex: 1; background: rgba(76, 175, 80, 0.1); border: 1px solid rgba(76, 175, 80, 0.3); border-radius: 12px; padding: 20px; display: flex; flex-direction: column; transition: transform 0.3s; transform: scale(1.05); box-shadow: 0 0 20px rgba(76, 175, 80, 0.2);">
                        <div
                            style="border-bottom: 1px solid rgba(76, 175, 80, 0.3); padding-bottom: 10px; margin-bottom: 15px; text-align: center;">
                            <div style="font-size: 1.8rem; font-weight: 900; color: #4caf50; margin-bottom: 5px;">NPU
                            </div>
                            <div style="font-size: 0.9rem; color: #a5d6a7; letter-spacing: 1px;">AI特化处理器</div>
                        </div>
                        <div style="flex: 1; margin-bottom: 15px;">
                            <div
                                style="font-size: 0.85rem; color: #888; margin-bottom: 5px; text-transform: uppercase;">
                                核心优势</div>
                            <div style="font-size: 1rem; color: #fff; line-height: 1.4;">硬件级<span
                                    style="color: #4caf50;">矩阵运算</span>、低功耗、灵活部署</div>
                        </div>
                        <div>
                            <div
                                style="font-size: 0.85rem; color: #888; margin-bottom: 5px; text-transform: uppercase;">
                                适用场景</div>
                            <div
                                style="font-size: 0.9rem; color: #ccc; background: rgba(76, 175, 80, 0.15); padding: 8px; border-radius: 6px;">
                                <i class="fas fa-brain" style="margin-right: 5px; color: #4caf50;"></i>神经网络加速、边缘AI、推理
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- PART VIII: Personal AI Computing Paradigm -->
        <section class="reveal">
            <div class="no-scrollbar" style="height: 85vh; overflow-y: auto; width: 100%;">
                <h2>08_摩尔线程-AI BOOK: 个人AI计算新范式</h2>

                <!-- Architecture Diagram Container -->
                <div
                    style="width: 100%; max-width: 900px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1.5fr 1fr; grid-template-rows: auto auto auto; gap: 20px; height: 600px;">

                    <!-- 1. Top: Smart Agents (The Brain/Application) -->
                    <div
                        style="grid-column: 2; grid-row: 1; background: rgba(156, 39, 176, 0.15); border: 2px solid #ab47bc; border-radius: 12px; padding: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 0 20px rgba(171, 71, 188, 0.3); position: relative;">
                        <div
                            style="position: absolute; top: -15px; background: #000; padding: 0 10px; color: #ab47bc; font-weight: bold; border: 1px solid #ab47bc; border-radius: 4px;">
                            AI BOOK 核心</div>

                        <!-- Visual: Avatar -->
                        <div
                            style="width: 60px; height: 60px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, #ab47bc, #4a148c); border: 2px solid #fff; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 15px #ab47bc; margin-bottom: 10px;">
                            <i class="fas fa-user-astronaut" style="color: #fff; font-size: 1.8rem;"></i>
                        </div>

                        <div style="font-size: 1.4rem; font-weight: bold; color: #fff; margin-bottom: 5px;">智能体 (Smart
                            Agents)</div>
                        <div style="font-size: 0.9rem; color: #e1bee7; text-align: center;">自主感知 · 规划决策 · 复杂任务执行</div>
                    </div>

                    <!-- Connector Lines (Visual Only) -->
                    <div style="grid-column: 2; grid-row: 1; pointer-events: none; position: relative; z-index: -1;">
                        <!-- Vertical Line Down -->
                        <div
                            style="position: absolute; bottom: -20px; left: 50%; width: 2px; height: 40px; background: linear-gradient(to bottom, #ab47bc, #00bcd4);">
                        </div>
                    </div>

                    <!-- 2. Middle Left: Moer Academy (Ecosystem) -->
                    <div
                        style="grid-column: 1; grid-row: 2; background: rgba(255, 152, 0, 0.1); border: 1px solid rgba(255, 152, 0, 0.5); border-radius: 12px; padding: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                        <i class="fas fa-graduation-cap"
                            style="font-size: 2rem; color: #ffa726; margin-bottom: 10px;"></i>
                        <div style="font-size: 1.1rem; font-weight: bold; color: #fff; margin-bottom: 5px;">摩尔学院</div>
                        <div style="font-size: 0.8rem; color: #ffcc80; text-align: center;">人才培养 · 课程认证</div>
                    </div>

                    <!-- 3. Middle Center: Edge-Cloud (Connection) -->
                    <div
                        style="grid-column: 2; grid-row: 2; background: rgba(0, 188, 212, 0.1); border: 1px solid rgba(0, 188, 212, 0.5); border-radius: 12px; padding: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center;">

                        <!-- Visual: Edge-Cloud -->
                        <div style="display: flex; gap: 15px; align-items: center; margin-bottom: 10px;">
                            <!-- Edge Cube -->
                            <div
                                style="width: 30px; height: 30px; background: rgba(0, 188, 212, 0.2); border: 1px solid #00bcd4; transform: rotateX(20deg) rotateY(20deg); box-shadow: 0 0 5px #00bcd4; display: flex; align-items: center; justify-content: center; font-size: 0.6rem; color: #fff;">
                                Edge</div>
                            <i class="fas fa-exchange-alt" style="color: #00bcd4;"></i>
                            <!-- Cloud Stack -->
                            <div style="display: flex; flex-direction: column; gap: 2px;">
                                <div style="width: 30px; height: 6px; background: #333; border: 1px solid #555;"></div>
                                <div style="width: 30px; height: 6px; background: #333; border: 1px solid #555;"></div>
                                <div style="width: 30px; height: 6px; background: #333; border: 1px solid #555;"></div>
                            </div>
                        </div>

                        <div style="font-size: 1.2rem; font-weight: bold; color: #fff; margin-bottom: 5px;">端云协同
                            (Edge-Cloud)</div>
                        <div style="font-size: 0.9rem; color: #80deea; text-align: center;">模型部署 · 持续迭代 · 联邦学习</div>
                    </div>

                    <!-- 4. Middle Right: Dev Environment (Tools) -->
                    <div
                        style="grid-column: 3; grid-row: 2; background: rgba(76, 175, 80, 0.1); border: 1px solid rgba(76, 175, 80, 0.5); border-radius: 12px; padding: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center;">
                        <i class="fas fa-code" style="font-size: 2rem; color: #66bb6a; margin-bottom: 10px;"></i>
                        <div style="font-size: 1.1rem; font-weight: bold; color: #fff; margin-bottom: 5px;">开发环境</div>
                        <div style="font-size: 0.8rem; color: #a5d6a7; text-align: center;">全栈工具 · 低代码 · 调试</div>
                    </div>

                    <!-- Connector Lines (Visual Only) -->
                    <div style="grid-column: 2; grid-row: 2; pointer-events: none; position: relative; z-index: -1;">
                        <!-- Vertical Line Down -->
                        <div
                            style="position: absolute; bottom: -20px; left: 50%; width: 2px; height: 40px; background: linear-gradient(to bottom, #00bcd4, #2196f3);">
                        </div>
                    </div>

                    <!-- 5. Bottom: AI Computing Platform (Foundation) -->
                    <div
                        style="grid-column: 1 / span 3; grid-row: 3; background: rgba(33, 150, 243, 0.15); border: 2px solid #2196f3; border-radius: 12px; padding: 20px; display: flex; flex-direction: row; align-items: center; justify-content: space-around; box-shadow: 0 0 20px rgba(33, 150, 243, 0.2);">
                        <div style="display: flex; flex-direction: column; align-items: center; width: 30%;">
                            <!-- Visual: Chip -->
                            <div
                                style="width: 50px; height: 50px; background: #000; border: 1px solid #444; border-radius: 4px; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 10px rgba(33, 150, 243, 0.5); margin-bottom: 10px;">
                                <div
                                    style="width: 30px; height: 30px; border: 1px solid #2196f3; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: bold; font-size: 0.6rem;">
                                    AB100</div>
                            </div>
                            <div style="font-size: 1.5rem; font-weight: 900; color: #fff; margin-bottom: 5px;">AI 计算平台
                            </div>
                            <div style="font-size: 0.9rem; color: #90caf9;">Heterogeneous Computing</div>
                        </div>

                        <!-- Hardware Icons -->
                        <div style="display: flex; gap: 30px; align-items: center;">
                            <div style="text-align: center;">
                                <div
                                    style="width: 50px; height: 50px; border: 2px solid #2196f3; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin-bottom: 5px; background: rgba(33, 150, 243, 0.2);">
                                    CPU</div>
                                <div style="font-size: 0.7rem; color: #aaa;">逻辑控制</div>
                            </div>
                            <div style="font-size: 1.5rem; color: #555;">+</div>
                            <div style="text-align: center;">
                                <div
                                    style="width: 50px; height: 50px; border: 2px solid #f44336; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin-bottom: 5px; background: rgba(244, 67, 54, 0.2);">
                                    GPU</div>
                                <div style="font-size: 0.7rem; color: #aaa;">通用并行</div>
                            </div>
                            <div style="font-size: 1.5rem; color: #555;">+</div>
                            <div style="text-align: center;">
                                <div
                                    style="width: 50px; height: 50px; border: 2px solid #4caf50; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin-bottom: 5px; background: rgba(76, 175, 80, 0.2);">
                                    NPU</div>
                                <div style="font-size: 0.7rem; color: #aaa;">AI加速</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- PART IX: Moore Threads AI Panorama -->
        <section class="reveal">
            <h2>09_摩尔线程-AI全景生态</h2>

            <div class="no-scrollbar"
                style="height: 85vh; overflow-y: auto; width: 100%; max-width: 900px; margin: 0 auto; display: flex; flex-direction: column; gap: 15px; justify-content: flex-start; padding-bottom: 50px;">

                <!-- 1. AI Applications (Top) -->
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <div
                        style="text-align: center; font-size: 1.4rem; font-weight: bold; color: #fff; margin-bottom: 2px;">
                        AI 应用 应有<span style="color: #ab47bc; font-size: 1.6rem;">「尽有」</span>
                    </div>

                    <!-- App Grid -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <!-- Large Card 1: Ma Liang -->
                        <div
                            style="background: rgba(156, 39, 176, 0.1); border: 1px solid rgba(156, 39, 176, 0.3); border-radius: 8px; padding: 10px; display: flex; align-items: center; gap: 10px;">
                            <div
                                style="width: 40px; height: 40px; background: #ab47bc; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-paint-brush" style="color: #fff; font-size: 1.5rem;"></i>
                            </div>
                            <div>
                                <div style="font-weight: bold; color: #fff; font-size: 1.2rem;">摩笔马良</div>
                                <div style="font-size: 1.0rem; color: #ce93d8;">文生图 / 图生图</div>
                            </div>
                        </div>
                        <!-- Large Card 2: Heavenly Book -->
                        <div
                            style="background: rgba(156, 39, 176, 0.1); border: 1px solid rgba(156, 39, 176, 0.3); border-radius: 8px; padding: 10px; display: flex; align-items: center; gap: 10px;">
                            <div
                                style="width: 40px; height: 40px; background: #8e24aa; border-radius: 6px; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-book-open" style="color: #fff; font-size: 1.5rem;"></i>
                            </div>
                            <div>
                                <div style="font-weight: bold; color: #fff; font-size: 1.2rem;">摩笔天书</div>
                                <div style="font-size: 1.0rem; color: #ce93d8;">文生多模态绘本创作</div>
                            </div>
                        </div>
                    </div>

                    <!-- Small App Row -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px;">
                        <div
                            style="background: rgba(156, 39, 176, 0.05); border: 1px solid rgba(156, 39, 176, 0.2); border-radius: 6px; padding: 8px; text-align: center;">
                            <i class="fas fa-microphone-alt"
                                style="color: #ab47bc; margin-bottom: 3px; font-size: 1.2rem;"></i>
                            <div style="font-weight: bold; font-size: 1.1rem; color: #fff;">摩语精灵</div>
                            <div style="font-size: 0.9rem; color: #aaa;">在线AI语音合成</div>
                        </div>
                        <div
                            style="background: rgba(156, 39, 176, 0.05); border: 1px solid rgba(156, 39, 176, 0.2); border-radius: 6px; padding: 8px; text-align: center;">
                            <i class="fas fa-file-audio"
                                style="color: #ab47bc; margin-bottom: 3px; font-size: 1.2rem;"></i>
                            <div style="font-weight: bold; font-size: 1.1rem; color: #fff;">摩音笔记</div>
                            <div style="font-size: 0.9rem; color: #aaa;">端侧AI语音转写</div>
                        </div>
                        <div
                            style="background: rgba(156, 39, 176, 0.05); border: 1px solid rgba(156, 39, 176, 0.2); border-radius: 6px; padding: 8px; text-align: center;">
                            <i class="fas fa-brain" style="color: #ab47bc; margin-bottom: 3px; font-size: 1.2rem;"></i>
                            <div style="font-weight: bold; font-size: 1.1rem; color: #fff;">个人知识库</div>
                            <div style="font-size: 0.9rem; color: #aaa;">私人AI智库</div>
                        </div>
                    </div>
                </div>

                <!-- 2. Moer Academy (Middle) -->
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <div
                        style="text-align: center; font-size: 1.4rem; font-weight: bold; color: #fff; margin-bottom: 2px;">
                        畅游摩尔学院 成为<span style="color: #2196f3; font-size: 1.6rem;">「大师」</span>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <!-- Expert -->
                        <div
                            style="flex: 1; background: rgba(33, 150, 243, 0.1); border: 1px solid rgba(33, 150, 243, 0.3); border-radius: 8px; padding: 10px; text-align: center;">
                            <div
                                style="width: 40px; height: 40px; margin: 0 auto 5px; border-radius: 50%; background: #1565c0; display: flex; align-items: center; justify-content: center; border: 2px solid #fff;">
                                <i class="fas fa-user-tie" style="color: #fff; font-size: 1.5rem;"></i>
                            </div>
                            <div style="font-weight: bold; color: #fff; font-size: 1.2rem;">专家执教</div>
                            <div style="font-size: 1.0rem; color: #90caf9;">产学研结合</div>
                        </div>
                        <!-- Courses -->
                        <div
                            style="flex: 1; background: rgba(33, 150, 243, 0.1); border: 1px solid rgba(33, 150, 243, 0.3); border-radius: 8px; padding: 10px; text-align: center;">
                            <div
                                style="width: 40px; height: 40px; margin: 0 auto 5px; border-radius: 50%; background: #1976d2; display: flex; align-items: center; justify-content: center; border: 2px solid #fff;">
                                <i class="fas fa-book" style="color: #fff; font-size: 1.5rem;"></i>
                            </div>
                            <div style="font-weight: bold; color: #fff; font-size: 1.2rem;">AI 课程完备</div>
                            <div style="font-size: 1.0rem; color: #90caf9;">基础知识到开发实战</div>
                        </div>
                        <!-- Assistant -->
                        <div
                            style="flex: 1; background: rgba(33, 150, 243, 0.1); border: 1px solid rgba(33, 150, 243, 0.3); border-radius: 8px; padding: 10px; text-align: center;">
                            <div
                                style="width: 40px; height: 40px; margin: 0 auto 5px; border-radius: 50%; background: #1e88e5; display: flex; align-items: center; justify-content: center; border: 2px solid #fff;">
                                <i class="fas fa-robot" style="color: #fff; font-size: 1.5rem;"></i>
                            </div>
                            <div style="font-weight: bold; color: #fff; font-size: 1.2rem;">AI 助教</div>
                            <div style="font-size: 1.0rem; color: #90caf9;">知识问答 高效学习</div>
                        </div>
                    </div>
                </div>

                <!-- 3. AI Development (Bottom) -->
                <div style="display: flex; flex-direction: column; gap: 8px;">
                    <div
                        style="text-align: center; font-size: 1.4rem; font-weight: bold; color: #fff; margin-bottom: 2px;">
                        AI 开发 开箱<span style="color: #4caf50; font-size: 1.6rem;">「即用」</span>
                    </div>
                    <div
                        style="background: rgba(76, 175, 80, 0.1); border: 1px solid rgba(76, 175, 80, 0.3); border-radius: 8px; padding: 12px; display: flex; gap: 15px; align-items: center;">
                        <!-- Left: Laptop Visual -->
                        <div
                            style="flex: 0 0 160px; height: 110px; display: flex; flex-direction: column; align-items: center; justify-content: center; perspective: 600px;">
                            <!-- Screen Lid -->
                            <div
                                style="width: 120px; height: 75px; background: #222; border: 2px solid #555; border-bottom: none; border-radius: 4px 4px 0 0; position: relative; display: flex; flex-direction: column; box-shadow: 0 -5px 15px rgba(76, 175, 80, 0.1); transform: rotateX(-5deg); transform-origin: bottom;">
                                <!-- Bezel Camera -->
                                <div
                                    style="height: 4px; display: flex; justify-content: center; align-items: center; background: #333;">
                                    <div style="width: 2px; height: 2px; background: #777; border-radius: 50%;"></div>
                                </div>
                                <!-- Screen Content -->
                                <div
                                    style="flex: 1; background: #0a0a0a; padding: 4px; font-family: 'Courier New', monospace; font-size: 7px; line-height: 1.3; overflow: hidden; border: 1px solid #000;">
                                    <div style="color: #4caf50;">> import torch</div>
                                    <div style="color: #4caf50;">> import moer_musa</div>
                                    <div style="color: #ccc;">> device = "musa"</div>
                                    <div style="color: #ccc;">> model.to(device)</div>
                                    <div style="color: #ffeb3b; margin-top: 2px;">[SUCCESS] 50TOPS Ready</div>
                                    <div style="color: #4caf50;">> _</div>
                                </div>
                            </div>
                            <!-- Base -->
                            <div
                                style="width: 140px; height: 8px; background: linear-gradient(to bottom, #444, #222); border-radius: 2px 2px 6px 6px; position: relative; z-index: 2; box-shadow: 0 5px 15px rgba(0,0,0,0.5);">
                                <!-- Trackpad indentation -->
                                <div
                                    style="position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 40px; height: 2px; background: #1a1a1a; border-radius: 0 0 2px 2px;">
                                </div>
                            </div>
                            <!-- Bottom Shadow/Glow -->
                            <div
                                style="width: 130px; height: 10px; background: radial-gradient(ellipse at center, rgba(76, 175, 80, 0.3) 0%, transparent 70%); margin-top: -4px; filter: blur(4px);">
                            </div>
                        </div>

                        <!-- Right: Specs List -->
                        <div style="flex: 1; display: flex; flex-direction: column; gap: 5px;">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-microchip" style="color: #4caf50; width: 20px;"></i>
                                <span style="color: #ccc; font-size: 1.1rem;">50TOPS 旗舰级异构算力 + 32GB大内存 + 1TB SSD</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fab fa-linux" style="color: #4caf50; width: 20px;"></i>
                                <span style="color: #ccc; font-size: 1.1rem;">Linux 定制版本 + GPU Driver + 配套
                                    Toolkit</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fab fa-docker" style="color: #4caf50; width: 20px;"></i>
                                <span style="color: #ccc; font-size: 1.1rem;">预装 Docker + DNN 对应镜像 (简化配置)</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <i class="fas fa-tools" style="color: #4caf50; width: 20px;"></i>
                                <span style="color: #ccc; font-size: 1.1rem;">VS Code, Jupyter, PyTorch, Pandas,
                                    Matplotlib...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 4. AIBOOK Hardware Details (New) -->
                <div
                    style="display: flex; flex-direction: column; gap: 8px; margin-top: 5px; border-top: 1px dashed #333; padding-top: 10px;">
                    <div
                        style="text-align: center; font-size: 1.1rem; font-weight: bold; color: #fff; margin-bottom: 2px;">
                        AIBOOK 算力本 <span style="color: #4caf50;">硬件详情</span>
                    </div>

                    <!-- Features Row -->
                    <div style="display: flex; gap: 10px;">
                        <!-- Craftsmanship -->
                        <div
                            style="flex: 1; background: rgba(76, 175, 80, 0.05); border: 1px solid rgba(76, 175, 80, 0.2); border-radius: 8px; padding: 10px;">
                            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 5px;">
                                <i class="fas fa-feather-alt" style="color: #4caf50;"></i>
                                <strong style="color: #fff; font-size: 1.0rem;">「匠心」工艺 轻盈随行</strong>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 5px; text-align: center;">
                                <div>
                                    <div style="font-size: 1.1rem; color: #81c784; font-weight: bold;">1.35<span
                                            style="font-size: 0.8rem;">kg</span></div>
                                    <div style="font-size: 0.75rem; color: #aaa;">轻至</div>
                                </div>
                                <div>
                                    <div style="font-size: 1.1rem; color: #81c784; font-weight: bold;">12.4<span
                                            style="font-size: 0.8rem;">mm</span></div>
                                    <div style="font-size: 0.75rem; color: #aaa;">薄至</div>
                                </div>
                            </div>
                            <div style="margin-top: 5px; font-size: 0.75rem; color: #888; text-align: center;">
                                近 180° 超大开合 / 无孔机身一体成型
                            </div>
                        </div>

                        <!-- Display -->
                        <div
                            style="flex: 1; background: rgba(76, 175, 80, 0.05); border: 1px solid rgba(76, 175, 80, 0.2); border-radius: 8px; padding: 10px;">
                            <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 5px;">
                                <i class="fas fa-eye" style="color: #4caf50;"></i>
                                <strong style="color: #fff; font-size: 1.0rem;">超清视界 色彩「灵动」</strong>
                            </div>
                            <div
                                style="display: grid; grid-template-columns: 1fr 1fr; gap: 3px; font-size: 0.8rem; color: #ccc;">
                                <div><i class="fas fa-check" style="color: #4caf50; font-size: 0.6rem;"></i> 14" OLED
                                </div>
                                <div><i class="fas fa-check" style="color: #4caf50; font-size: 0.6rem;"></i> 2.8K 高分
                                </div>
                                <div><i class="fas fa-check" style="color: #4caf50; font-size: 0.6rem;"></i> 120Hz 高刷
                                </div>
                                <div><i class="fas fa-check" style="color: #4caf50; font-size: 0.6rem;"></i> 10.7亿色
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Specs Table -->
                    <div
                        style="background: rgba(0, 0, 0, 0.3); border: 1px solid #333; border-radius: 8px; padding: 8px; font-size: 0.8rem;">
                        <table style="width: 100%; border-collapse: collapse; color: #ccc;">
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 3px; color: #888;">处理器</td>
                                <td style="padding: 3px; color: #fff;">AB100</td>
                                <td style="padding: 3px; color: #888;">内存</td>
                                <td style="padding: 3px; color: #fff;">32GB LPDDR5 (102.4GB/s)</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 3px; color: #888;">存储</td>
                                <td style="padding: 3px; color: #fff;">1TB SSD 固态硬盘</td>
                                <td style="padding: 3px; color: #888;">电池</td>
                                <td style="padding: 3px; color: #fff;">70Wh (100W Type-C)</td>
                            </tr>
                            <tr style="border-bottom: 1px solid #333;">
                                <td style="padding: 3px; color: #888;">屏幕</td>
                                <td style="padding: 3px; color: #fff;" colspan="3">14" OLED, 2.8K (2880*1800), 16:10,
                                    91%屏占比, 100% DCI-P3</td>
                            </tr>
                            <tr>
                                <td style="padding: 3px; color: #888;">接口</td>
                                <td style="padding: 3px; color: #fff;" colspan="3">3 x Type-C, 3.5mm AUX, Wi-Fi 6 + BT
                                    5.2</td>
                            </tr>
                        </table>
                    </div>
                </div>

            </div>
        </section>

        <!-- PART X: E300 AI Module -->
        <section class="reveal">
            <h2>10_摩尔线程-E300 AI计算模组</h2>

            <div class="no-scrollbar"
                style="height: 85vh; overflow-y: auto; width: 100%; max-width: 900px; margin: 0 auto; display: flex; flex-direction: row; gap: 30px; align-items: center; justify-content: center; padding: 0 20px;">

                <!-- Left Column: Visual & Intro -->
                <div style="flex: 1; display: flex; flex-direction: column; gap: 25px; align-items: center;">

                    <!-- CSS Drawing of E300 Module -->
                    <div class="e300-module-visual"
                        style="position: relative; width: 320px; height: 440px; background: #2e7d32; border-radius: 6px; box-shadow: 0 20px 50px rgba(0,0,0,0.6); border: 2px solid #1b5e20; display: flex; flex-direction: column; align-items: center; padding: 20px; overflow: hidden;">
                        <!-- PCB Texture -->
                        <div
                            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px); background-size: 20px 20px; pointer-events: none;">
                        </div>

                        <!-- Mounting Holes -->
                        <div
                            style="position: absolute; top: 15px; left: 15px; width: 14px; height: 14px; background: #e0e0e0; border-radius: 50%; border: 3px solid #aaa; box-shadow: inset 0 0 2px #000;">
                        </div>
                        <div
                            style="position: absolute; top: 15px; right: 15px; width: 14px; height: 14px; background: #e0e0e0; border-radius: 50%; border: 3px solid #aaa; box-shadow: inset 0 0 2px #000;">
                        </div>
                        <div
                            style="position: absolute; bottom: 50px; left: 15px; width: 14px; height: 14px; background: #e0e0e0; border-radius: 50%; border: 3px solid #aaa; box-shadow: inset 0 0 2px #000;">
                        </div>
                        <div
                            style="position: absolute; bottom: 50px; right: 15px; width: 14px; height: 14px; background: #e0e0e0; border-radius: 50%; border: 3px solid #aaa; box-shadow: inset 0 0 2px #000;">
                        </div>

                        <!-- Components Area -->
                        <div style="width: 100%; flex: 1; position: relative; z-index: 1;">
                            <!-- Main SoC (Center) -->
                            <div
                                style="position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%); width: 160px; height: 160px; background: #212121; border: 2px solid #424242; display: flex; align-items: center; justify-content: center; box-shadow: 0 5px 15px rgba(0,0,0,0.5);">
                                <div
                                    style="width: 110px; height: 110px; background: linear-gradient(135deg, #f5f5f5, #cfcfcf); display: flex; flex-direction: column; align-items: center; justify-content: center; border: 1px solid #999; box-shadow: inset 0 0 10px rgba(0,0,0,0.1);">
                                    <i class="fas fa-microchip"
                                        style="font-size: 2.5rem; color: #424242; margin-bottom: 8px;"></i>
                                    <div
                                        style="font-size: 0.9rem; font-weight: 900; color: #212121; letter-spacing: 1px;">
                                        爱薄智能</div>
                                    <div style="font-size: 0.7rem; color: #616161; margin-top: 2px;">AB100</div>
                                </div>
                            </div>

                            <!-- Memory Chips (Around) -->
                            <div
                                style="position: absolute; top: 10px; left: 50%; transform: translateX(-50%); width: 120px; height: 45px; background: #111; border: 1px solid #333; display: flex; align-items: center; justify-content: center; color: #555; font-size: 0.6rem;">
                                LPDDR5</div>
                            <div
                                style="position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%); width: 120px; height: 45px; background: #111; border: 1px solid #333;">
                            </div>
                            <div
                                style="position: absolute; left: 10px; top: 45%; transform: translateY(-50%); width: 45px; height: 120px; background: #111; border: 1px solid #333;">
                            </div>
                            <div
                                style="position: absolute; right: 10px; top: 45%; transform: translateY(-50%); width: 45px; height: 120px; background: #111; border: 1px solid #333;">
                            </div>

                            <!-- Small Components (Resistors) -->
                            <div
                                style="position: absolute; top: 20px; left: 30px; width: 8px; height: 16px; background: #bdbdbd; border: 1px solid #757575;">
                            </div>
                            <div
                                style="position: absolute; top: 20px; right: 30px; width: 8px; height: 16px; background: #bdbdbd; border: 1px solid #757575;">
                            </div>
                            <div
                                style="position: absolute; bottom: 40px; left: 40px; width: 16px; height: 8px; background: #8d6e63; border: 1px solid #5d4037;">
                            </div>
                            <div
                                style="position: absolute; bottom: 40px; right: 40px; width: 16px; height: 8px; background: #8d6e63; border: 1px solid #5d4037;">
                            </div>
                        </div>

                        <!-- MXM Connector Pins -->
                        <div
                            style="width: 100%; height: 25px; background: #1b5e20; margin-top: auto; display: flex; justify-content: center; align-items: flex-end; overflow: hidden; border-top: 1px solid #388e3c;">
                            <div
                                style="width: 95%; height: 15px; background: repeating-linear-gradient(90deg, #ffd700 0, #ffd700 2px, transparent 2px, transparent 4px);">
                            </div>
                        </div>
                    </div>

                    <!-- Intro Text -->
                    <div
                        style="background: rgba(33, 150, 243, 0.1); border-left: 4px solid #2196f3; padding: 15px; border-radius: 0 8px 8px 0; width: 100%; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                        <h4 style="color: #2196f3; margin: 0 0 10px 0; font-size: 1.1rem;">边缘AI计算旗舰平台</h4>
                        <p style="font-size: 0.9rem; color: #ccc; line-height: 1.6; margin: 0;">
                            专为边缘AI场景设计，搭载国产自主 <strong>AB100 SoC</strong>。集成大核CPU、先进GPU及高效NPU，提供 <strong>50TOPS</strong>
                            算力。支持全栈AI架构，兼容主流训练推理框架，助力行业用户快速构建自主可控的边缘AI解决方案。
                        </p>
                    </div>
                </div>

                <!-- Right Column: Specs Table -->
                <div
                    style="flex: 1.3; height: 100%; overflow-y: auto; background: rgba(10, 10, 10, 0.6); border-radius: 8px; padding: 15px; border: 1px solid #333; box-shadow: inset 0 0 20px rgba(0,0,0,0.5);">
                    <style>
                        .e300-table {
                            width: 100%;
                            border-collapse: collapse;
                            font-size: 0.85rem;
                            color: #ddd;
                            font-family: 'Microsoft YaHei', sans-serif;
                        }

                        .e300-table th {
                            background: linear-gradient(90deg, rgba(33, 150, 243, 0.2), transparent);
                            color: #2196f3;
                            padding: 12px;
                            text-align: left;
                            border-bottom: 2px solid #2196f3;
                            font-size: 1rem;
                            text-transform: uppercase;
                            letter-spacing: 1px;
                        }

                        .e300-table td {
                            padding: 10px 12px;
                            border-bottom: 1px solid #333;
                            vertical-align: top;
                        }

                        .e300-table tr:last-child td {
                            border-bottom: none;
                        }

                        .e300-table tr:hover {
                            background: rgba(255, 255, 255, 0.03);
                        }

                        .e300-label {
                            color: #90caf9;
                            font-weight: bold;
                            width: 25%;
                            background: rgba(33, 150, 243, 0.05);
                        }

                        .e300-val {
                            color: #fff;
                        }

                        .e300-sub {
                            display: block;
                            font-size: 0.75rem;
                            color: #888;
                            margin-top: 2px;
                        }
                    </style>
                    <table class="e300-table">
                        <thead>
                            <tr>
                                <th colspan="2"><i class="fas fa-list-ul" style="margin-right: 10px;"></i>E300 AI
                                    计算模组规格参数</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="e300-label">模组尺寸</td>
                                <td class="e300-val">60mm x 82mm <span class="e300-sub">MXM 314 PIN 标准接口</span></td>
                            </tr>
                            <tr>
                                <td class="e300-label">CPU 性能</td>
                                <td class="e300-val">8 x 全大核 @ 2.65GHz <span class="e300-sub">高性能通用计算处理</span></td>
                            </tr>
                            <tr>
                                <td class="e300-label">AI 算力</td>
                                <td class="e300-val">
                                    <div style="margin-bottom: 4px;"><span
                                            style="color: #4caf50; font-weight: bold;">INT8: 50 TOPS</span></div>
                                    <div style="font-size: 0.8rem; color: #ccc;">FP16: 12 TFLOPS / FP32: 3 TFLOPS</div>
                                </td>
                            </tr>
                            <tr>
                                <td class="e300-label">内存规格</td>
                                <td class="e300-val">
                                    16GB / 32GB LPDDR5
                                    <span class="e300-sub">带宽高达 102.4 GB/s</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="e300-label">编解码能力</td>
                                <td class="e300-val">
                                    <div style="margin-bottom: 4px;"><strong>编码:</strong> 1x8K@30fps / 4x4K@30fps</div>
                                    <div><strong>解码:</strong> 2x8K@30fps / 8x4K@30fps</div>
                                    <span class="e300-sub">支持 H.265 / H.264 / AV1 / MJPEG</span>
                                </td>
                            </tr>
                            <tr>
                                <td class="e300-label">ISP 能力</td>
                                <td class="e300-val">最高支持 32MP HDR</td>
                            </tr>
                            <tr>
                                <td class="e300-label">丰富接口</td>
                                <td class="e300-val">
                                    <ul style="margin: 0; padding-left: 15px; font-size: 0.8rem; color: #ccc;">
                                        <li>4 x USB 3.2 Gen1 / USB 2.0</li>
                                        <li>14-lane PCIe 5.0 (8+4+2)</li>
                                        <li>4 x DP1.4 (or eDP1.4b)</li>
                                        <li>2 x DSI (4-lane), 2 x CSI (4-lane)</li>
                                        <li>2 x Ethernet 10/100/1000M RJ45</li>
                                    </ul>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- PART XI: Full Scenario AI Computing -->
        <section class="reveal">
            <h2>11_摩尔线程-全场景AI计算平台</h2>

            <div
                style="height: 100%; overflow-y: auto; padding: 0 20px; scrollbar-width: none; -ms-overflow-style: none;">
                <style>
                    /* Hide scrollbar for Chrome, Safari and Opera */
                    .reveal div::-webkit-scrollbar {
                        display: none;
                    }

                    .fs-section-title {
                        font-size: 1.4rem;
                        color: #fff;
                        font-weight: bold;
                        border-left: 5px solid;
                        padding-left: 15px;
                        margin-bottom: 20px;
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                    }

                    .fs-card {
                        background: linear-gradient(180deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.02) 100%);
                        border: 1px solid rgba(255, 255, 255, 0.1);
                        border-radius: 12px;
                        padding: 25px 20px;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        text-align: center;
                        transition: all 0.3s ease;
                        position: relative;
                        overflow: hidden;
                    }

                    .fs-card:hover {
                        transform: translateY(-5px);
                        background: linear-gradient(180deg, rgba(255, 255, 255, 0.12) 0%, rgba(255, 255, 255, 0.05) 100%);
                        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
                        border-color: rgba(255, 255, 255, 0.2);
                    }

                    .fs-icon-box {
                        width: 80px;
                        height: 80px;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        margin-bottom: 20px;
                        background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
                        box-shadow: 0 0 15px currentColor, inset 0 0 10px rgba(255, 255, 255, 0.2);
                        border: 2px solid currentColor;
                        position: relative;
                        z-index: 1;
                    }

                    .fs-icon-box::before {
                        content: '';
                        position: absolute;
                        top: -8px;
                        left: -8px;
                        right: -8px;
                        bottom: -8px;
                        border-radius: 50%;
                        border: 1px dashed currentColor;
                        opacity: 0.4;
                        animation: fs-spin 20s linear infinite;
                        z-index: -1;
                    }

                    .fs-icon-box i {
                        text-shadow: 0 0 5px currentColor;
                    }

                    @keyframes fs-spin {
                        100% {
                            transform: rotate(360deg);
                        }
                    }

                    .fs-card-title {
                        font-size: 1.3rem;
                        font-weight: bold;
                        color: #fff;
                        margin-bottom: 8px;
                    }

                    .fs-card-desc {
                        font-size: 0.9rem;
                        color: #aaa;
                        line-height: 1.5;
                    }

                    /* Architecture Diagram Styles - Updated */
                    .arch-grid {
                        display: grid;
                        grid-template-columns: 2.8fr 1.2fr;
                        gap: 15px;
                        background: #fff;
                        padding: 15px;
                        border-radius: 8px;
                        border: 1px solid #ccc;
                        font-family: 'Arial', sans-serif;
                        color: #333;
                    }

                    .arch-col {
                        display: flex;
                        flex-direction: column;
                        gap: 8px;
                    }

                    /* Common Box Styles */
                    .arch-box {
                        background: #fff;
                        border: 1px solid #ddd;
                        color: #333;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 0.65rem;
                        text-align: center;
                        padding: 5px;
                        border-radius: 2px;
                        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
                    }

                    .arch-label {
                        font-size: 0.7rem;
                        font-weight: bold;
                        color: #555;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        background: #f5f5f5;
                        border: 1px solid #ddd;
                    }

                    /* Left Side Specifics */
                    .arch-header-row {
                        display: grid;
                        grid-template-columns: 90px 1fr;
                        gap: 5px;
                        margin-bottom: 5px;
                    }

                    .arch-purple-bar {
                        background: #e8eaf6;
                        color: #3f51b5;
                        font-weight: bold;
                        border: 1px dashed #3f51b5;
                        padding: 6px;
                        text-align: center;
                        font-size: 0.8rem;
                        margin: 5px 0;
                    }

                    .arch-app-layer {
                        background: #f3e5f5;
                        border: 1px solid #e1bee7;
                        padding: 10px;
                        display: flex;
                        flex-direction: column;
                        gap: 5px;
                        position: relative;
                    }

                    .arch-app-tag {
                        position: absolute;
                        top: 0;
                        left: 0;
                        background: #7b1fa2;
                        color: #fff;
                        font-size: 0.6rem;
                        padding: 2px 6px;
                        font-weight: bold;
                    }

                    .arch-interface-row {
                        display: grid;
                        grid-template-columns: 90px 1fr;
                        gap: 5px;
                    }

                    .arch-driver-row {
                        display: grid;
                        grid-template-columns: 90px 110px 1fr;
                        gap: 5px;
                    }

                    .arch-hardware-row {
                        display: grid;
                        grid-template-columns: repeat(10, 1fr);
                        gap: 3px;
                        margin-top: 5px;
                    }

                    /* Right Side Specifics */
                    .arch-right-section {
                        border: 1px solid #eee;
                        padding: 10px;
                        background: #fafafa;
                        display: flex;
                        flex-direction: column;
                        gap: 5px;
                    }

                    .arch-right-title {
                        font-size: 0.8rem;
                        font-weight: bold;
                        text-align: center;
                        margin-bottom: 5px;
                        color: #333;
                    }

                    .arch-sub-col {
                        display: flex;
                        flex-direction: column;
                        gap: 4px;
                    }

                    .arch-list-item {
                        font-size: 0.6rem;
                        color: #666;
                        text-align: center;
                        padding: 1px 0;
                    }
                </style>

                <!-- 1. AI Computing (Hybrid Architecture) -->
                <div style="margin-bottom: 30px;">
                    <div class="fs-section-title" style="border-color: #ab47bc;">
                        <span>01. AI 计算: 端云一体混合架构</span>
                        <span style="font-size: 0.9rem; color: #ab47bc; font-weight: normal;">基于端云一体的混合 AI 架构，提供全栈 AI
                            计算解决方案</span>
                    </div>

                    <div style="display: flex; gap: 25px;">
                        <!-- Left: 3 Pillars -->
                        <div style="flex: 1; display: flex; flex-direction: column; gap: 15px;">
                            <div class="fs-card">
                                <div class="fs-icon-box" style="color: #ab47bc; border-color: #ab47bc;">
                                    <i class="fas fa-layer-group" style="font-size: 2rem;"></i>
                                </div>
                                <div class="fs-card-title">全栈 AI</div>
                                <div class="fs-card-desc">高性能异构 AI 计算平台<br>智能 AIOS 操作系统<br>智能体 AI 应用</div>
                            </div>
                            <div class="fs-card">
                                <div class="fs-icon-box" style="color: #ab47bc; border-color: #ab47bc;">
                                    <i class="fas fa-infinity" style="font-size: 2rem;"></i>
                                </div>
                                <div class="fs-card-title">端云一体</div>
                                <div class="fs-card-desc">端云协同混合 AI<br>全场景应用</div>
                            </div>
                            <div class="fs-card">
                                <div class="fs-icon-box" style="color: #ab47bc; border-color: #ab47bc;">
                                    <i class="fas fa-share-alt" style="font-size: 1.8rem;"></i>
                                </div>
                                <div class="fs-card-title">开放生态</div>
                                <div class="fs-card-desc">开放生态合作<br>携手共建共赢</div>
                            </div>
                        </div>

                        <!-- Right: Architecture Diagram -->
                        <div style="flex: 2.5;">
                            <div class="arch-grid">
                                <!-- LEFT COLUMN: Main Stack -->
                                <div class="arch-col">
                                    <!-- 1. Smart Agent Apps -->
                                    <div class="arch-header-row">
                                        <div class="arch-label">智能体应用</div>
                                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 3px;">
                                            <div class="arch-box">AI 数字人</div>
                                            <div class="arch-box">AI 助理</div>
                                            <div class="arch-box">AI 互动教学</div>
                                            <div class="arch-box">AI 应用商店</div>
                                            <div class="arch-box">AI 会议大师</div>
                                        </div>
                                    </div>

                                    <!-- 2. AIOS/Service SDKs -->
                                    <div class="arch-purple-bar">AIOS / Service SDKs</div>

                                    <!-- 3. Application Layer -->
                                    <div class="arch-app-layer">
                                        <div class="arch-app-tag">AIOS</div>
                                        <div
                                            style="text-align: center; font-weight: bold; font-size: 0.75rem; color: #4a148c; margin-top: 5px;">
                                            Application Layer</div>
                                        <div
                                            style="text-align: center; font-size: 0.7rem; color: #6a1b9a; background: rgba(255,255,255,0.5); padding: 2px;">
                                            AI 服务</div>
                                        <div
                                            style="text-align: center; font-size: 0.65rem; color: #666; background: #fff; border: 1px solid #eee; padding: 2px;">
                                            LLMs / TTS / ASR / Digital Human / ...</div>

                                        <div
                                            style="display: grid; grid-template-columns: repeat(9, 1fr); gap: 2px; margin-top: 5px;">
                                            <div class="arch-box" style="flex-direction: column;">Agent<br>Manager</div>
                                            <div class="arch-box" style="flex-direction: column;">RAG<br>System</div>
                                            <div class="arch-box" style="flex-direction: column;">Memory<br>Manager
                                            </div>
                                            <div class="arch-box" style="flex-direction: column;">Context<br>Manager
                                            </div>
                                            <div class="arch-box" style="flex-direction: column;">Perception<br><span
                                                    style="font-size:0.5rem; color:#888;">KWS/ASR/Camera</span></div>
                                            <div class="arch-box" style="flex-direction: column;">Planning<br>Scheduler
                                            </div>
                                            <div class="arch-box" style="flex-direction: column;">Action<br>Tool System
                                            </div>
                                            <div class="arch-box" style="flex-direction: column;">Presentation<br><span
                                                    style="font-size:0.5rem; color:#888;">TTS/模型表情</span></div>
                                            <div class="arch-box" style="flex-direction: column;">Unity 3D<br>Rendering
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 4. Interface -->
                                    <div class="arch-interface-row">
                                        <div class="arch-label" style="font-size: 0.6rem;">AI 计算系统接口</div>
                                        <div
                                            style="display: grid; grid-template-columns: 1fr 1.2fr 1fr 1fr 1.2fr; gap: 3px;">
                                            <div class="arch-box">PyTorch</div>
                                            <div class="arch-box">神经网络模型推理</div>
                                            <div class="arch-box">大模型推理</div>
                                            <div class="arch-box">语音模型推理</div>
                                            <div class="arch-box">多模态模型推理</div>
                                        </div>
                                    </div>

                                    <!-- 5. Software/Driver -->
                                    <div style="display: grid; grid-template-columns: 90px 1fr; gap: 5px;">
                                        <div class="arch-label"
                                            style="writing-mode: vertical-lr; transform: rotate(180deg); text-align: center;">
                                            Software/Driver</div>
                                        <div style="display: grid; grid-template-columns: 110px 1fr; gap: 5px;">
                                            <div style="display: flex; flex-direction: column; gap: 2px;">
                                                <div class="arch-box">Process Scheduler</div>
                                                <div class="arch-box">Memory Manager</div>
                                                <div class="arch-box">Filesystem Manager</div>
                                            </div>
                                            <div style="display: flex; flex-direction: column; gap: 2px;">
                                                <div
                                                    style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 2px;">
                                                    <div class="arch-box">DNN</div>
                                                    <div class="arch-box">muAlg SPARSE</div>
                                                    <div class="arch-box">OpenGL</div>
                                                    <div class="arch-box">Vulkan</div>
                                                    <div class="arch-box">Rendering</div>
                                                </div>
                                                <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 2px;">
                                                    <div class="arch-box">Runtime</div>
                                                    <div class="arch-box">GPU Driver</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 6. Hardware -->
                                    <div style="position: relative; padding-top: 15px;">
                                        <div class="arch-app-tag" style="top: 2px; background: #311b92;">AIOS Layer
                                        </div>
                                        <div class="arch-hardware-row">
                                            <div class="arch-box">AB100</div>
                                            <div class="arch-box">CPU</div>
                                            <div class="arch-box">GPU</div>
                                            <div class="arch-box">NPU</div>
                                            <div class="arch-box">VPU/DPU</div>
                                            <div class="arch-box">DSP/ISP</div>
                                            <div class="arch-box">Memory</div>
                                            <div class="arch-box">Audio</div>
                                            <div class="arch-box">ISP</div>
                                            <div class="arch-box" style="font-size: 0.55rem;">Peripheral Devices</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- RIGHT COLUMN: Cloud Services -->
                                <div class="arch-col">
                                    <!-- Cloud AI Services -->
                                    <div class="arch-right-section">
                                        <div class="arch-right-title">Cloud AI Services</div>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 3px;">
                                            <div class="arch-sub-col">
                                                <div class="arch-box" style="font-weight: bold;">Voice</div>
                                                <div class="arch-list-item">KWS</div>
                                                <div class="arch-list-item">ASR</div>
                                                <div class="arch-list-item">TTS</div>
                                                <div class="arch-list-item">Voice Clone</div>
                                            </div>
                                            <div class="arch-sub-col">
                                                <div class="arch-box" style="font-weight: bold;">LLMs</div>
                                                <div class="arch-list-item">Multi-Model</div>
                                                <div class="arch-list-item">Long Context</div>
                                                <div class="arch-list-item">Agent</div>
                                            </div>
                                            <div class="arch-sub-col">
                                                <div class="arch-box" style="font-weight: bold;">Driver</div>
                                                <div class="arch-list-item">口型驱动</div>
                                                <div class="arch-list-item">动作生成</div>
                                                <div class="arch-list-item">表情生成</div>
                                                <div class="arch-list-item" style="font-size: 0.5rem;">Speech2Animation
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Model Studio -->
                                    <div class="arch-right-section">
                                        <div class="arch-right-title">Model Studio</div>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2px;">
                                            <div class="arch-box">Training</div>
                                            <div class="arch-box">Finetune</div>
                                            <div class="arch-box">Inference</div>
                                        </div>
                                        <div
                                            style="display: grid; grid-template-columns: 1fr 2fr; gap: 2px; margin-top: 2px;">
                                            <div class="arch-box" style="font-size: 0.55rem;">AI 运行环境</div>
                                            <div style="display: flex; flex-direction: column; gap: 1px;">
                                                <div class="arch-box" style="font-size: 0.5rem;">PyTorch/大模型推理引擎...
                                                </div>
                                                <div class="arch-box" style="font-size: 0.55rem;">统一架构</div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Platform -->
                                    <div class="arch-right-section">
                                        <div class="arch-right-title">Platform</div>
                                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 2px;">
                                            <div class="arch-box" style="font-size: 0.55rem;">GPU 管理<br>和调度</div>
                                            <div class="arch-box" style="font-size: 0.55rem;">负载管理<br>和调度</div>
                                            <div class="arch-box" style="font-size: 0.55rem;">集群<br>管理</div>
                                            <div class="arch-box" style="font-size: 0.55rem;">监控<br>运维</div>
                                        </div>
                                    </div>

                                    <!-- Infrastructure -->
                                    <div
                                        style="text-align: center; font-weight: bold; font-size: 0.9rem; margin-top: 10px;">
                                        智算 基础设施
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2. Edge Computing -->
                <div style="margin-bottom: 30px;">
                    <div class="fs-section-title" style="border-color: #2196f3;">
                        <span>02. 边缘计算: 赋能千行百业</span>
                        <span style="font-size: 0.9rem; color: #2196f3; font-weight: normal;">基于性能强劲的 AI 计算模组，提供边缘 AI
                            解决方案</span>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                        <div class="fs-card">
                            <div class="fs-icon-box" style="color: #2196f3; border-color: #2196f3;">
                                <i class="fas fa-microchip" style="font-size: 2rem;"></i>
                            </div>
                            <div class="fs-card-title">高性能芯片</div>
                            <div class="fs-card-desc">高算力 / 高速本地 AI 计算<br>高宽带 / 多任务并行无卡顿<br>兼容 CUDA 和 MUSA 生态</div>
                        </div>
                        <div class="fs-card">
                            <div class="fs-icon-box" style="color: #2196f3; border-color: #2196f3;">
                                <i class="fas fa-brain" style="font-size: 2rem;"></i>
                            </div>
                            <div class="fs-card-title">AI 赋能</div>
                            <div class="fs-card-desc">AI 嵌入式软件栈<br>端云一体混合 AI<br>AI 应用端到端加速</div>
                        </div>
                        <div class="fs-card">
                            <div class="fs-icon-box" style="color: #2196f3; border-color: #2196f3;">
                                <i class="fas fa-lightbulb" style="font-size: 2rem;"></i>
                            </div>
                            <div class="fs-card-title">边缘创新</div>
                            <div class="fs-card-desc">开放生态合作<br>支持多种高速接口<br>满足各行业自主应用需求</div>
                        </div>
                    </div>
                </div>

                <!-- 3. In-Vehicle Computing -->
                <div style="margin-bottom: 25px;">
                    <div class="fs-section-title" style="border-color: #ff9800;">
                        <span>03. 车载计算: 智能座舱与智驾</span>
                        <span style="font-size: 0.9rem; color: #ff9800; font-weight: normal;">基于性能强劲的异构 AI
                            计算平台，提供融合解决方案</span>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
                        <div class="fs-card">
                            <div class="fs-icon-box" style="color: #ff9800; border-color: #ff9800;">
                                <i class="fas fa-microchip" style="font-size: 2rem;"></i>
                            </div>
                            <div class="fs-card-title">高性能芯片</div>
                            <div class="fs-card-desc">高带宽 多任务并行无卡顿<br>超强 3D 渲染能力<br>兼容 CUDA 和 MUSA 生态</div>
                        </div>
                        <div class="fs-card">
                            <div class="fs-icon-box" style="color: #ff9800; border-color: #ff9800;">
                                <i class="fas fa-cube" style="font-size: 2rem;"></i>
                            </div>
                            <div class="fs-card-title">本地部署模型</div>
                            <div class="fs-card-desc">LLM / CV / BEV 等<br>模型本地运行<br>超强 3D 渲染能力</div>
                        </div>
                        <div class="fs-card">
                            <div class="fs-icon-box" style="color: #ff9800; border-color: #ff9800;">
                                <i class="fas fa-desktop" style="font-size: 2rem;"></i>
                            </div>
                            <div class="fs-card-title">一芯多屏</div>
                            <div class="fs-card-desc">8 屏显示<br>16 路摄像头<br>广泛兼容多种 OS</div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- PART XII: Ending -->
        <section class="reveal" id="slide-end" data-title="结束页">
            <div class="end-container">
                <div class="scanline"></div>
                <div class="glitch-wrapper">
                    <h1 class="glitch" data-text="THANKS FOR WATCHING">THANKS FOR WATCHING</h1>
                </div>
                <div class="sub-glitch">MOORE THREADS // AI COMPUTING</div>

                <div class="shutdown-sequence">
                    <div class="cmd-line">> INITIATING SYSTEM SHUTDOWN...</div>
                    <div class="cmd-line">> SAVING SESSION DATA... [OK]</div>
                    <div class="cmd-line">> DISCONNECTING NEURAL LINK... [OK]</div>
                    <div class="cmd-line">> TERMINATING...</div>
                    <div class="blinking-cursor">_</div>
                </div>

                <div class="loader-bar">
                    <div class="loader-progress"></div>
                </div>
            </div>

            <style>
                #slide-end {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    background: #000;
                    overflow: hidden;
                    position: relative;
                }

                .end-container {
                    text-align: center;
                    position: relative;
                    z-index: 10;
                    width: 100%;
                    height: 100%;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                }

                /* Glitch Effect */
                .glitch-wrapper {
                    margin-bottom: 20px;
                }

                .glitch {
                    font-size: 4rem;
                    font-weight: bold;
                    color: #fff;
                    text-transform: uppercase;
                    position: relative;
                    text-shadow: 2px 2px 0px #ff00ff, -2px -2px 0px #00ffff;
                    animation: glitch-skew 1s infinite linear alternate-reverse;
                }

                .glitch::before,
                .glitch::after {
                    content: attr(data-text);
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                }

                .glitch::before {
                    left: 2px;
                    text-shadow: -1px 0 #ff00c1;
                    clip: rect(44px, 450px, 56px, 0);
                    animation: glitch-anim 5s infinite linear alternate-reverse;
                }

                .glitch::after {
                    left: -2px;
                    text-shadow: -1px 0 #00fff9;
                    clip: rect(44px, 450px, 56px, 0);
                    animation: glitch-anim2 1s infinite linear alternate-reverse;
                }

                @keyframes glitch-anim {
                    0% {
                        clip: rect(30px, 9999px, 10px, 0);
                    }

                    20% {
                        clip: rect(80px, 9999px, 90px, 0);
                    }

                    40% {
                        clip: rect(10px, 9999px, 50px, 0);
                    }

                    60% {
                        clip: rect(60px, 9999px, 20px, 0);
                    }

                    80% {
                        clip: rect(40px, 9999px, 70px, 0);
                    }

                    100% {
                        clip: rect(90px, 9999px, 30px, 0);
                    }
                }

                @keyframes glitch-anim2 {
                    0% {
                        clip: rect(10px, 9999px, 80px, 0);
                    }

                    20% {
                        clip: rect(50px, 9999px, 10px, 0);
                    }

                    40% {
                        clip: rect(90px, 9999px, 60px, 0);
                    }

                    60% {
                        clip: rect(20px, 9999px, 40px, 0);
                    }

                    80% {
                        clip: rect(70px, 9999px, 30px, 0);
                    }

                    100% {
                        clip: rect(30px, 9999px, 90px, 0);
                    }
                }

                .sub-glitch {
                    font-size: 1.5rem;
                    color: #00ff00;
                    letter-spacing: 5px;
                    margin-bottom: 50px;
                    font-family: 'Courier New', monospace;
                    border-right: 2px solid #00ff00;
                    white-space: nowrap;
                    overflow: hidden;
                    animation: typing 3s steps(30, end), blink-caret .75s step-end infinite;
                    width: fit-content;
                }

                @keyframes typing {
                    from {
                        width: 0
                    }

                    to {
                        width: 100%
                    }
                }

                @keyframes blink-caret {

                    from,
                    to {
                        border-color: transparent
                    }

                    50% {
                        border-color: #00ff00;
                    }
                }

                /* Terminal Output */
                .shutdown-sequence {
                    text-align: left;
                    font-family: 'Courier New', monospace;
                    color: #aaa;
                    font-size: 1rem;
                    margin-bottom: 40px;
                    width: 500px;
                }

                .cmd-line {
                    margin-bottom: 5px;
                    opacity: 0;
                    animation: fade-in 0.5s forwards;
                }

                .cmd-line:nth-child(1) {
                    animation-delay: 1s;
                }

                .cmd-line:nth-child(2) {
                    animation-delay: 2s;
                }

                .cmd-line:nth-child(3) {
                    animation-delay: 3s;
                }

                .cmd-line:nth-child(4) {
                    animation-delay: 4s;
                }

                @keyframes fade-in {
                    from {
                        opacity: 0;
                    }

                    to {
                        opacity: 1;
                    }
                }

                .blinking-cursor {
                    display: inline-block;
                    width: 10px;
                    height: 15px;
                    background: #00ff00;
                    animation: blink 1s infinite;
                }

                @keyframes blink {

                    0%,
                    100% {
                        opacity: 1;
                    }

                    50% {
                        opacity: 0;
                    }
                }

                /* Loader */
                .loader-bar {
                    width: 300px;
                    height: 4px;
                    background: #333;
                    position: relative;
                    overflow: hidden;
                }

                .loader-progress {
                    width: 100%;
                    height: 100%;
                    background: #00ff00;
                    transform: translateX(-100%);
                    animation: load-progress 5s ease-in-out forwards;
                    animation-delay: 1s;
                }

                @keyframes load-progress {
                    to {
                        transform: translateX(0);
                    }
                }

                /* Scanline */
                .scanline {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.2) 50%, rgba(0, 0, 0, 0.2));
                    background-size: 100% 4px;
                    pointer-events: none;
                    z-index: 20;
                }
            </style>
        </section>

    </div>

    <footer>
        <p>GENERATED_BY_AI_ASSISTANT // TERMINAL_SESSION_END</p>
        <p>2025 © CORP_DATA_SYSTEMS</p>
    </footer>

    <script>
        // Inject Retro Grid into each section
        document.querySelectorAll('section').forEach(section => {
            const grid = document.createElement('div');
            grid.classList.add('retro-grid');
            section.insertBefore(grid, section.firstChild);
        });

        // PPT Navigation Logic
        const slides = document.querySelectorAll(".reveal");
        let currentSlide = 0;

        // Generate Navigation Menu
        const navList = document.getElementById('nav-list');
        if (navList) {
            slides.forEach((slide, index) => {
                // Try to find a title
                let title = "SLIDE_" + index;
                const h1 = slide.querySelector('h1');
                const h2 = slide.querySelector('h2');
                const dataTitle = slide.getAttribute('data-title');

                if (dataTitle) {
                    title = dataTitle;
                } else if (h1 && index === 0) {
                    title = "首页";
                } else if (h2) {
                    title = h2.innerText.split('(')[0].trim(); // Take main part
                } else if (h1) {
                    title = h1.innerText;
                }

                // Truncate if too long
                if (title.length > 28) title = title.substring(0, 28) + "...";

                const li = document.createElement('li');
                li.classList.add('nav-item');

                const a = document.createElement('a');
                a.classList.add('nav-link');
                a.innerText = title;
                a.onclick = (e) => {
                    e.stopPropagation(); // Prevent document click
                    currentSlide = index;
                    showSlide(currentSlide);
                };

                li.appendChild(a);
                navList.appendChild(li);
            });
        }

        function showSlide(index) {
            // Update Page Indicator
            const pageIndicator = document.getElementById('page-indicator');
            if (pageIndicator) {
                // Format: PAGE 01/08
                const current = (index + 1).toString().padStart(2, '0');
                const total = slides.length.toString().padStart(2, '0');
                pageIndicator.innerText = `PAGE ${current}/${total}`;
            }

            slides.forEach((slide, i) => {
                if (i === index) {
                    slide.classList.add("active");
                    // Reset animations if needed
                    const svg = slide.querySelector('svg');
                    if (svg && svg.setCurrentTime) svg.setCurrentTime(0);
                } else {
                    slide.classList.remove("active");
                }
            });
        }

        // Initialize first slide
        showSlide(currentSlide);

        // Mouse Navigation
        document.addEventListener('mousedown', (e) => {
            // Ignore clicks on interactive elements like buttons or links or modals or the interactive chip or detail overlay or music toggle
            if (e.target.closest('button') || e.target.closest('a') || e.target.closest('.modal-card') || e.target.closest('.close-btn') || e.target.closest('.chip-stack') || e.target.closest('#detail-overlay') || e.target.closest('.music-toggle') || e.target.closest('#model-3d-container')) return;

            // Ignore clicks on scrollbar
            // If the target is the section (which has the scrollbar), check if click is outside client area
            if (e.target.tagName === 'SECTION') {
                if (e.offsetX > e.target.clientWidth || e.offsetY > e.target.clientHeight) {
                    return;
                }
            }

            if (e.button === 0) { // Left Click -> Next
                if (currentSlide < slides.length - 1) {
                    currentSlide++;
                    showSlide(currentSlide);
                }
            } else if (e.button === 2) { // Right Click -> Prev
                if (currentSlide > 0) {
                    currentSlide--;
                    showSlide(currentSlide);
                }
            }
        });

        // Prevent Context Menu on Right Click
        document.addEventListener('contextmenu', event => event.preventDefault());

        // Keyboard Navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                if (currentSlide < slides.length - 1) {
                    currentSlide++;
                    showSlide(currentSlide);
                }
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                if (currentSlide > 0) {
                    currentSlide--;
                    showSlide(currentSlide);
                }
            }
        });

        // Typing effect
        const headerText = "CORE_POWER_INTELLIGENT_UNIVERSE_INIT";
        const headerP = document.querySelector('.protocol-text');

        if (headerP) {
            function runTyping(onComplete) {
                headerP.innerText = "";
                let i = 0;
                function type() {
                    if (i < headerText.length) {
                        headerP.innerHTML += headerText.charAt(i);
                        i++;
                        setTimeout(type, 50);
                    } else {
                        if (onComplete) onComplete();
                    }
                }
                type();
            }

            // Initial run
            setTimeout(() => {
                runTyping(() => {
                    // Start loop after 5s from page load (approx 2.2s after finish)
                    setTimeout(loopTyping, 2200);
                });
            }, 1000);

            function loopTyping() {
                runTyping(() => {
                    // Wait 2s before retyping
                    setTimeout(loopTyping, 2000);
                });
            }
        }

        // --- Advanced Interaction Scripts ---

        // 1. Optimized Custom Cursor Logic
        const cursor = document.createElement('div');
        cursor.classList.add('custom-cursor');

        const cursorScan = document.createElement('div');
        cursorScan.classList.add('cursor-scan');
        cursor.appendChild(cursorScan);

        const cursorInner = document.createElement('div');
        cursorInner.classList.add('cursor-inner');
        cursor.appendChild(cursorInner);

        document.body.appendChild(cursor);

        let cursorX = 0;
        let cursorY = 0;
        let cursorRafId = null;
        let cursorTimeout = null;

        // Use requestAnimationFrame for smooth visual updates
        document.addEventListener('mousemove', (e) => {
            cursorX = e.clientX;
            cursorY = e.clientY;

            // Show cursor
            cursor.style.opacity = '1';

            // Reset timeout
            if (cursorTimeout) clearTimeout(cursorTimeout);
            cursorTimeout = setTimeout(() => {
                cursor.style.opacity = '0';
            }, 3000);

            if (!cursorRafId) {
                cursorRafId = requestAnimationFrame(() => {
                    // Use translate3d for GPU acceleration
                    // Only translate the container. The inner element handles centering (-50%, -50%)
                    cursor.style.transform = `translate3d(${cursorX}px, ${cursorY}px, 0)`;
                    cursorRafId = null;
                });
            }
        });

        // Add hover effect to interactive elements
        document.querySelectorAll('a, button, .reveal, h2, h3, tr, p, li, span').forEach(el => {
            el.addEventListener('mouseenter', () => cursor.classList.add('hovered'));
            el.addEventListener('mouseleave', () => cursor.classList.remove('hovered'));
        });

        // 2. Optimized 3D Tilt Effect for Cards
        document.querySelectorAll('.reveal, .modal-card').forEach(card => {
            card.style.transformStyle = 'preserve-3d';
            card.style.perspective = '1000px';
            // Hint browser to promote layer
            card.style.willChange = 'transform';

            let cardRafId = null;
            let bounds = null;

            // Cache bounds on mouse enter to avoid layout thrashing during move
            card.addEventListener('mouseenter', () => {
                bounds = card.getBoundingClientRect();
            });

            card.addEventListener('mousemove', (e) => {
                if (cardRafId) return;

                cardRafId = requestAnimationFrame(() => {
                    // Fallback if bounds missing
                    if (!bounds) bounds = card.getBoundingClientRect();

                    const x = e.clientX - bounds.left;
                    const y = e.clientY - bounds.top;

                    const centerX = bounds.width / 2;
                    const centerY = bounds.height / 2;

                    // Calculate rotation (max 0.5 degrees to be subtle)
                    const rotateX = ((y - centerY) / centerY) * -0.5;
                    const rotateY = ((x - centerX) / centerX) * 0.5;

                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.01)`;

                    cardRafId = null;
                });
            });

            card.addEventListener('mouseleave', () => {
                if (cardRafId) {
                    cancelAnimationFrame(cardRafId);
                    cardRafId = null;
                }
                // Clear inline transform to let CSS take over
                card.style.transform = '';
                bounds = null; // Clear cache
            });
        });

        // 3. Text Scramble Effect
        class TextScramble {
            constructor(el) {
                this.el = el;
                this.chars = '!<>-_\\/[]{}—=+*^?#________';
                this.update = this.update.bind(this);
            }
            setText(newText) {
                const oldText = this.el.innerText;
                const length = Math.max(oldText.length, newText.length);
                const promise = new Promise((resolve) => this.resolve = resolve);
                this.queue = [];
                for (let i = 0; i < length; i++) {
                    const from = oldText[i] || '';
                    const to = newText[i] || '';
                    const start = Math.floor(Math.random() * 60);
                    const end = start + Math.floor(Math.random() * 60);
                    this.queue.push({ from, to, start, end });
                }
                cancelAnimationFrame(this.frameRequest);
                this.frame = 0;
                this.update();
                return promise;
            }
            update() {
                let output = '';
                let complete = 0;
                for (let i = 0, n = this.queue.length; i < n; i++) {
                    let { from, to, start, end, char } = this.queue[i];
                    if (this.frame >= end) {
                        complete++;
                        output += to;
                    } else if (this.frame >= start) {
                        if (!char || Math.random() < 0.02) {
                            char = this.randomChar();
                            this.queue[i].char = char;
                        }
                        output += `<span class="dud">${char}</span>`;
                    } else {
                        output += from;
                    }
                }
                this.el.innerHTML = output;
                if (complete === this.queue.length) {
                    this.resolve();
                } else {
                    this.frameRequest = requestAnimationFrame(this.update);
                    this.frame++;
                }
            }
            randomChar() {
                return this.chars[Math.floor(Math.random() * this.chars.length)];
            }
        }

        // Apply Scramble to H2 titles
        document.querySelectorAll('h2').forEach(el => {
            const fx = new TextScramble(el);
            let originalText = el.innerText;

            // Scramble on hover
            el.addEventListener('mouseenter', () => {
                fx.setText(originalText);
            });
        });

        // 5. Architecture Modals Logic
        const triggers = document.querySelectorAll('.arch-trigger');
        const closeButtons = document.querySelectorAll('.close-btn');
        const modals = document.querySelectorAll('.modal-backdrop');

        triggers.forEach(trigger => {
            trigger.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent bubbling
                const targetId = trigger.getAttribute('data-target');
                const modal = document.getElementById(targetId);
                if (modal) {
                    modal.classList.add('active');
                    document.body.style.overflow = 'hidden'; // Prevent scrolling
                }
            });
        });

        closeButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const modal = btn.closest('.modal-backdrop');
                modal.classList.remove('active');
                document.body.style.overflow = '';
            });
        });

        // Close on click outside
        modals.forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        });

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                modals.forEach(modal => {
                    modal.classList.remove('active');
                });
                document.body.style.overflow = '';
            }
        });

        // 6. Matrix Rain on Sides
        const matrixCanvas = document.createElement('canvas');
        matrixCanvas.id = 'matrix-canvas';
        document.body.appendChild(matrixCanvas);
        const ctx = matrixCanvas.getContext('2d');

        let width = matrixCanvas.width = window.innerWidth;
        let height = matrixCanvas.height = window.innerHeight;
        // Column width 20px
        let cols = Math.floor(width / 20);
        let drops = [];
        let columnState = []; // Track phrase state for each column

        function initDrops() {
            cols = Math.floor(width / 20);
            drops = [];
            columnState = [];
            for (let i = 0; i < cols; i++) {
                // Only active on sides (10% width)
                if (i < cols * 0.1 || i > cols * 0.9) {
                    drops[i] = Math.random() * -100;
                } else {
                    drops[i] = null;
                }
                columnState[i] = null;
            }
        }
        initDrops();

        const chars = "0123456789ABCDEF";
        const phrases = ["西山居SSG中台牛逼", "指导", "龙哥", "史蒂芬猴", "新哥", "震宇", "成哥", "明敏", "嘉俊", "秋哥", "祥武", "达和", "坤泽", "志敏", "骏浩", "鸿宝", "景宇", "荣华", "子尧"];

        let lastDrawTime = 0;
        const frameInterval = 50; // Slow down speed (approx 20fps)

        function drawMatrix(timestamp) {
            if (!timestamp) timestamp = 0;
            if (timestamp - lastDrawTime < frameInterval) {
                requestAnimationFrame(drawMatrix);
                return;
            }
            lastDrawTime = timestamp;

            // Fade effect - slightly darker for better contrast
            ctx.fillStyle = 'rgba(0, 0, 0, 0.08)';
            ctx.fillRect(0, 0, width, height);

            // Base font setting
            ctx.font = '16px "VT323", monospace';

            for (let i = 0; i < drops.length; i++) {
                if (drops[i] === null) continue;

                let text;
                let isSpecial = false;

                // Check if we are in a phrase mode
                if (columnState[i]) {
                    const state = columnState[i];
                    text = state.phrase[state.index];
                    state.index++;
                    if (state.index >= state.phrase.length) {
                        columnState[i] = null; // Phrase finished
                    }
                    isSpecial = true;
                } else {
                    // Random character
                    text = chars[Math.floor(Math.random() * chars.length)];

                    // Small chance to start a phrase
                    if (Math.random() < 0.005) {
                        const p = phrases[Math.floor(Math.random() * phrases.length)];
                        columnState[i] = { phrase: p, index: 0 };
                        text = p[0];
                        columnState[i].index = 1;
                        isSpecial = true;
                    }
                }

                if (isSpecial) {
                    // Highlight style for special phrases
                    ctx.fillStyle = '#FFFFFF'; // Bright white
                    ctx.shadowBlur = 8;
                    ctx.shadowColor = '#00FF00'; // Green glow
                    ctx.font = 'bold 20px "VT323", monospace'; // Larger and bold
                } else {
                    // Retro tech style for normal characters
                    // Varying green opacity for "glitch" feel
                    const opacity = Math.random() > 0.9 ? 1 : 0.7;
                    ctx.fillStyle = `rgba(0, 255, 0, ${opacity})`;
                    ctx.shadowBlur = 0;
                    ctx.font = '16px "VT323", monospace';
                }

                ctx.fillText(text, i * 20, drops[i] * 20);

                // Reset shadow
                ctx.shadowBlur = 0;

                if (drops[i] * 20 > height && Math.random() > 0.975) {
                    drops[i] = 0;
                    columnState[i] = null; // Reset state on loop
                }
                drops[i]++;
            }
            requestAnimationFrame(drawMatrix);
        }

        window.addEventListener('resize', () => {
            width = matrixCanvas.width = window.innerWidth;
            height = matrixCanvas.height = window.innerHeight;
            initDrops();
        });

        requestAnimationFrame(drawMatrix);

        // 7. Interactive Chip Rotation (DISABLED FOR FLAT VIEW)
        /*
        const chipStack = document.getElementById('interactive-chip');
        if (chipStack) {
            let isDragging = false;
            let startX, startY;
            let currentRotX = 60;
            let currentRotZ = 45;
 
            let isClick = true; // Flag to distinguish click from drag
            let isInteractiveTarget = false;
 
            chipStack.addEventListener('mousedown', (e) => {
                // Check if clicking on an interactive block
                if (e.target.closest('.arch-block')) {
                    isInteractiveTarget = true;
                } else {
                    isInteractiveTarget = false;
                }
 
                isDragging = true;
                isClick = true; // Assume click initially
                startX = e.clientX;
                startY = e.clientY;
                chipStack.style.cursor = 'grabbing';
                // Prevent default drag behavior
                e.preventDefault();
            });
 
            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
 
                const deltaX = e.clientX - startX;
                const deltaY = e.clientY - startY;
 
                // If moved significantly, it's a drag, not a click
                if (Math.abs(deltaX) > 5 || Math.abs(deltaY) > 5) {
                    isClick = false;
                }
 
                // Adjust sensitivity
                currentRotZ += deltaX * 0.5;
                currentRotX -= deltaY * 0.5;
 
                // Only update transform if NOT zoomed (or handle zoom rotation differently)
                if (!chipStack.classList.contains('zoomed')) {
                    chipStack.style.transform = `rotateX(${currentRotX}deg) rotateZ(${currentRotZ}deg)`;
                }
 
                startX = e.clientX;
                startY = e.clientY;
            });
 
            document.addEventListener('mouseup', () => {
                if (isDragging) {
                    isDragging = false;
                    chipStack.style.cursor = 'grab';
 
                    if (isClick && !isInteractiveTarget) {
                        // Toggle Zoom only if NOT clicking an interactive block
                        chipStack.classList.toggle('zoomed');
                        if (chipStack.classList.contains('zoomed')) {
                            // Reset rotation visually via CSS !important, but maybe we want to reset internal state?
                            // For now, CSS handles the visual reset.
                        } else {
                            // Restore rotation
                            chipStack.style.transform = `rotateX(${currentRotX}deg) rotateZ(${currentRotZ}deg)`;
                        }
                    }
                }
            });
        }
        */
    </script>
    <!-- Detail Overlay -->
    <div id="detail-overlay">
        <div class="detail-content">
            <div class="detail-header">
                <div class="detail-title" id="detail-title">组件详情</div>
                <div class="zoom-controls">
                    <div class="zoom-btn" onclick="adjustZoom(0.1)">+</div>
                    <div class="zoom-btn" onclick="adjustZoom(-0.1)">-</div>
                </div>
                <button class="detail-close-btn" onclick="closeDetail()" title="关闭视图">
                    <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="3" fill="none"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="detail-viewport" id="detail-viewport">
                <div class="detail-scene" id="detail-scene">
                    <!-- CPU Detail View -->
                    <div class="detail-view-cpu" id="view-cpu">
                        <h3
                            style="color:var(--accent-cyan); border-bottom:1px solid var(--accent-cyan); margin-bottom: 15px;">
                            CPU 架构</h3>
                        <div class="cpu-core-container">
                            <div class="cpu-core">
                                <div class="core-title">核心 1 (高性能)</div>
                                <div class="cpu-control">控制单元 / 分支预测</div>
                                <div class="cpu-exec-group">
                                    <div class="cpu-unit alu">ALU (整数)</div>
                                    <div class="cpu-unit fpu">FPU (浮点)</div>
                                </div>
                                <div class="cpu-cache-group">
                                    <div class="cpu-cache l1">L1 Cache</div>
                                    <div class="cpu-cache l2">L2 Cache</div>
                                </div>
                            </div>
                            <div class="cpu-core">
                                <div class="core-title">核心 2 (高性能)</div>
                                <div class="cpu-control" style="animation-delay: 0.5s;">控制单元 / 分支预测</div>
                                <div class="cpu-exec-group">
                                    <div class="cpu-unit alu" style="animation-delay: 0.7s;">ALU (整数)</div>
                                    <div class="cpu-unit fpu" style="animation-delay: 0.9s;">FPU (浮点)</div>
                                </div>
                                <div class="cpu-cache-group">
                                    <div class="cpu-cache l1" style="animation-delay: 1.1s;">L1 Cache</div>
                                    <div class="cpu-cache l2" style="animation-delay: 1.3s;">L2 Cache</div>
                                </div>
                            </div>
                        </div>

                        <!-- Bus Connections -->
                        <div class="cpu-bus-container">
                            <div class="bus-line-group" id="bus-group-1">
                                <div class="bus-line"></div>
                                <div class="bus-packet-down"></div>
                                <div class="bus-packet-up"></div>
                            </div>
                            <div class="bus-line-group" id="bus-group-2">
                                <div class="bus-line"></div>
                                <div class="bus-packet-down"></div>
                                <div class="bus-packet-up"></div>
                            </div>
                        </div>

                        <div class="cpu-l3-cache" id="cpu-l3">
                            <div class="l3-label">共享 L3 缓存 / 互连总线</div>
                            <div class="l3-grid"></div>
                        </div>
                    </div>

                    <!-- GPU Detail View -->
                    <div class="detail-view-gpu" id="view-gpu">
                        <h3
                            style="color:var(--accent-red); border-bottom:1px solid var(--accent-red); margin-bottom: 15px;">
                            GPU 架构</h3>
                        <div class="gpu-grid-container">
                            <!-- Generate many cores with random delays -->
                            <script>
                                for (let i = 0; i < 32; i++) {
                                    const delay = Math.random() * 2;
                                    document.write(`<div class="gpu-core-unit" style="animation: gpu-flicker 2s infinite ${delay}s;"></div>`);
                                }
                            </script>
                        </div>
                        <div
                            style="margin-top:15px; text-align:center; color:var(--accent-red); font-weight:bold; text-shadow: 0 0 5px var(--accent-red);">
                            大规模并行处理单元 (32/32 激活)
                        </div>
                    </div>

                    <!-- NPU Detail View -->
                    <div class="detail-view-npu" id="view-npu">
                        <h3
                            style="color:var(--accent-green); border-bottom:1px solid var(--accent-green); margin-bottom: 15px;">
                            NPU 架构</h3>
                        <div class="npu-container">
                            <div class="npu-buffer">权重缓冲</div>
                            <div class="npu-array">
                                <!-- Systolic Array Visual with Wave Animation -->
                                <script>
                                    for (let i = 0; i < 100; i++) {
                                        // Calculate diagonal delay for wave effect
                                        const row = Math.floor(i / 10);
                                        const col = i % 10;
                                        const delay = (row + col) * 0.1;
                                        document.write(`<div class="npu-node" style="animation: npu-pulse 2s infinite ${delay}s;"></div>`);
                                    }
                                </script>
                            </div>
                            <div class="npu-buffer">激活函数</div>
                        </div>
                        <div
                            style="margin-top:15px; text-align:center; color:var(--accent-green); font-weight:bold; text-shadow: 0 0 5px var(--accent-green);">
                            脉动阵列矩阵乘法器
                        </div>
                    </div>
                </div>
            </div>

            <div class="detail-info-panel">
                <div id="detail-desc">选择一个组件以查看详情。</div>
                <div style="margin-top:5px; font-size:0.8rem; color:#888;">操作：滚动缩放 • 拖拽平移</div>
            </div>
        </div>
    </div>

    <script>
        // --- Detail View Logic ---
        const overlay = document.getElementById('detail-overlay');
        const detailTitle = document.getElementById('detail-title');
        const detailDesc = document.getElementById('detail-desc');
        const detailScene = document.getElementById('detail-scene');
        const viewport = document.getElementById('detail-viewport');

        let currentZoom = 1;
        let currentPanX = 0;
        let currentPanY = 0;
        let isPanning = false;
        let lastMouseX = 0;
        let lastMouseY = 0;

        function openDetail(type) {
            // Stop propagation if called from click event
            if (event) event.stopPropagation();

            overlay.classList.add('active');
            const detailContent = document.querySelector('.detail-content');

            // Hide all views first
            document.querySelectorAll('[id^="view-"]').forEach(el => el.style.display = 'none');

            // Reset Transform
            currentZoom = 1;
            currentPanX = 0;
            currentPanY = 0;
            updateTransform();

            if (type === 'cpu') {
                document.getElementById('view-cpu').style.display = 'block';
                detailTitle.innerText = "CPU: 串行处理";
                detailTitle.style.color = "var(--accent-cyan)";

                // Update Modal Style for CPU
                detailContent.style.borderColor = "var(--accent-cyan)";
                detailContent.style.boxShadow = "0 0 15px var(--accent-cyan), 0 0 30px rgba(0, 255, 255, 0.2), inset 0 0 100px rgba(0, 0, 0, 0.9)";

                detailDesc.innerHTML = "<strong>中央处理器 (CPU)</strong> 专为复杂的串行任务设计。它拥有大容量缓存 (L1/L2/L3) 和强大的 ALU/FPU，能够以极低的延迟处理分支预测和多样化的指令集。";

                // Initialize CPU Interactions
                initCpuInteractions();
            } else if (type === 'gpu') {
                document.getElementById('view-gpu').style.display = 'grid'; // Grid for GPU
                detailTitle.innerText = "GPU: 并行处理";
                detailTitle.style.color = "var(--accent-red)";

                // Update Modal Style for GPU
                detailContent.style.borderColor = "var(--accent-red)";
                detailContent.style.boxShadow = "0 0 15px var(--accent-red), 0 0 30px rgba(255, 0, 0, 0.2), inset 0 0 100px rgba(0, 0, 0, 0.9)";

                detailDesc.innerHTML = "<strong>图形处理器 (GPU)</strong> 由成千上万个小型核心组成，专为大规模并行计算设计。非常适合渲染和可以分解为同时操作 (SIMD) 的任务。";
            } else if (type === 'npu') {
                document.getElementById('view-npu').style.display = 'block';
                detailTitle.innerText = "NPU: 张量处理";
                detailTitle.style.color = "var(--accent-green)";

                // Update Modal Style for NPU
                detailContent.style.borderColor = "var(--accent-green)";
                detailContent.style.boxShadow = "0 0 15px var(--accent-green), 0 0 30px rgba(0, 255, 0, 0.2), inset 0 0 100px rgba(0, 0, 0, 0.9)";

                detailDesc.innerHTML = "<strong>神经网络处理器 (NPU)</strong> 是针对矩阵乘法优化的专用架构。它采用脉动阵列设计，使数据在处理单元之间流动，从而最大化 AI 推理的吞吐量。";
            }
        }

        function closeDetail() {
            overlay.classList.remove('active');
        }

        function updateTransform() {
            detailScene.style.transform = `translate(-50%, -50%) translate(${currentPanX}px, ${currentPanY}px) scale(${currentZoom})`;
        }

        function adjustZoom(delta) {
            currentZoom += delta;
            if (currentZoom < 0.5) currentZoom = 0.5;
            if (currentZoom > 5) currentZoom = 5;
            updateTransform();
        }

        // Scroll to Zoom
        viewport.addEventListener('wheel', (e) => {
            e.preventDefault();
            const zoomSpeed = 0.001;
            currentZoom += e.deltaY * -zoomSpeed;
            if (currentZoom < 0.5) currentZoom = 0.5;
            if (currentZoom > 5) currentZoom = 5;
            updateTransform();
        });

        // Drag to Pan
        viewport.addEventListener('mousedown', (e) => {
            isPanning = true;
            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
            viewport.style.cursor = 'grabbing';
        });

        window.addEventListener('mousemove', (e) => {
            if (!isPanning) return;
            const deltaX = e.clientX - lastMouseX;
            const deltaY = e.clientY - lastMouseY;

            // Adjust pan based on zoom level to keep feel consistent
            currentPanX += deltaX / currentZoom;
            currentPanY += deltaY / currentZoom;

            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
            updateTransform();
        });

        window.addEventListener('mouseup', () => {
            isPanning = false;
            viewport.style.cursor = 'grab';
        });

        // CPU Interaction Logic
        function initCpuInteractions() {
            const cores = document.querySelectorAll('.cpu-core');
            const l3 = document.getElementById('cpu-l3');
            const busGroups = document.querySelectorAll('.bus-line-group');

            // Core Hover -> Highlight Path to L3
            cores.forEach((core, index) => {
                core.addEventListener('mouseenter', () => {
                    // Highlight this core
                    core.classList.add('active');
                    // Highlight corresponding bus
                    if (busGroups[index]) {
                        busGroups[index].classList.add('active');
                        busGroups[index].classList.add('flow-down'); // Data flows down
                    }
                    // Highlight L3
                    l3.classList.add('active');
                    detailDesc.innerHTML = `<strong>核心 ${index + 1}</strong> 正在访问 <strong>L3 缓存</strong>。数据通过高速互连总线传输。`;
                });

                core.addEventListener('mouseleave', () => {
                    core.classList.remove('active');
                    if (busGroups[index]) {
                        busGroups[index].classList.remove('active');
                        busGroups[index].classList.remove('flow-down');
                    }
                    l3.classList.remove('active');
                    detailDesc.innerHTML = "<strong>中央处理器 (CPU)</strong> 专为复杂的串行任务设计。它拥有大容量缓存 (L1/L2/L3) 和强大的 ALU/FPU，能够以极低的延迟处理分支预测和多样化的指令集。";
                });
            });

            // L3 Hover -> Highlight All Cores
            l3.addEventListener('mouseenter', () => {
                l3.classList.add('active');
                cores.forEach(core => core.classList.add('active'));
                busGroups.forEach(bus => {
                    bus.classList.add('active');
                    bus.classList.add('flow-up'); // Data flows up (broadcast/snoop)
                });
                detailDesc.innerHTML = "<strong>共享 L3 缓存</strong> 协调所有核心之间的数据一致性，并作为通往主内存的高速桥梁。";
            });

            l3.addEventListener('mouseleave', () => {
                l3.classList.remove('active');
                cores.forEach(core => core.classList.remove('active'));
                busGroups.forEach(bus => {
                    bus.classList.remove('active');
                    bus.classList.remove('flow-up');
                });
                detailDesc.innerHTML = "<strong>中央处理器 (CPU)</strong> 专为复杂的串行任务设计。它拥有大容量缓存 (L1/L2/L3) 和强大的 ALU/FPU，能够以极低的延迟处理分支预测和多样化的指令集。";
            });
        }

        // --- Background Music Control ---
        const bgmAudio = document.getElementById('bgm-audio');
        const musicToggle = document.getElementById('music-toggle');
        const musicNext = document.getElementById('music-next');
        const musicIcon = document.getElementById('music-icon');
        const musicText = document.getElementById('music-text');

        // Playlist
        const playlist = [
            "music/Hans Zimmer - Opening Credits_L.ogg",
            "music/Hans Zimmer - Risen from Darkness_L.ogg"
        ];
        let currentTrackIndex = 0;

        // Set initial volume
        bgmAudio.volume = 0.4;

        // Update UI based on actual audio state
        function updateMusicUI() {
            if (!bgmAudio.paused) {
                musicToggle.classList.add('playing');
                musicIcon.innerText = "🔊";
                musicText.innerText = "BGM: ON";
            } else {
                musicToggle.classList.remove('playing');
                musicIcon.innerText = "🔇";
                musicText.innerText = "BGM: OFF";
            }
        }

        // Listen for state changes directly from the audio element
        bgmAudio.addEventListener('play', updateMusicUI);
        bgmAudio.addEventListener('pause', updateMusicUI);

        // Play Next Track
        function playNextTrack() {
            currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
            const nextTrack = playlist[currentTrackIndex];
            console.log("Switching to:", nextTrack);

            bgmAudio.src = nextTrack;
            bgmAudio.play().catch(e => {
                console.error("Play failed for", nextTrack, e);
            });
        }

        // Error handling
        bgmAudio.addEventListener('error', (e) => {
            console.error("Audio Error:", e);
            musicText.innerText = "BGM: ERR";
            // Auto skip to next song on error (e.g. .mgg format issue)
            console.log("Skipping to next track due to error...");
            setTimeout(() => playNextTrack(), 1000);
        });

        // Auto play next when ended
        bgmAudio.addEventListener('ended', () => {
            playNextTrack();
        });

        function toggleMusic(e) {
            // Prevent this click from triggering the document-level fallback
            if (e) e.stopPropagation();

            if (bgmAudio.paused) {
                const playPromise = bgmAudio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(e => {
                        console.error("Play failed:", e);
                        // Don't alert immediately, just log. User might be spamming click.
                    });
                }
            } else {
                bgmAudio.pause();
            }
        }

        // Bind click event
        musicToggle.addEventListener('click', toggleMusic);

        if (musicNext) {
            musicNext.addEventListener('click', (e) => {
                e.stopPropagation();
                playNextTrack();
            });
        }

        // Robust Autoplay Logic - DISABLED
        // window.addEventListener('load', () => {
        //     // 1. Try to play immediately
        //     const playPromise = bgmAudio.play();

        //     if (playPromise !== undefined) {
        //         playPromise.catch(error => {
        //             console.log("Autoplay prevented. Waiting for interaction.");

        //             // 2. Fallback: Play on first interaction
        //             const startAudio = () => {
        //                 bgmAudio.play().then(() => {
        //                     // Success
        //                     document.removeEventListener('click', startAudio);
        //                     document.removeEventListener('keydown', startAudio);
        //                 }).catch(err => {
        //                     console.log("Interaction play failed:", err);
        //                 });
        //             };

        //             document.addEventListener('click', startAudio);
        //             document.addEventListener('keydown', startAudio);
        //         });
        //     }
        // });

        // --- Da Vinci Cube Generation ---
        function createCube(x, y, z) {
            const cube = document.createElement('div');
            cube.className = 'd-cube';
            cube.style.setProperty('--x', x);
            cube.style.setProperty('--y', y);
            cube.style.setProperty('--z', z);
            cube.innerHTML = `
                <div class="d-face d-f-front"></div><div class="d-face d-f-back"></div>
                <div class="d-face d-f-right"></div><div class="d-face d-f-left"></div>
                <div class="d-face d-f-top"></div><div class="d-face d-f-bottom"></div>
            `;
            return cube;
        }

        function initDaVinciCubes() {
            const blueGrp = document.getElementById('d-grp-blue');
            const yellowGrp = document.getElementById('d-grp-yellow');
            const grayGrp = document.getElementById('d-grp-gray');
            const greenGrp = document.getElementById('d-grp-green');

            if (!blueGrp) return;

            // Blue (Left Wall): x=-3, y=-1..1, z=-1..1
            for (let y = -1; y <= 1; y++) {
                for (let z = -1; z <= 1; z++) {
                    blueGrp.appendChild(createCube(-3, y, z));
                }
            }

            // Yellow (Right Wall): x=3, y=-1..1, z=-1..1
            for (let y = -1; y <= 1; y++) {
                for (let z = -1; z <= 1; z++) {
                    yellowGrp.appendChild(createCube(3, y, z));
                }
            }

            // Gray (Center): x=-1..1, y=-1..1, z=-1..1
            for (let x = -1; x <= 1; x++) {
                for (let y = -1; y <= 1; y++) {
                    for (let z = -1; z <= 1; z++) {
                        grayGrp.appendChild(createCube(x, y, z));
                    }
                }
            }

            // Green (Bottom Floor): y=3, x=-1..1, z=-1..1
            for (let x = -1; x <= 1; x++) {
                for (let z = -1; z <= 1; z++) {
                    greenGrp.appendChild(createCube(x, 3, z));
                }
            }
        }

        // Run initialization
        initDaVinciCubes();

        // --- Author Glitch Effect ---
        function triggerGlitch() {
            const authorElement = document.querySelector('.author-glow');
            if (!authorElement) return;

            const originalText = "史蒂芬猴";
            // Mix of symbols and some block characters for "machine code" look
            const glitchChars = "!@#$%^&*()_+-=[]{}|;:,.<>?/█▓▒░";
            const duration = 300; // 0.3 second glitch
            const intervalTime = 50;

            let startTime = Date.now();

            authorElement.classList.add('glitch-effect');

            const interval = setInterval(() => {
                const elapsedTime = Date.now() - startTime;

                if (elapsedTime >= duration) {
                    clearInterval(interval);
                    authorElement.textContent = originalText;
                    authorElement.classList.remove('glitch-effect');
                } else {
                    let randomText = "";
                    // Keep length roughly same as original (4 chars)
                    for (let i = 0; i < 4; i++) {
                        randomText += glitchChars.charAt(Math.floor(Math.random() * glitchChars.length));
                    }
                    authorElement.textContent = randomText;
                }
            }, intervalTime);
        }

        // Trigger glitch randomly between 3 and 5 seconds
        function scheduleNextGlitch() {
            const delay = 3000 + Math.random() * 2000;
            setTimeout(() => {
                triggerGlitch();
                scheduleNextGlitch();
            }, delay);
        }

        // Start the glitch loop
        scheduleNextGlitch();

    </script>
</body>

</html>